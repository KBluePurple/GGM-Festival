(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))f(h);new MutationObserver(h=>{for(const d of h)if(d.type==="childList")for(const x of d.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&f(x)}).observe(document,{childList:!0,subtree:!0});function a(h){const d={};return h.integrity&&(d.integrity=h.integrity),h.referrerpolicy&&(d.referrerPolicy=h.referrerpolicy),h.crossorigin==="use-credentials"?d.credentials="include":h.crossorigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function f(h){if(h.ep)return;h.ep=!0;const d=a(h);fetch(h.href,d)}})();function je(){}function Be(o,s){for(const a in s)o[a]=s[a];return o}function Mo(o){return o()}function Ds(){return Object.create(null)}function an(o){o.forEach(Mo)}function Bo(o){return typeof o=="function"}function Nt(o,s){return o!=o?s==s:o!==s||o&&typeof o=="object"||typeof o=="function"}let Zi;function nr(o,s){return Zi||(Zi=document.createElement("a")),Zi.href=s,o===Zi.href}function rl(o){return Object.keys(o).length===0}function Po(o,...s){if(o==null)return je;const a=o.subscribe(...s);return a.unsubscribe?()=>a.unsubscribe():a}function sl(o){let s;return Po(o,a=>s=a)(),s}function ol(o,s,a){o.$$.on_destroy.push(Po(s,a))}function mn(o,s,a,f){if(o){const h=Lo(o,s,a,f);return o[0](h)}}function Lo(o,s,a,f){return o[1]&&f?Be(a.ctx.slice(),o[1](f(s))):a.ctx}function En(o,s,a,f){if(o[2]&&f){const h=o[2](f(a));if(s.dirty===void 0)return h;if(typeof h=="object"){const d=[],x=Math.max(s.dirty.length,h.length);for(let w=0;w<x;w+=1)d[w]=s.dirty[w]|h[w];return d}return s.dirty|h}return s.dirty}function An(o,s,a,f,h,d){if(h){const x=Lo(s,a,f,d);o.p(x,h)}}function Cn(o){if(o.ctx.length>32){const s=[],a=o.ctx.length/32;for(let f=0;f<a;f++)s[f]=-1;return s}return-1}function At(o){const s={};for(const a in o)a[0]!=="$"&&(s[a]=o[a]);return s}function ot(o,s){const a={};s=new Set(s);for(const f in o)!s.has(f)&&f[0]!=="$"&&(a[f]=o[f]);return a}function ll(o){const s={};for(const a in o)s[a]=!0;return s}function al(o,s,a){return o.set(a),s}let or=!1;function cl(){or=!0}function fl(){or=!1}function ul(o,s,a,f){for(;o<s;){const h=o+(s-o>>1);a(h)<=f?o=h+1:s=h}return o}function hl(o){if(o.hydrate_init)return;o.hydrate_init=!0;let s=o.childNodes;if(o.nodeName==="HEAD"){const A=[];for(let m=0;m<s.length;m++){const I=s[m];I.claim_order!==void 0&&A.push(I)}s=A}const a=new Int32Array(s.length+1),f=new Int32Array(s.length);a[0]=-1;let h=0;for(let A=0;A<s.length;A++){const m=s[A].claim_order,I=(h>0&&s[a[h]].claim_order<=m?h+1:ul(1,h,B=>s[a[B]].claim_order,m))-1;f[A]=a[I]+1;const M=I+1;a[M]=A,h=Math.max(M,h)}const d=[],x=[];let w=s.length-1;for(let A=a[h]+1;A!=0;A=f[A-1]){for(d.push(s[A-1]);w>=A;w--)x.push(s[w]);w--}for(;w>=0;w--)x.push(s[w]);d.reverse(),x.sort((A,m)=>A.claim_order-m.claim_order);for(let A=0,m=0;A<x.length;A++){for(;m<d.length&&x[A].claim_order>=d[m].claim_order;)m++;const I=m<d.length?d[m]:null;o.insertBefore(x[A],I)}}function X(o,s){if(or){for(hl(o),(o.actual_end_child===void 0||o.actual_end_child!==null&&o.actual_end_child.parentNode!==o)&&(o.actual_end_child=o.firstChild);o.actual_end_child!==null&&o.actual_end_child.claim_order===void 0;)o.actual_end_child=o.actual_end_child.nextSibling;s!==o.actual_end_child?(s.claim_order!==void 0||s.parentNode!==o)&&o.insertBefore(s,o.actual_end_child):o.actual_end_child=s.nextSibling}else(s.parentNode!==o||s.nextSibling!==null)&&o.appendChild(s)}function _e(o,s,a){or&&!a?X(o,s):(s.parentNode!==o||s.nextSibling!=a)&&o.insertBefore(s,a||null)}function F(o){o.parentNode&&o.parentNode.removeChild(o)}function $r(o,s){for(let a=0;a<o.length;a+=1)o[a]&&o[a].d(s)}function xe(o){return document.createElement(o)}function Ze(o){return document.createElementNS("http://www.w3.org/2000/svg",o)}function Re(o){return document.createTextNode(o)}function Se(){return Re(" ")}function _n(){return Re("")}function Le(o,s,a,f){return o.addEventListener(s,a,f),()=>o.removeEventListener(s,a,f)}function j(o,s,a){a==null?o.removeAttribute(s):o.getAttribute(s)!==a&&o.setAttribute(s,a)}function Kt(o,s){const a=Object.getOwnPropertyDescriptors(o.__proto__);for(const f in s)s[f]==null?o.removeAttribute(f):f==="style"?o.style.cssText=s[f]:f==="__value"?o.value=o[f]=s[f]:a[f]&&a[f].set?o[f]=s[f]:j(o,f,s[f])}function qt(o,s){for(const a in s)j(o,a,s[a])}function ee(o){return Array.from(o.childNodes)}function dl(o){o.claim_info===void 0&&(o.claim_info={last_index:0,total_claimed:0})}function ko(o,s,a,f,h=!1){dl(o);const d=(()=>{for(let x=o.claim_info.last_index;x<o.length;x++){const w=o[x];if(s(w)){const A=a(w);return A===void 0?o.splice(x,1):o[x]=A,h||(o.claim_info.last_index=x),w}}for(let x=o.claim_info.last_index-1;x>=0;x--){const w=o[x];if(s(w)){const A=a(w);return A===void 0?o.splice(x,1):o[x]=A,h?A===void 0&&o.claim_info.last_index--:o.claim_info.last_index=x,w}}return f()})();return d.claim_order=o.claim_info.total_claimed,o.claim_info.total_claimed+=1,d}function vo(o,s,a,f){return ko(o,h=>h.nodeName===s,h=>{const d=[];for(let x=0;x<h.attributes.length;x++){const w=h.attributes[x];a[w.name]||d.push(w.name)}d.forEach(x=>h.removeAttribute(x))},()=>f(s))}function we(o,s,a){return vo(o,s,a,xe)}function Je(o,s,a){return vo(o,s,a,Ze)}function De(o,s){return ko(o,a=>a.nodeType===3,a=>{const f=""+s;if(a.data.startsWith(f)){if(a.data.length!==f.length)return a.splitText(f.length)}else a.data=f},()=>Re(s),!0)}function Ne(o){return De(o," ")}function rt(o,s){s=""+s,o.wholeText!==s&&(o.data=s)}function ae(o,s,a){o.classList[a?"add":"remove"](s)}function gl(o,s,{bubbles:a=!1,cancelable:f=!1}={}){const h=document.createEvent("CustomEvent");return h.initCustomEvent(o,a,f,s),h}function xl(o,s){const a=[];let f=0;for(const h of s.childNodes)if(h.nodeType===8){const d=h.textContent.trim();d===`HEAD_${o}_END`?(f-=1,a.push(h)):d===`HEAD_${o}_START`&&(f+=1,a.push(h))}else f>0&&a.push(h);return a}function vn(o,s){return new o(s)}let Di;function Ri(o){Di=o}function lr(){if(!Di)throw new Error("Function called outside component initialization");return Di}function es(o){lr().$$.on_mount.push(o)}function wl(o){lr().$$.after_update.push(o)}function Fo(){const o=lr();return(s,a,{cancelable:f=!1}={})=>{const h=o.$$.callbacks[s];if(h){const d=gl(s,a,{cancelable:f});return h.slice().forEach(x=>{x.call(o,d)}),!d.defaultPrevented}return!0}}function ml(o){return lr().$$.context.get(o)}function He(o,s){const a=o.$$.callbacks[s.type];a&&a.slice().forEach(f=>f.call(this,s))}const Si=[],bn=[],Qi=[],Hr=[],El=Promise.resolve();let Gr=!1;function Al(){Gr||(Gr=!0,El.then(Vo))}function zr(o){Qi.push(o)}function Uo(o){Hr.push(o)}const Br=new Set;let Ki=0;function Vo(){const o=Di;do{for(;Ki<Si.length;){const s=Si[Ki];Ki++,Ri(s),Cl(s.$$)}for(Ri(null),Si.length=0,Ki=0;bn.length;)bn.pop()();for(let s=0;s<Qi.length;s+=1){const a=Qi[s];Br.has(a)||(Br.add(a),a())}Qi.length=0}while(Si.length);for(;Hr.length;)Hr.pop()();Gr=!1,Br.clear(),Ri(o)}function Cl(o){if(o.fragment!==null){o.update(),an(o.before_update);const s=o.dirty;o.dirty=[-1],o.fragment&&o.fragment.p(o.ctx,s),o.after_update.forEach(zr)}}const $i=new Set;let Zn;function Vt(){Zn={r:0,c:[],p:Zn}}function Ht(){Zn.r||an(Zn.c),Zn=Zn.p}function me(o,s){o&&o.i&&($i.delete(o),o.i(s))}function Ie(o,s,a,f){if(o&&o.o){if($i.has(o))return;$i.add(o),Zn.c.push(()=>{$i.delete(o),f&&(a&&o.d(1),f())}),o.o(s)}else f&&f()}const bl=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function Gt(o,s){const a={},f={},h={$$scope:1};let d=o.length;for(;d--;){const x=o[d],w=s[d];if(w){for(const A in x)A in w||(f[A]=1);for(const A in w)h[A]||(a[A]=w[A],h[A]=1);o[d]=w}else for(const A in x)h[A]=1}for(const x in f)x in a||(a[x]=void 0);return a}function _l(o){return typeof o=="object"&&o!==null?o:{}}function Ho(o,s,a){const f=o.$$.props[s];f!==void 0&&(o.$$.bound[f]=a,a(o.$$.ctx[f]))}function gt(o){o&&o.c()}function St(o,s){o&&o.l(s)}function at(o,s,a,f){const{fragment:h,after_update:d}=o.$$;h&&h.m(s,a),f||zr(()=>{const x=o.$$.on_mount.map(Mo).filter(Bo);o.$$.on_destroy?o.$$.on_destroy.push(...x):an(x),o.$$.on_mount=[]}),d.forEach(zr)}function ct(o,s){const a=o.$$;a.fragment!==null&&(an(a.on_destroy),a.fragment&&a.fragment.d(s),a.on_destroy=a.fragment=null,a.ctx=[])}function Il(o,s){o.$$.dirty[0]===-1&&(Si.push(o),Al(),o.$$.dirty.fill(0)),o.$$.dirty[s/31|0]|=1<<s%31}function Bt(o,s,a,f,h,d,x,w=[-1]){const A=Di;Ri(o);const m=o.$$={fragment:null,ctx:[],props:d,update:je,not_equal:h,bound:Ds(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(s.context||(A?A.$$.context:[])),callbacks:Ds(),dirty:w,skip_bound:!1,root:s.target||A.$$.root};x&&x(m.root);let I=!1;if(m.ctx=a?a(o,s.props||{},(M,B,...R)=>{const y=R.length?R[0]:B;return m.ctx&&h(m.ctx[M],m.ctx[M]=y)&&(!m.skip_bound&&m.bound[M]&&m.bound[M](y),I&&Il(o,M)),B}):[],m.update(),I=!0,an(m.before_update),m.fragment=f?f(m.ctx):!1,s.target){if(s.hydrate){cl();const M=ee(s.target);m.fragment&&m.fragment.l(M),M.forEach(F)}else m.fragment&&m.fragment.c();s.intro&&me(o.$$.fragment),at(o,s.target,s.anchor,s.customElement),fl(),Vo()}Ri(A)}class Pt{$destroy(){ct(this,1),this.$destroy=je}$on(s,a){if(!Bo(a))return je;const f=this.$$.callbacks[s]||(this.$$.callbacks[s]=[]);return f.push(a),()=>{const h=f.indexOf(a);h!==-1&&f.splice(h,1)}}$set(s){this.$$set&&!rl(s)&&(this.$$.skip_bound=!0,this.$$set(s),this.$$.skip_bound=!1)}}function pl(o){let s,a,f;return{c(){s=xe("header"),a=xe("p"),f=Re("GGM Club"),this.h()},l(h){s=we(h,"HEADER",{class:!0});var d=ee(s);a=we(d,"P",{class:!0});var x=ee(a);f=De(x,"GGM Club"),x.forEach(F),d.forEach(F),this.h()},h(){j(a,"class","svelte-15rzigo"),j(s,"class","svelte-15rzigo")},m(h,d){_e(h,s,d),X(s,a),X(a,f)},p:je,i:je,o:je,d(h){h&&F(s)}}}class Tl extends Pt{constructor(s){super(),Bt(this,s,null,pl,Nt,{})}}function yl(o){let s,a,f,h,d;return{c(){s=xe("footer"),a=xe("p"),f=xe("span"),h=Re("\uBB38\uC758: "),d=Re("BluePurple\uBE14\uD37C\u0CA3#5760"),this.h()},l(x){s=we(x,"FOOTER",{class:!0});var w=ee(s);a=we(w,"P",{class:!0});var A=ee(a);f=we(A,"SPAN",{class:!0});var m=ee(f);h=De(m,"\uBB38\uC758: "),m.forEach(F),d=De(A,"BluePurple\uBE14\uD37C\u0CA3#5760"),A.forEach(F),w.forEach(F),this.h()},h(){j(f,"class","contact svelte-1w5hjf1"),j(a,"class","svelte-1w5hjf1"),j(s,"class","svelte-1w5hjf1")},m(x,w){_e(x,s,w),X(s,a),X(a,f),X(f,h),X(a,d)},p:je,i:je,o:je,d(x){x&&F(s)}}}class Sl extends Pt{constructor(s){super(),Bt(this,s,null,yl,Nt,{})}}const ai=[];function Go(o,s=je){let a;const f=new Set;function h(w){if(Nt(o,w)&&(o=w,a)){const A=!ai.length;for(const m of f)m[1](),ai.push(m,o);if(A){for(let m=0;m<ai.length;m+=2)ai[m][0](ai[m+1]);ai.length=0}}}function d(w){h(w(o))}function x(w,A=je){const m=[w,A];return f.add(m),f.size===1&&(a=s(h)||je),w(o),()=>{f.delete(m),f.size===0&&(a(),a=null)}}return{set:h,update:d,subscribe:x}}function Nl(o){let s,a,f,h=[o[2]],d={};for(let x=0;x<h.length;x+=1)d=Be(d,h[x]);return{c(){s=xe("div"),this.h()},l(x){s=we(x,"DIV",{}),ee(s).forEach(F),this.h()},h(){Kt(s,d),ae(s,"bx--skeleton",!0),ae(s,"bx--btn",!0),ae(s,"bx--btn--field",o[1]==="field"),ae(s,"bx--btn--sm",o[1]==="small"),ae(s,"bx--btn--lg",o[1]==="lg"),ae(s,"bx--btn--xl",o[1]==="xl")},m(x,w){_e(x,s,w),a||(f=[Le(s,"click",o[7]),Le(s,"mouseover",o[8]),Le(s,"mouseenter",o[9]),Le(s,"mouseleave",o[10])],a=!0)},p(x,w){Kt(s,d=Gt(h,[w&4&&x[2]])),ae(s,"bx--skeleton",!0),ae(s,"bx--btn",!0),ae(s,"bx--btn--field",x[1]==="field"),ae(s,"bx--btn--sm",x[1]==="small"),ae(s,"bx--btn--lg",x[1]==="lg"),ae(s,"bx--btn--xl",x[1]==="xl")},d(x){x&&F(s),a=!1,an(f)}}}function Rl(o){let s,a="",f,h,d,x,w=[{href:o[0]},{rel:h=o[2].target==="_blank"?"noopener noreferrer":void 0},{role:"button"},o[2]],A={};for(let m=0;m<w.length;m+=1)A=Be(A,w[m]);return{c(){s=xe("a"),f=Re(a),this.h()},l(m){s=we(m,"A",{href:!0,rel:!0,role:!0});var I=ee(s);f=De(I,a),I.forEach(F),this.h()},h(){Kt(s,A),ae(s,"bx--skeleton",!0),ae(s,"bx--btn",!0),ae(s,"bx--btn--field",o[1]==="field"),ae(s,"bx--btn--sm",o[1]==="small"),ae(s,"bx--btn--lg",o[1]==="lg"),ae(s,"bx--btn--xl",o[1]==="xl")},m(m,I){_e(m,s,I),X(s,f),d||(x=[Le(s,"click",o[3]),Le(s,"mouseover",o[4]),Le(s,"mouseenter",o[5]),Le(s,"mouseleave",o[6])],d=!0)},p(m,I){Kt(s,A=Gt(w,[I&1&&{href:m[0]},I&4&&h!==(h=m[2].target==="_blank"?"noopener noreferrer":void 0)&&{rel:h},{role:"button"},I&4&&m[2]])),ae(s,"bx--skeleton",!0),ae(s,"bx--btn",!0),ae(s,"bx--btn--field",m[1]==="field"),ae(s,"bx--btn--sm",m[1]==="small"),ae(s,"bx--btn--lg",m[1]==="lg"),ae(s,"bx--btn--xl",m[1]==="xl")},d(m){m&&F(s),d=!1,an(x)}}}function Ol(o){let s;function a(d,x){return d[0]?Rl:Nl}let f=a(o),h=f(o);return{c(){h.c(),s=_n()},l(d){h.l(d),s=_n()},m(d,x){h.m(d,x),_e(d,s,x)},p(d,[x]){f===(f=a(d))&&h?h.p(d,x):(h.d(1),h=f(d),h&&(h.c(),h.m(s.parentNode,s)))},i:je,o:je,d(d){h.d(d),d&&F(s)}}}function Dl(o,s,a){const f=["href","size"];let h=ot(s,f),{href:d=void 0}=s,{size:x="default"}=s;function w(D){He.call(this,o,D)}function A(D){He.call(this,o,D)}function m(D){He.call(this,o,D)}function I(D){He.call(this,o,D)}function M(D){He.call(this,o,D)}function B(D){He.call(this,o,D)}function R(D){He.call(this,o,D)}function y(D){He.call(this,o,D)}return o.$$set=D=>{s=Be(Be({},s),At(D)),a(2,h=ot(s,f)),"href"in D&&a(0,d=D.href),"size"in D&&a(1,x=D.size)},[d,x,h,w,A,m,I,M,B,R,y]}class Ml extends Pt{constructor(s){super(),Bt(this,s,Dl,Ol,Nt,{href:0,size:1})}}const Bl=Ml,Pl=o=>({props:o[0]&512}),Ms=o=>({props:o[9]});function Ll(o){let s,a,f,h,d,x,w=o[8]&&Bs(o);const A=o[19].default,m=mn(A,o,o[18],null);var I=o[2];function M(y){return{props:{"aria-hidden":"true",class:"bx--btn__icon",style:y[8]?"margin-left: 0":void 0,"aria-label":y[3]}}}I&&(f=vn(I,M(o)));let B=[o[9]],R={};for(let y=0;y<B.length;y+=1)R=Be(R,B[y]);return{c(){s=xe("button"),w&&w.c(),a=Se(),m&&m.c(),f&&gt(f.$$.fragment),this.h()},l(y){s=we(y,"BUTTON",{});var D=ee(s);w&&w.l(D),a=Ne(D),m&&m.l(D),f&&St(f.$$.fragment,D),D.forEach(F),this.h()},h(){Kt(s,R)},m(y,D){_e(y,s,D),w&&w.m(s,null),X(s,a),m&&m.m(s,null),f&&at(f,s,null),s.autofocus&&s.focus(),o[33](s),h=!0,d||(x=[Le(s,"click",o[24]),Le(s,"mouseover",o[25]),Le(s,"mouseenter",o[26]),Le(s,"mouseleave",o[27])],d=!0)},p(y,D){y[8]?w?w.p(y,D):(w=Bs(y),w.c(),w.m(s,a)):w&&(w.d(1),w=null),m&&m.p&&(!h||D[0]&262144)&&An(m,A,y,y[18],h?En(A,y[18],D,null):Cn(y[18]),null);const se={};if(D[0]&256&&(se.style=y[8]?"margin-left: 0":void 0),D[0]&8&&(se["aria-label"]=y[3]),I!==(I=y[2])){if(f){Vt();const V=f;Ie(V.$$.fragment,1,0,()=>{ct(V,1)}),Ht()}I?(f=vn(I,M(y)),gt(f.$$.fragment),me(f.$$.fragment,1),at(f,s,null)):f=null}else I&&f.$set(se);Kt(s,R=Gt(B,[D[0]&512&&y[9]]))},i(y){h||(me(m,y),f&&me(f.$$.fragment,y),h=!0)},o(y){Ie(m,y),f&&Ie(f.$$.fragment,y),h=!1},d(y){y&&F(s),w&&w.d(),m&&m.d(y),f&&ct(f),o[33](null),d=!1,an(x)}}}function kl(o){let s,a,f,h,d,x,w=o[8]&&Ps(o);const A=o[19].default,m=mn(A,o,o[18],null);var I=o[2];function M(y){return{props:{"aria-hidden":"true",class:"bx--btn__icon","aria-label":y[3]}}}I&&(f=vn(I,M(o)));let B=[o[9]],R={};for(let y=0;y<B.length;y+=1)R=Be(R,B[y]);return{c(){s=xe("a"),w&&w.c(),a=Se(),m&&m.c(),f&&gt(f.$$.fragment),this.h()},l(y){s=we(y,"A",{});var D=ee(s);w&&w.l(D),a=Ne(D),m&&m.l(D),f&&St(f.$$.fragment,D),D.forEach(F),this.h()},h(){Kt(s,R)},m(y,D){_e(y,s,D),w&&w.m(s,null),X(s,a),m&&m.m(s,null),f&&at(f,s,null),o[32](s),h=!0,d||(x=[Le(s,"click",o[20]),Le(s,"mouseover",o[21]),Le(s,"mouseenter",o[22]),Le(s,"mouseleave",o[23])],d=!0)},p(y,D){y[8]?w?w.p(y,D):(w=Ps(y),w.c(),w.m(s,a)):w&&(w.d(1),w=null),m&&m.p&&(!h||D[0]&262144)&&An(m,A,y,y[18],h?En(A,y[18],D,null):Cn(y[18]),null);const se={};if(D[0]&8&&(se["aria-label"]=y[3]),I!==(I=y[2])){if(f){Vt();const V=f;Ie(V.$$.fragment,1,0,()=>{ct(V,1)}),Ht()}I?(f=vn(I,M(y)),gt(f.$$.fragment),me(f.$$.fragment,1),at(f,s,null)):f=null}else I&&f.$set(se);Kt(s,R=Gt(B,[D[0]&512&&y[9]]))},i(y){h||(me(m,y),f&&me(f.$$.fragment,y),h=!0)},o(y){Ie(m,y),f&&Ie(f.$$.fragment,y),h=!1},d(y){y&&F(s),w&&w.d(),m&&m.d(y),f&&ct(f),o[32](null),d=!1,an(x)}}}function vl(o){let s;const a=o[19].default,f=mn(a,o,o[18],Ms);return{c(){f&&f.c()},l(h){f&&f.l(h)},m(h,d){f&&f.m(h,d),s=!0},p(h,d){f&&f.p&&(!s||d[0]&262656)&&An(f,a,h,h[18],s?En(a,h[18],d,Pl):Cn(h[18]),Ms)},i(h){s||(me(f,h),s=!0)},o(h){Ie(f,h),s=!1},d(h){f&&f.d(h)}}}function Fl(o){let s,a;const f=[{href:o[7]},{size:o[1]},o[10],{style:o[8]&&"width: 3rem;"}];let h={};for(let d=0;d<f.length;d+=1)h=Be(h,f[d]);return s=new Bl({props:h}),s.$on("click",o[28]),s.$on("mouseover",o[29]),s.$on("mouseenter",o[30]),s.$on("mouseleave",o[31]),{c(){gt(s.$$.fragment)},l(d){St(s.$$.fragment,d)},m(d,x){at(s,d,x),a=!0},p(d,x){const w=x[0]&1410?Gt(f,[x[0]&128&&{href:d[7]},x[0]&2&&{size:d[1]},x[0]&1024&&_l(d[10]),x[0]&256&&{style:d[8]&&"width: 3rem;"}]):{};s.$set(w)},i(d){a||(me(s.$$.fragment,d),a=!0)},o(d){Ie(s.$$.fragment,d),a=!1},d(d){ct(s,d)}}}function Bs(o){let s,a;return{c(){s=xe("span"),a=Re(o[3]),this.h()},l(f){s=we(f,"SPAN",{});var h=ee(s);a=De(h,o[3]),h.forEach(F),this.h()},h(){ae(s,"bx--assistive-text",!0)},m(f,h){_e(f,s,h),X(s,a)},p(f,h){h[0]&8&&rt(a,f[3])},d(f){f&&F(s)}}}function Ps(o){let s,a;return{c(){s=xe("span"),a=Re(o[3]),this.h()},l(f){s=we(f,"SPAN",{});var h=ee(s);a=De(h,o[3]),h.forEach(F),this.h()},h(){ae(s,"bx--assistive-text",!0)},m(f,h){_e(f,s,h),X(s,a)},p(f,h){h[0]&8&&rt(a,f[3])},d(f){f&&F(s)}}}function Ul(o){let s,a,f,h;const d=[Fl,vl,kl,Ll],x=[];function w(A,m){return A[5]?0:A[4]?1:A[7]&&!A[6]?2:3}return s=w(o),a=x[s]=d[s](o),{c(){a.c(),f=_n()},l(A){a.l(A),f=_n()},m(A,m){x[s].m(A,m),_e(A,f,m),h=!0},p(A,m){let I=s;s=w(A),s===I?x[s].p(A,m):(Vt(),Ie(x[I],1,1,()=>{x[I]=null}),Ht(),a=x[s],a?a.p(A,m):(a=x[s]=d[s](A),a.c()),me(a,1),a.m(f.parentNode,f))},i(A){h||(me(a),h=!0)},o(A){Ie(a),h=!1},d(A){x[s].d(A),A&&F(f)}}}function Vl(o,s,a){let f,h;const d=["kind","size","expressive","isSelected","icon","iconDescription","tooltipAlignment","tooltipPosition","as","skeleton","disabled","href","tabindex","type","ref"];let x=ot(s,d),{$$slots:w={},$$scope:A}=s;const m=ll(w);let{kind:I="primary"}=s,{size:M="default"}=s,{expressive:B=!1}=s,{isSelected:R=!1}=s,{icon:y=void 0}=s,{iconDescription:D=void 0}=s,{tooltipAlignment:se="center"}=s,{tooltipPosition:V="bottom"}=s,{as:L=!1}=s,{skeleton:z=!1}=s,{disabled:Y=!1}=s,{href:W=void 0}=s,{tabindex:P="0"}=s,{type:ce="button"}=s,{ref:U=null}=s;const q=ml("ComposedModal");function he(de){He.call(this,o,de)}function ie(de){He.call(this,o,de)}function Q(de){He.call(this,o,de)}function fe(de){He.call(this,o,de)}function S(de){He.call(this,o,de)}function le(de){He.call(this,o,de)}function ue(de){He.call(this,o,de)}function te(de){He.call(this,o,de)}function Ae(de){He.call(this,o,de)}function Xe(de){He.call(this,o,de)}function xt(de){He.call(this,o,de)}function nt(de){He.call(this,o,de)}function zt(de){bn[de?"unshift":"push"](()=>{U=de,a(0,U)})}function ft(de){bn[de?"unshift":"push"](()=>{U=de,a(0,U)})}return o.$$set=de=>{s=Be(Be({},s),At(de)),a(10,x=ot(s,d)),"kind"in de&&a(11,I=de.kind),"size"in de&&a(1,M=de.size),"expressive"in de&&a(12,B=de.expressive),"isSelected"in de&&a(13,R=de.isSelected),"icon"in de&&a(2,y=de.icon),"iconDescription"in de&&a(3,D=de.iconDescription),"tooltipAlignment"in de&&a(14,se=de.tooltipAlignment),"tooltipPosition"in de&&a(15,V=de.tooltipPosition),"as"in de&&a(4,L=de.as),"skeleton"in de&&a(5,z=de.skeleton),"disabled"in de&&a(6,Y=de.disabled),"href"in de&&a(7,W=de.href),"tabindex"in de&&a(16,P=de.tabindex),"type"in de&&a(17,ce=de.type),"ref"in de&&a(0,U=de.ref),"$$scope"in de&&a(18,A=de.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&1&&q&&U&&q.declareRef(U),o.$$.dirty[0]&4&&a(8,f=y&&!m.default),a(9,h={type:W&&!Y?void 0:ce,tabindex:P,disabled:Y===!0?!0:void 0,href:W,"aria-pressed":f&&I==="ghost"&&!W?R:void 0,...x,class:["bx--btn",B&&"bx--btn--expressive",(M==="small"&&!B||M==="sm"&&!B||M==="small"&&!B)&&"bx--btn--sm",M==="field"&&!B||M==="md"&&!B&&"bx--btn--md",M==="field"&&"bx--btn--field",M==="small"&&"bx--btn--sm",M==="lg"&&"bx--btn--lg",M==="xl"&&"bx--btn--xl",I&&`bx--btn--${I}`,Y&&"bx--btn--disabled",f&&"bx--btn--icon-only",f&&"bx--tooltip__trigger",f&&"bx--tooltip--a11y",f&&V&&`bx--btn--icon-only--${V}`,f&&se&&`bx--tooltip--align-${se}`,f&&R&&I==="ghost"&&"bx--btn--selected",x.class].filter(Boolean).join(" ")})},[U,M,y,D,L,z,Y,W,f,h,x,I,B,R,se,V,P,ce,A,w,he,ie,Q,fe,S,le,ue,te,Ae,Xe,xt,nt,zt,ft]}class Hl extends Pt{constructor(s){super(),Bt(this,s,Vl,Ul,Nt,{kind:11,size:1,expressive:12,isSelected:13,icon:2,iconDescription:3,tooltipAlignment:14,tooltipPosition:15,as:4,skeleton:5,disabled:6,href:7,tabindex:16,type:17,ref:0},null,[-1,-1])}}const ts=Hl;function Ls(o){let s,a;return{c(){s=Ze("title"),a=Re(o[1])},l(f){s=Je(f,"title",{});var h=ee(s);a=De(h,o[1]),h.forEach(F)},m(f,h){_e(f,s,h),X(s,a)},p(f,h){h&2&&rt(a,f[1])},d(f){f&&F(s)}}}function Gl(o){let s,a,f,h=o[1]&&Ls(o),d=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:o[0]},{height:o[0]},o[2],o[3]],x={};for(let w=0;w<d.length;w+=1)x=Be(x,d[w]);return{c(){s=Ze("svg"),h&&h.c(),a=Ze("path"),f=Ze("path"),this.h()},l(w){s=Je(w,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var A=ee(s);h&&h.l(A),a=Je(A,"path",{d:!0}),ee(a).forEach(F),f=Je(A,"path",{fill:!0,d:!0,"data-icon-path":!0,opacity:!0}),ee(f).forEach(F),A.forEach(F),this.h()},h(){j(a,"d","M16,2C8.3,2,2,8.3,2,16s6.3,14,14,14s14-6.3,14-14C30,8.3,23.7,2,16,2z M14.9,8h2.2v11h-2.2V8z M16,25	c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22c0.8,0,1.5,0.7,1.5,1.5S16.8,25,16,25z"),j(f,"fill","none"),j(f,"d","M17.5,23.5c0,0.8-0.7,1.5-1.5,1.5c-0.8,0-1.5-0.7-1.5-1.5S15.2,22,16,22	C16.8,22,17.5,22.7,17.5,23.5z M17.1,8h-2.2v11h2.2V8z"),j(f,"data-icon-path","inner-path"),j(f,"opacity","0"),qt(s,x)},m(w,A){_e(w,s,A),h&&h.m(s,null),X(s,a),X(s,f)},p(w,[A]){w[1]?h?h.p(w,A):(h=Ls(w),h.c(),h.m(s,a)):h&&(h.d(1),h=null),qt(s,x=Gt(d,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},A&1&&{width:w[0]},A&1&&{height:w[0]},A&4&&w[2],A&8&&w[3]]))},i:je,o:je,d(w){w&&F(s),h&&h.d()}}}function zl(o,s,a){let f,h;const d=["size","title"];let x=ot(s,d),{size:w=16}=s,{title:A=void 0}=s;return o.$$set=m=>{a(5,s=Be(Be({},s),At(m))),a(3,x=ot(s,d)),"size"in m&&a(0,w=m.size),"title"in m&&a(1,A=m.title)},o.$$.update=()=>{a(4,f=s["aria-label"]||s["aria-labelledby"]||A),a(2,h={"aria-hidden":f?void 0:!0,role:f?"img":void 0,focusable:Number(s.tabindex)===0?!0:void 0})},s=At(s),[w,A,h,x,f]}class Wl extends Pt{constructor(s){super(),Bt(this,s,zl,Gl,Nt,{size:0,title:1})}}const Xl=Wl;function ks(o){let s,a;return{c(){s=Ze("title"),a=Re(o[1])},l(f){s=Je(f,"title",{});var h=ee(s);a=De(h,o[1]),h.forEach(F)},m(f,h){_e(f,s,h),X(s,a)},p(f,h){h&2&&rt(a,f[1])},d(f){f&&F(s)}}}function Yl(o){let s,a,f,h,d=o[1]&&ks(o),x=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:o[0]},{height:o[0]},o[2],o[3]],w={};for(let A=0;A<x.length;A+=1)w=Be(w,x[A]);return{c(){s=Ze("svg"),d&&d.c(),a=Ze("path"),f=Ze("path"),h=Ze("path"),this.h()},l(A){s=Je(A,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var m=ee(s);d&&d.l(m),a=Je(m,"path",{fill:!0,d:!0,"data-icon-path":!0}),ee(a).forEach(F),f=Je(m,"path",{d:!0}),ee(f).forEach(F),h=Je(m,"path",{d:!0}),ee(h).forEach(F),m.forEach(F),this.h()},h(){j(a,"fill","none"),j(a,"d","M16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Zm-1.125-5h2.25V12h-2.25Z"),j(a,"data-icon-path","inner-path"),j(f,"d","M16.002,6.1714h-.004L4.6487,27.9966,4.6506,28H27.3494l.0019-.0034ZM14.875,12h2.25v9h-2.25ZM16,26a1.5,1.5,0,1,1,1.5-1.5A1.5,1.5,0,0,1,16,26Z"),j(h,"d","M29,30H3a1,1,0,0,1-.8872-1.4614l13-25a1,1,0,0,1,1.7744,0l13,25A1,1,0,0,1,29,30ZM4.6507,28H27.3493l.002-.0033L16.002,6.1714h-.004L4.6487,27.9967Z"),qt(s,w)},m(A,m){_e(A,s,m),d&&d.m(s,null),X(s,a),X(s,f),X(s,h)},p(A,[m]){A[1]?d?d.p(A,m):(d=ks(A),d.c(),d.m(s,a)):d&&(d.d(1),d=null),qt(s,w=Gt(x,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},m&1&&{width:A[0]},m&1&&{height:A[0]},m&4&&A[2],m&8&&A[3]]))},i:je,o:je,d(A){A&&F(s),d&&d.d()}}}function jl(o,s,a){let f,h;const d=["size","title"];let x=ot(s,d),{size:w=16}=s,{title:A=void 0}=s;return o.$$set=m=>{a(5,s=Be(Be({},s),At(m))),a(3,x=ot(s,d)),"size"in m&&a(0,w=m.size),"title"in m&&a(1,A=m.title)},o.$$.update=()=>{a(4,f=s["aria-label"]||s["aria-labelledby"]||A),a(2,h={"aria-hidden":f?void 0:!0,role:f?"img":void 0,focusable:Number(s.tabindex)===0?!0:void 0})},s=At(s),[w,A,h,x,f]}class Zl extends Pt{constructor(s){super(),Bt(this,s,jl,Yl,Nt,{size:0,title:1})}}const Kl=Zl;function vs(o){let s,a;return{c(){s=Ze("title"),a=Re(o[1])},l(f){s=Je(f,"title",{});var h=ee(s);a=De(h,o[1]),h.forEach(F)},m(f,h){_e(f,s,h),X(s,a)},p(f,h){h&2&&rt(a,f[1])},d(f){f&&F(s)}}}function ql(o){let s,a,f=o[1]&&vs(o),h=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:o[0]},{height:o[0]},o[2],o[3]],d={};for(let x=0;x<h.length;x+=1)d=Be(d,h[x]);return{c(){s=Ze("svg"),f&&f.c(),a=Ze("path"),this.h()},l(x){s=Je(x,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var w=ee(s);f&&f.l(w),a=Je(w,"path",{d:!0}),ee(a).forEach(F),w.forEach(F),this.h()},h(){j(a,"d","M24 9.4L22.6 8 16 14.6 9.4 8 8 9.4 14.6 16 8 22.6 9.4 24 16 17.4 22.6 24 24 22.6 17.4 16 24 9.4z"),qt(s,d)},m(x,w){_e(x,s,w),f&&f.m(s,null),X(s,a)},p(x,[w]){x[1]?f?f.p(x,w):(f=vs(x),f.c(),f.m(s,a)):f&&(f.d(1),f=null),qt(s,d=Gt(h,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},w&1&&{width:x[0]},w&1&&{height:x[0]},w&4&&x[2],w&8&&x[3]]))},i:je,o:je,d(x){x&&F(s),f&&f.d()}}}function Jl(o,s,a){let f,h;const d=["size","title"];let x=ot(s,d),{size:w=16}=s,{title:A=void 0}=s;return o.$$set=m=>{a(5,s=Be(Be({},s),At(m))),a(3,x=ot(s,d)),"size"in m&&a(0,w=m.size),"title"in m&&a(1,A=m.title)},o.$$.update=()=>{a(4,f=s["aria-label"]||s["aria-labelledby"]||A),a(2,h={"aria-hidden":f?void 0:!0,role:f?"img":void 0,focusable:Number(s.tabindex)===0?!0:void 0})},s=At(s),[w,A,h,x,f]}class Ql extends Pt{constructor(s){super(),Bt(this,s,Jl,ql,Nt,{size:0,title:1})}}const ns=Ql,Wr=new Set,zo=Go(0),Fs=()=>zo.set([...Wr].filter(o=>sl(o)).length),$l=o=>es(()=>{Wr.add(o);const s=o.subscribe(Fs);return()=>{s(),Wr.delete(o),Fs()}});zo.subscribe(o=>{typeof document<"u"&&document.body.classList.toggle("bx--body--with-modal-open",o>0)});function Us(o){let s,a;return{c(){s=Ze("title"),a=Re(o[1])},l(f){s=Je(f,"title",{});var h=ee(s);a=De(h,o[1]),h.forEach(F)},m(f,h){_e(f,s,h),X(s,a)},p(f,h){h&2&&rt(a,f[1])},d(f){f&&F(s)}}}function ea(o){let s,a,f,h=o[1]&&Us(o),d=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:o[0]},{height:o[0]},o[2],o[3]],x={};for(let w=0;w<d.length;w+=1)x=Be(x,d[w]);return{c(){s=Ze("svg"),h&&h.c(),a=Ze("path"),f=Ze("path"),this.h()},l(w){s=Je(w,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var A=ee(s);h&&h.l(A),a=Je(A,"path",{d:!0}),ee(a).forEach(F),f=Je(A,"path",{fill:!0,d:!0,"data-icon-path":!0}),ee(f).forEach(F),A.forEach(F),this.h()},h(){j(a,"d","M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2ZM14,21.5908l-5-5L10.5906,15,14,18.4092,21.41,11l1.5957,1.5859Z"),j(f,"fill","none"),j(f,"d","M14 21.591L9 16.591 10.591 15 14 18.409 21.41 11 23.005 12.585 14 21.591z"),j(f,"data-icon-path","inner-path"),qt(s,x)},m(w,A){_e(w,s,A),h&&h.m(s,null),X(s,a),X(s,f)},p(w,[A]){w[1]?h?h.p(w,A):(h=Us(w),h.c(),h.m(s,a)):h&&(h.d(1),h=null),qt(s,x=Gt(d,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},A&1&&{width:w[0]},A&1&&{height:w[0]},A&4&&w[2],A&8&&w[3]]))},i:je,o:je,d(w){w&&F(s),h&&h.d()}}}function ta(o,s,a){let f,h;const d=["size","title"];let x=ot(s,d),{size:w=16}=s,{title:A=void 0}=s;return o.$$set=m=>{a(5,s=Be(Be({},s),At(m))),a(3,x=ot(s,d)),"size"in m&&a(0,w=m.size),"title"in m&&a(1,A=m.title)},o.$$.update=()=>{a(4,f=s["aria-label"]||s["aria-labelledby"]||A),a(2,h={"aria-hidden":f?void 0:!0,role:f?"img":void 0,focusable:Number(s.tabindex)===0?!0:void 0})},s=At(s),[w,A,h,x,f]}class na extends Pt{constructor(s){super(),Bt(this,s,ta,ea,Nt,{size:0,title:1})}}const ia=na;function Vs(o){let s,a;return{c(){s=Ze("title"),a=Re(o[1])},l(f){s=Je(f,"title",{});var h=ee(s);a=De(h,o[1]),h.forEach(F)},m(f,h){_e(f,s,h),X(s,a)},p(f,h){h&2&&rt(a,f[1])},d(f){f&&F(s)}}}function ra(o){let s,a,f,h=o[1]&&Vs(o),d=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:o[0]},{height:o[0]},o[2],o[3]],x={};for(let w=0;w<d.length;w+=1)x=Be(x,d[w]);return{c(){s=Ze("svg"),h&&h.c(),a=Ze("path"),f=Ze("path"),this.h()},l(w){s=Je(w,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var A=ee(s);h&&h.l(A),a=Je(A,"path",{fill:!0,d:!0,"data-icon-path":!0,transform:!0}),ee(a).forEach(F),f=Je(A,"path",{d:!0}),ee(f).forEach(F),A.forEach(F),this.h()},h(){j(a,"fill","none"),j(a,"d","M14.9 7.2H17.1V24.799H14.9z"),j(a,"data-icon-path","inner-path"),j(a,"transform","rotate(-45 16 16)"),j(f,"d","M16,2A13.914,13.914,0,0,0,2,16,13.914,13.914,0,0,0,16,30,13.914,13.914,0,0,0,30,16,13.914,13.914,0,0,0,16,2Zm5.4449,21L9,10.5557,10.5557,9,23,21.4448Z"),qt(s,x)},m(w,A){_e(w,s,A),h&&h.m(s,null),X(s,a),X(s,f)},p(w,[A]){w[1]?h?h.p(w,A):(h=Vs(w),h.c(),h.m(s,a)):h&&(h.d(1),h=null),qt(s,x=Gt(d,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},A&1&&{width:w[0]},A&1&&{height:w[0]},A&4&&w[2],A&8&&w[3]]))},i:je,o:je,d(w){w&&F(s),h&&h.d()}}}function sa(o,s,a){let f,h;const d=["size","title"];let x=ot(s,d),{size:w=16}=s,{title:A=void 0}=s;return o.$$set=m=>{a(5,s=Be(Be({},s),At(m))),a(3,x=ot(s,d)),"size"in m&&a(0,w=m.size),"title"in m&&a(1,A=m.title)},o.$$.update=()=>{a(4,f=s["aria-label"]||s["aria-labelledby"]||A),a(2,h={"aria-hidden":f?void 0:!0,role:f?"img":void 0,focusable:Number(s.tabindex)===0?!0:void 0})},s=At(s),[w,A,h,x,f]}class oa extends Pt{constructor(s){super(),Bt(this,s,sa,ra,Nt,{size:0,title:1})}}const la=oa;function Hs(o,s,a){const f=o.slice();return f[55]=s[a],f}const aa=o=>({}),Gs=o=>({}),ca=o=>({}),zs=o=>({});function Ws(o){let s,a,f,h,d;return a=new ns({props:{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}}),{c(){s=xe("button"),gt(a.$$.fragment),this.h()},l(x){s=we(x,"BUTTON",{type:!0,"aria-label":!0});var w=ee(s);St(a.$$.fragment,w),w.forEach(F),this.h()},h(){j(s,"type","button"),j(s,"aria-label",o[8]),ae(s,"bx--modal-close",!0)},m(x,w){_e(x,s,w),at(a,s,null),o[37](s),f=!0,h||(d=Le(s,"click",o[38]),h=!0)},p(x,w){(!f||w[0]&256)&&j(s,"aria-label",x[8])},i(x){f||(me(a.$$.fragment,x),f=!0)},o(x){Ie(a.$$.fragment,x),f=!1},d(x){x&&F(s),ct(a),o[37](null),h=!1,d()}}}function Xs(o){let s,a;const f=o[31].label,h=mn(f,o,o[50],zs),d=h||fa(o);return{c(){s=xe("h2"),d&&d.c(),this.h()},l(x){s=we(x,"H2",{id:!0});var w=ee(s);d&&d.l(w),w.forEach(F),this.h()},h(){j(s,"id",o[25]),ae(s,"bx--modal-header__label",!0)},m(x,w){_e(x,s,w),d&&d.m(s,null),a=!0},p(x,w){h?h.p&&(!a||w[1]&524288)&&An(h,f,x,x[50],a?En(f,x[50],w,ca):Cn(x[50]),zs):d&&d.p&&(!a||w[0]&128)&&d.p(x,a?w:[-1,-1]),(!a||w[0]&33554432)&&j(s,"id",x[25])},i(x){a||(me(d,x),a=!0)},o(x){Ie(d,x),a=!1},d(x){x&&F(s),d&&d.d(x)}}}function fa(o){let s;return{c(){s=Re(o[7])},l(a){s=De(a,o[7])},m(a,f){_e(a,s,f)},p(a,f){f[0]&128&&rt(s,a[7])},d(a){a&&F(s)}}}function ua(o){let s;return{c(){s=Re(o[6])},l(a){s=De(a,o[6])},m(a,f){_e(a,s,f)},p(a,f){f[0]&64&&rt(s,a[6])},d(a){a&&F(s)}}}function Ys(o){let s,a,f,h,d;return a=new ns({props:{size:20,class:"bx--modal-close__icon","aria-hidden":"true"}}),{c(){s=xe("button"),gt(a.$$.fragment),this.h()},l(x){s=we(x,"BUTTON",{type:!0,"aria-label":!0});var w=ee(s);St(a.$$.fragment,w),w.forEach(F),this.h()},h(){j(s,"type","button"),j(s,"aria-label",o[8]),ae(s,"bx--modal-close",!0)},m(x,w){_e(x,s,w),at(a,s,null),o[39](s),f=!0,h||(d=Le(s,"click",o[40]),h=!0)},p(x,w){(!f||w[0]&256)&&j(s,"aria-label",x[8])},i(x){f||(me(a.$$.fragment,x),f=!0)},o(x){Ie(a.$$.fragment,x),f=!1},d(x){x&&F(s),ct(a),o[39](null),h=!1,d()}}}function js(o){let s;return{c(){s=xe("div"),this.h()},l(a){s=we(a,"DIV",{}),ee(s).forEach(F),this.h()},h(){ae(s,"bx--modal-content--overflow-indicator",!0)},m(a,f){_e(a,s,f)},d(a){a&&F(s)}}}function Zs(o){let s,a,f,h,d,x;const w=[da,ha],A=[];function m(I,M){return I[16].length>0?0:I[15]?1:-1}return~(a=m(o))&&(f=A[a]=w[a](o)),d=new ts({props:{kind:o[3]?"danger":"primary",disabled:o[12],icon:o[13],$$slots:{default:[wa]},$$scope:{ctx:o}}}),d.$on("click",o[43]),{c(){s=xe("div"),f&&f.c(),h=Se(),gt(d.$$.fragment),this.h()},l(I){s=we(I,"DIV",{});var M=ee(s);f&&f.l(M),h=Ne(M),St(d.$$.fragment,M),M.forEach(F),this.h()},h(){ae(s,"bx--modal-footer",!0),ae(s,"bx--modal-footer--three-button",o[16].length===2)},m(I,M){_e(I,s,M),~a&&A[a].m(s,null),X(s,h),at(d,s,null),x=!0},p(I,M){let B=a;a=m(I),a===B?~a&&A[a].p(I,M):(f&&(Vt(),Ie(A[B],1,1,()=>{A[B]=null}),Ht()),~a?(f=A[a],f?f.p(I,M):(f=A[a]=w[a](I),f.c()),me(f,1),f.m(s,h)):f=null);const R={};M[0]&8&&(R.kind=I[3]?"danger":"primary"),M[0]&4096&&(R.disabled=I[12]),M[0]&8192&&(R.icon=I[13]),M[0]&2048|M[1]&524288&&(R.$$scope={dirty:M,ctx:I}),d.$set(R),(!x||M[0]&65536)&&ae(s,"bx--modal-footer--three-button",I[16].length===2)},i(I){x||(me(f),me(d.$$.fragment,I),x=!0)},o(I){Ie(f),Ie(d.$$.fragment,I),x=!1},d(I){I&&F(s),~a&&A[a].d(),ct(d)}}}function ha(o){let s,a;return s=new ts({props:{kind:"secondary",$$slots:{default:[ga]},$$scope:{ctx:o}}}),s.$on("click",o[42]),{c(){gt(s.$$.fragment)},l(f){St(s.$$.fragment,f)},m(f,h){at(s,f,h),a=!0},p(f,h){const d={};h[0]&32768|h[1]&524288&&(d.$$scope={dirty:h,ctx:f}),s.$set(d)},i(f){a||(me(s.$$.fragment,f),a=!0)},o(f){Ie(s.$$.fragment,f),a=!1},d(f){ct(s,f)}}}function da(o){let s,a,f=o[16],h=[];for(let x=0;x<f.length;x+=1)h[x]=Ks(Hs(o,f,x));const d=x=>Ie(h[x],1,1,()=>{h[x]=null});return{c(){for(let x=0;x<h.length;x+=1)h[x].c();s=_n()},l(x){for(let w=0;w<h.length;w+=1)h[w].l(x);s=_n()},m(x,w){for(let A=0;A<h.length;A+=1)h[A].m(x,w);_e(x,s,w),a=!0},p(x,w){if(w[0]&67174400){f=x[16];let A;for(A=0;A<f.length;A+=1){const m=Hs(x,f,A);h[A]?(h[A].p(m,w),me(h[A],1)):(h[A]=Ks(m),h[A].c(),me(h[A],1),h[A].m(s.parentNode,s))}for(Vt(),A=f.length;A<h.length;A+=1)d(A);Ht()}},i(x){if(!a){for(let w=0;w<f.length;w+=1)me(h[w]);a=!0}},o(x){h=h.filter(Boolean);for(let w=0;w<h.length;w+=1)Ie(h[w]);a=!1},d(x){$r(h,x),x&&F(s)}}}function ga(o){let s;return{c(){s=Re(o[15])},l(a){s=De(a,o[15])},m(a,f){_e(a,s,f)},p(a,f){f[0]&32768&&rt(s,a[15])},d(a){a&&F(s)}}}function xa(o){let s=o[55].text+"",a,f;return{c(){a=Re(s),f=Se()},l(h){a=De(h,s),f=Ne(h)},m(h,d){_e(h,a,d),_e(h,f,d)},p(h,d){d[0]&65536&&s!==(s=h[55].text+"")&&rt(a,s)},d(h){h&&F(a),h&&F(f)}}}function Ks(o){let s,a;function f(){return o[41](o[55])}return s=new ts({props:{kind:"secondary",$$slots:{default:[xa]},$$scope:{ctx:o}}}),s.$on("click",f),{c(){gt(s.$$.fragment)},l(h){St(s.$$.fragment,h)},m(h,d){at(s,h,d),a=!0},p(h,d){o=h;const x={};d[0]&65536|d[1]&524288&&(x.$$scope={dirty:d,ctx:o}),s.$set(x)},i(h){a||(me(s.$$.fragment,h),a=!0)},o(h){Ie(s.$$.fragment,h),a=!1},d(h){ct(s,h)}}}function wa(o){let s;return{c(){s=Re(o[11])},l(a){s=De(a,o[11])},m(a,f){_e(a,s,f)},p(a,f){f[0]&2048&&rt(s,a[11])},d(a){a&&F(s)}}}function ma(o){let s,a,f,h,d,x,w,A,m,I,M,B,R,y,D,se,V,L,z,Y,W=o[5]&&Ws(o),P=o[7]&&Xs(o);const ce=o[31].heading,U=mn(ce,o,o[50],Gs),q=U||ua(o);let he=!o[5]&&Ys(o);const ie=o[31].default,Q=mn(ie,o,o[50],null);let fe=o[10]&&js(),S=!o[5]&&Zs(o),le=[{role:"presentation"},{id:o[18]},o[28]],ue={};for(let te=0;te<le.length;te+=1)ue=Be(ue,le[te]);return{c(){s=xe("div"),a=xe("div"),f=xe("div"),W&&W.c(),h=Se(),P&&P.c(),d=Se(),x=xe("h3"),q&&q.c(),w=Se(),he&&he.c(),A=Se(),m=xe("div"),Q&&Q.c(),y=Se(),fe&&fe.c(),D=Se(),S&&S.c(),this.h()},l(te){s=we(te,"DIV",{role:!0,id:!0});var Ae=ee(s);a=we(Ae,"DIV",{tabindex:!0,role:!0,"aria-describedby":!0,"aria-modal":!0,"aria-label":!0});var Xe=ee(a);f=we(Xe,"DIV",{});var xt=ee(f);W&&W.l(xt),h=Ne(xt),P&&P.l(xt),d=Ne(xt),x=we(xt,"H3",{id:!0});var nt=ee(x);q&&q.l(nt),nt.forEach(F),w=Ne(xt),he&&he.l(xt),xt.forEach(F),A=Ne(Xe),m=we(Xe,"DIV",{id:!0,tabindex:!0,role:!0,"aria-label":!0,"aria-labelledby":!0});var zt=ee(m);Q&&Q.l(zt),zt.forEach(F),y=Ne(Xe),fe&&fe.l(Xe),D=Ne(Xe),S&&S.l(Xe),Xe.forEach(F),Ae.forEach(F),this.h()},h(){j(x,"id",o[24]),ae(x,"bx--modal-header__heading",!0),ae(f,"bx--modal-header",!0),j(m,"id",o[23]),j(m,"tabindex",I=o[10]?"0":void 0),j(m,"role",M=o[10]?"region":void 0),j(m,"aria-label",B=o[10]?o[22]:void 0),j(m,"aria-labelledby",R=o[7]?o[25]:o[24]),ae(m,"bx--modal-content",!0),ae(m,"bx--modal-content--with-form",o[9]),ae(m,"bx--modal-scroll-content",o[10]),j(a,"tabindex","-1"),j(a,"role",se=o[4]?o[5]?"alert":"alertdialog":"dialog"),j(a,"aria-describedby",V=o[4]&&!o[5]?o[23]:void 0),j(a,"aria-modal","true"),j(a,"aria-label",o[22]),ae(a,"bx--modal-container",!0),ae(a,"bx--modal-container--xs",o[2]==="xs"),ae(a,"bx--modal-container--sm",o[2]==="sm"),ae(a,"bx--modal-container--lg",o[2]==="lg"),Kt(s,ue),ae(s,"bx--modal",!0),ae(s,"bx--modal-tall",!o[5]),ae(s,"is-visible",o[0]),ae(s,"bx--modal--danger",o[3])},m(te,Ae){_e(te,s,Ae),X(s,a),X(a,f),W&&W.m(f,null),X(f,h),P&&P.m(f,null),X(f,d),X(f,x),q&&q.m(x,null),X(f,w),he&&he.m(f,null),X(a,A),X(a,m),Q&&Q.m(m,null),X(a,y),fe&&fe.m(a,null),X(a,D),S&&S.m(a,null),o[44](a),o[46](s),L=!0,z||(Y=[Le(a,"click",o[45]),Le(s,"keydown",o[32]),Le(s,"keydown",o[47]),Le(s,"click",o[33]),Le(s,"click",o[48]),Le(s,"mouseover",o[34]),Le(s,"mouseenter",o[35]),Le(s,"mouseleave",o[36]),Le(s,"transitionend",o[49])],z=!0)},p(te,Ae){te[5]?W?(W.p(te,Ae),Ae[0]&32&&me(W,1)):(W=Ws(te),W.c(),me(W,1),W.m(f,h)):W&&(Vt(),Ie(W,1,1,()=>{W=null}),Ht()),te[7]?P?(P.p(te,Ae),Ae[0]&128&&me(P,1)):(P=Xs(te),P.c(),me(P,1),P.m(f,d)):P&&(Vt(),Ie(P,1,1,()=>{P=null}),Ht()),U?U.p&&(!L||Ae[1]&524288)&&An(U,ce,te,te[50],L?En(ce,te[50],Ae,aa):Cn(te[50]),Gs):q&&q.p&&(!L||Ae[0]&64)&&q.p(te,L?Ae:[-1,-1]),(!L||Ae[0]&16777216)&&j(x,"id",te[24]),te[5]?he&&(Vt(),Ie(he,1,1,()=>{he=null}),Ht()):he?(he.p(te,Ae),Ae[0]&32&&me(he,1)):(he=Ys(te),he.c(),me(he,1),he.m(f,null)),Q&&Q.p&&(!L||Ae[1]&524288)&&An(Q,ie,te,te[50],L?En(ie,te[50],Ae,null):Cn(te[50]),null),(!L||Ae[0]&8388608)&&j(m,"id",te[23]),(!L||Ae[0]&1024&&I!==(I=te[10]?"0":void 0))&&j(m,"tabindex",I),(!L||Ae[0]&1024&&M!==(M=te[10]?"region":void 0))&&j(m,"role",M),(!L||Ae[0]&4195328&&B!==(B=te[10]?te[22]:void 0))&&j(m,"aria-label",B),(!L||Ae[0]&50331776&&R!==(R=te[7]?te[25]:te[24]))&&j(m,"aria-labelledby",R),(!L||Ae[0]&512)&&ae(m,"bx--modal-content--with-form",te[9]),(!L||Ae[0]&1024)&&ae(m,"bx--modal-scroll-content",te[10]),te[10]?fe||(fe=js(),fe.c(),fe.m(a,D)):fe&&(fe.d(1),fe=null),te[5]?S&&(Vt(),Ie(S,1,1,()=>{S=null}),Ht()):S?(S.p(te,Ae),Ae[0]&32&&me(S,1)):(S=Zs(te),S.c(),me(S,1),S.m(a,null)),(!L||Ae[0]&48&&se!==(se=te[4]?te[5]?"alert":"alertdialog":"dialog"))&&j(a,"role",se),(!L||Ae[0]&8388656&&V!==(V=te[4]&&!te[5]?te[23]:void 0))&&j(a,"aria-describedby",V),(!L||Ae[0]&4194304)&&j(a,"aria-label",te[22]),(!L||Ae[0]&4)&&ae(a,"bx--modal-container--xs",te[2]==="xs"),(!L||Ae[0]&4)&&ae(a,"bx--modal-container--sm",te[2]==="sm"),(!L||Ae[0]&4)&&ae(a,"bx--modal-container--lg",te[2]==="lg"),Kt(s,ue=Gt(le,[{role:"presentation"},(!L||Ae[0]&262144)&&{id:te[18]},Ae[0]&268435456&&te[28]])),ae(s,"bx--modal",!0),ae(s,"bx--modal-tall",!te[5]),ae(s,"is-visible",te[0]),ae(s,"bx--modal--danger",te[3])},i(te){L||(me(W),me(P),me(q,te),me(he),me(Q,te),me(S),L=!0)},o(te){Ie(W),Ie(P),Ie(q,te),Ie(he),Ie(Q,te),Ie(S),L=!1},d(te){te&&F(s),W&&W.d(),P&&P.d(),q&&q.d(te),he&&he.d(),Q&&Q.d(te),fe&&fe.d(),S&&S.d(),o[44](null),o[46](null),z=!1,an(Y)}}}function Ea(o,s,a){let f,h,d,x;const w=["size","open","danger","alert","passiveModal","modalHeading","modalLabel","modalAriaLabel","iconDescription","hasForm","hasScrollingContent","primaryButtonText","primaryButtonDisabled","primaryButtonIcon","shouldSubmitOnEnter","secondaryButtonText","secondaryButtons","selectorPrimaryFocus","preventCloseOnClickOutside","id","ref"];let A=ot(s,w),m,{$$slots:I={},$$scope:M}=s,{size:B=void 0}=s,{open:R=!1}=s,{danger:y=!1}=s,{alert:D=!1}=s,{passiveModal:se=!1}=s,{modalHeading:V=void 0}=s,{modalLabel:L=void 0}=s,{modalAriaLabel:z=void 0}=s,{iconDescription:Y="Close the modal"}=s,{hasForm:W=!1}=s,{hasScrollingContent:P=!1}=s,{primaryButtonText:ce=""}=s,{primaryButtonDisabled:U=!1}=s,{primaryButtonIcon:q=void 0}=s,{shouldSubmitOnEnter:he=!0}=s,{secondaryButtonText:ie=""}=s,{secondaryButtons:Q=[]}=s,{selectorPrimaryFocus:fe="[data-modal-primary-focus]"}=s,{preventCloseOnClickOutside:S=!1}=s,{id:le="ccs-"+Math.random().toString(36)}=s,{ref:ue=null}=s;const te=Fo();let Ae=null,Xe=null,xt=!1,nt=!1;function zt(re){((re||Xe).querySelector(fe)||Ae).focus()}const ft=Go(R);ol(o,ft,re=>a(52,m=re)),$l(ft),wl(()=>{xt?R||(xt=!1,te("close")):R&&(xt=!0,zt(),te("open"))});function de(re){He.call(this,o,re)}function be(re){He.call(this,o,re)}function xi(re){He.call(this,o,re)}function mt(re){He.call(this,o,re)}function Un(re){He.call(this,o,re)}function Vn(re){bn[re?"unshift":"push"](()=>{Ae=re,a(19,Ae)})}const Lt=()=>{a(0,R=!1)};function qn(re){bn[re?"unshift":"push"](()=>{Ae=re,a(19,Ae)})}const Ue=()=>{a(0,R=!1)},yn=re=>{te("click:button--secondary",{text:re.text})},en=()=>{te("click:button--secondary",{text:ie})},Hn=()=>{te("submit"),te("click:button--primary")};function Ct(re){bn[re?"unshift":"push"](()=>{Xe=re,a(20,Xe)})}const Ke=()=>{a(21,nt=!0)};function ve(re){bn[re?"unshift":"push"](()=>{ue=re,a(1,ue)})}const Jn=re=>{if(R)if(re.key==="Escape")a(0,R=!1);else if(re.key==="Tab"){const tn=`
  a[href], area[href], input:not([disabled]):not([tabindex='-1']),
  button:not([disabled]):not([tabindex='-1']),select:not([disabled]):not([tabindex='-1']),
  textarea:not([disabled]):not([tabindex='-1']),
  iframe, object, embed, *[tabindex]:not([tabindex='-1']):not([disabled]), *[contenteditable=true]
`,Sn=Array.from(ue.querySelectorAll(tn));let Rt=Sn.indexOf(document.activeElement);Rt===-1&&re.shiftKey&&(Rt=0),Rt+=Sn.length+(re.shiftKey?-1:1),Rt%=Sn.length,Sn[Rt].focus(),re.preventDefault()}else he&&re.key==="Enter"&&!U&&(te("submit"),te("click:button--primary"))},Ee=()=>{!nt&&!S&&a(0,R=!1),a(21,nt=!1)},Qn=re=>{re.propertyName==="transform"&&te("transitionend",{open:R})};return o.$$set=re=>{a(54,s=Be(Be({},s),At(re))),a(28,A=ot(s,w)),"size"in re&&a(2,B=re.size),"open"in re&&a(0,R=re.open),"danger"in re&&a(3,y=re.danger),"alert"in re&&a(4,D=re.alert),"passiveModal"in re&&a(5,se=re.passiveModal),"modalHeading"in re&&a(6,V=re.modalHeading),"modalLabel"in re&&a(7,L=re.modalLabel),"modalAriaLabel"in re&&a(29,z=re.modalAriaLabel),"iconDescription"in re&&a(8,Y=re.iconDescription),"hasForm"in re&&a(9,W=re.hasForm),"hasScrollingContent"in re&&a(10,P=re.hasScrollingContent),"primaryButtonText"in re&&a(11,ce=re.primaryButtonText),"primaryButtonDisabled"in re&&a(12,U=re.primaryButtonDisabled),"primaryButtonIcon"in re&&a(13,q=re.primaryButtonIcon),"shouldSubmitOnEnter"in re&&a(14,he=re.shouldSubmitOnEnter),"secondaryButtonText"in re&&a(15,ie=re.secondaryButtonText),"secondaryButtons"in re&&a(16,Q=re.secondaryButtons),"selectorPrimaryFocus"in re&&a(30,fe=re.selectorPrimaryFocus),"preventCloseOnClickOutside"in re&&a(17,S=re.preventCloseOnClickOutside),"id"in re&&a(18,le=re.id),"ref"in re&&a(1,ue=re.ref),"$$scope"in re&&a(50,M=re.$$scope)},o.$$.update=()=>{o.$$.dirty[0]&1&&al(ft,m=R,m),o.$$.dirty[0]&262144&&a(25,f=`bx--modal-header__label--modal-${le}`),o.$$.dirty[0]&262144&&a(24,h=`bx--modal-header__heading--modal-${le}`),o.$$.dirty[0]&262144&&a(23,d=`bx--modal-body--${le}`),a(22,x=L||s["aria-label"]||z||V)},s=At(s),[R,ue,B,y,D,se,V,L,Y,W,P,ce,U,q,he,ie,Q,S,le,Ae,Xe,nt,x,d,h,f,te,ft,A,z,fe,I,de,be,xi,mt,Un,Vn,Lt,qn,Ue,yn,en,Hn,Ct,Ke,ve,Jn,Ee,Qn,M]}class Aa extends Pt{constructor(s){super(),Bt(this,s,Ea,ma,Nt,{size:2,open:0,danger:3,alert:4,passiveModal:5,modalHeading:6,modalLabel:7,modalAriaLabel:29,iconDescription:8,hasForm:9,hasScrollingContent:10,primaryButtonText:11,primaryButtonDisabled:12,primaryButtonIcon:13,shouldSubmitOnEnter:14,secondaryButtonText:15,secondaryButtons:16,selectorPrimaryFocus:30,preventCloseOnClickOutside:17,id:18,ref:1},null,[-1,-1])}}const Wo=Aa;function Ca(o){let s,a,f,h,d;var x=o[1];function w(I){return{props:{size:20,title:I[2],class:(I[0]==="toast"&&"bx--toast-notification__close-icon")+" "+(I[0]==="inline"&&"bx--inline-notification__close-icon")}}}x&&(a=vn(x,w(o)));let A=[{type:"button"},{"aria-label":o[3]},{title:o[3]},o[4]],m={};for(let I=0;I<A.length;I+=1)m=Be(m,A[I]);return{c(){s=xe("button"),a&&gt(a.$$.fragment),this.h()},l(I){s=we(I,"BUTTON",{type:!0,"aria-label":!0,title:!0});var M=ee(s);a&&St(a.$$.fragment,M),M.forEach(F),this.h()},h(){Kt(s,m),ae(s,"bx--toast-notification__close-button",o[0]==="toast"),ae(s,"bx--inline-notification__close-button",o[0]==="inline")},m(I,M){_e(I,s,M),a&&at(a,s,null),s.autofocus&&s.focus(),f=!0,h||(d=[Le(s,"click",o[5]),Le(s,"mouseover",o[6]),Le(s,"mouseenter",o[7]),Le(s,"mouseleave",o[8])],h=!0)},p(I,[M]){const B={};if(M&4&&(B.title=I[2]),M&1&&(B.class=(I[0]==="toast"&&"bx--toast-notification__close-icon")+" "+(I[0]==="inline"&&"bx--inline-notification__close-icon")),x!==(x=I[1])){if(a){Vt();const R=a;Ie(R.$$.fragment,1,0,()=>{ct(R,1)}),Ht()}x?(a=vn(x,w(I)),gt(a.$$.fragment),me(a.$$.fragment,1),at(a,s,null)):a=null}else x&&a.$set(B);Kt(s,m=Gt(A,[{type:"button"},(!f||M&8)&&{"aria-label":I[3]},(!f||M&8)&&{title:I[3]},M&16&&I[4]])),ae(s,"bx--toast-notification__close-button",I[0]==="toast"),ae(s,"bx--inline-notification__close-button",I[0]==="inline")},i(I){f||(a&&me(a.$$.fragment,I),f=!0)},o(I){a&&Ie(a.$$.fragment,I),f=!1},d(I){I&&F(s),a&&ct(a),h=!1,an(d)}}}function ba(o,s,a){const f=["notificationType","icon","title","iconDescription"];let h=ot(s,f),{notificationType:d="toast"}=s,{icon:x=ns}=s,{title:w=void 0}=s,{iconDescription:A="Close icon"}=s;function m(R){He.call(this,o,R)}function I(R){He.call(this,o,R)}function M(R){He.call(this,o,R)}function B(R){He.call(this,o,R)}return o.$$set=R=>{s=Be(Be({},s),At(R)),a(4,h=ot(s,f)),"notificationType"in R&&a(0,d=R.notificationType),"icon"in R&&a(1,x=R.icon),"title"in R&&a(2,w=R.title),"iconDescription"in R&&a(3,A=R.iconDescription)},[d,x,w,A,h,m,I,M,B]}class _a extends Pt{constructor(s){super(),Bt(this,s,ba,Ca,Nt,{notificationType:0,icon:1,title:2,iconDescription:3})}}const Ia=_a;function qs(o){let s,a;return{c(){s=Ze("title"),a=Re(o[1])},l(f){s=Je(f,"title",{});var h=ee(s);a=De(h,o[1]),h.forEach(F)},m(f,h){_e(f,s,h),X(s,a)},p(f,h){h&2&&rt(a,f[1])},d(f){f&&F(s)}}}function pa(o){let s,a,f,h=o[1]&&qs(o),d=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:o[0]},{height:o[0]},o[2],o[3]],x={};for(let w=0;w<d.length;w+=1)x=Be(x,d[w]);return{c(){s=Ze("svg"),h&&h.c(),a=Ze("path"),f=Ze("path"),this.h()},l(w){s=Je(w,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var A=ee(s);h&&h.l(A),a=Je(A,"path",{fill:!0,d:!0,"data-icon-path":!0}),ee(a).forEach(F),f=Je(A,"path",{d:!0}),ee(f).forEach(F),A.forEach(F),this.h()},h(){j(a,"fill","none"),j(a,"d","M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z"),j(a,"data-icon-path","inner-path"),j(f,"d","M16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Zm0,6a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"),qt(s,x)},m(w,A){_e(w,s,A),h&&h.m(s,null),X(s,a),X(s,f)},p(w,[A]){w[1]?h?h.p(w,A):(h=qs(w),h.c(),h.m(s,a)):h&&(h.d(1),h=null),qt(s,x=Gt(d,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},A&1&&{width:w[0]},A&1&&{height:w[0]},A&4&&w[2],A&8&&w[3]]))},i:je,o:je,d(w){w&&F(s),h&&h.d()}}}function Ta(o,s,a){let f,h;const d=["size","title"];let x=ot(s,d),{size:w=16}=s,{title:A=void 0}=s;return o.$$set=m=>{a(5,s=Be(Be({},s),At(m))),a(3,x=ot(s,d)),"size"in m&&a(0,w=m.size),"title"in m&&a(1,A=m.title)},o.$$.update=()=>{a(4,f=s["aria-label"]||s["aria-labelledby"]||A),a(2,h={"aria-hidden":f?void 0:!0,role:f?"img":void 0,focusable:Number(s.tabindex)===0?!0:void 0})},s=At(s),[w,A,h,x,f]}class ya extends Pt{constructor(s){super(),Bt(this,s,Ta,pa,Nt,{size:0,title:1})}}const Sa=ya;function Js(o){let s,a;return{c(){s=Ze("title"),a=Re(o[1])},l(f){s=Je(f,"title",{});var h=ee(s);a=De(h,o[1]),h.forEach(F)},m(f,h){_e(f,s,h),X(s,a)},p(f,h){h&2&&rt(a,f[1])},d(f){f&&F(s)}}}function Na(o){let s,a,f,h=o[1]&&Js(o),d=[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},{width:o[0]},{height:o[0]},o[2],o[3]],x={};for(let w=0;w<d.length;w+=1)x=Be(x,d[w]);return{c(){s=Ze("svg"),h&&h.c(),a=Ze("path"),f=Ze("path"),this.h()},l(w){s=Je(w,"svg",{xmlns:!0,viewBox:!0,fill:!0,preserveAspectRatio:!0,width:!0,height:!0});var A=ee(s);h&&h.l(A),a=Je(A,"path",{fill:!0,d:!0,"data-icon-path":!0}),ee(a).forEach(F),f=Je(A,"path",{d:!0}),ee(f).forEach(F),A.forEach(F),this.h()},h(){j(a,"fill","none"),j(a,"d","M16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,13.875H17.125v-8H13v2.25h1.875v5.75H12v2.25h8Z"),j(a,"data-icon-path","inner-path"),j(f,"d","M26,4H6A2,2,0,0,0,4,6V26a2,2,0,0,0,2,2H26a2,2,0,0,0,2-2V6A2,2,0,0,0,26,4ZM16,8a1.5,1.5,0,1,1-1.5,1.5A1.5,1.5,0,0,1,16,8Zm4,16.125H12v-2.25h2.875v-5.75H13v-2.25h4.125v8H20Z"),qt(s,x)},m(w,A){_e(w,s,A),h&&h.m(s,null),X(s,a),X(s,f)},p(w,[A]){w[1]?h?h.p(w,A):(h=Js(w),h.c(),h.m(s,a)):h&&(h.d(1),h=null),qt(s,x=Gt(d,[{xmlns:"http://www.w3.org/2000/svg"},{viewBox:"0 0 32 32"},{fill:"currentColor"},{preserveAspectRatio:"xMidYMid meet"},A&1&&{width:w[0]},A&1&&{height:w[0]},A&4&&w[2],A&8&&w[3]]))},i:je,o:je,d(w){w&&F(s),h&&h.d()}}}function Ra(o,s,a){let f,h;const d=["size","title"];let x=ot(s,d),{size:w=16}=s,{title:A=void 0}=s;return o.$$set=m=>{a(5,s=Be(Be({},s),At(m))),a(3,x=ot(s,d)),"size"in m&&a(0,w=m.size),"title"in m&&a(1,A=m.title)},o.$$.update=()=>{a(4,f=s["aria-label"]||s["aria-labelledby"]||A),a(2,h={"aria-hidden":f?void 0:!0,role:f?"img":void 0,focusable:Number(s.tabindex)===0?!0:void 0})},s=At(s),[w,A,h,x,f]}class Oa extends Pt{constructor(s){super(),Bt(this,s,Ra,Na,Nt,{size:0,title:1})}}const Da=Oa;function Ma(o){let s,a,f;var h=o[3][o[0]];function d(x){return{props:{size:20,title:x[2],class:(x[1]==="toast"&&"bx--toast-notification__icon")+" "+(x[1]==="inline"&&"bx--inline-notification__icon")}}}return h&&(s=vn(h,d(o))),{c(){s&&gt(s.$$.fragment),a=_n()},l(x){s&&St(s.$$.fragment,x),a=_n()},m(x,w){s&&at(s,x,w),_e(x,a,w),f=!0},p(x,[w]){const A={};if(w&4&&(A.title=x[2]),w&2&&(A.class=(x[1]==="toast"&&"bx--toast-notification__icon")+" "+(x[1]==="inline"&&"bx--inline-notification__icon")),h!==(h=x[3][x[0]])){if(s){Vt();const m=s;Ie(m.$$.fragment,1,0,()=>{ct(m,1)}),Ht()}h?(s=vn(h,d(x)),gt(s.$$.fragment),me(s.$$.fragment,1),at(s,a.parentNode,a)):s=null}else h&&s.$set(A)},i(x){f||(s&&me(s.$$.fragment,x),f=!0)},o(x){s&&Ie(s.$$.fragment,x),f=!1},d(x){x&&F(a),s&&ct(s,x)}}}function Ba(o,s,a){let{kind:f="error"}=s,{notificationType:h="toast"}=s,{iconDescription:d="Closes notification"}=s;const x={error:la,"info-square":Da,info:Sa,success:ia,warning:Xl,"warning-alt":Kl};return o.$$set=w=>{"kind"in w&&a(0,f=w.kind),"notificationType"in w&&a(1,h=w.notificationType),"iconDescription"in w&&a(2,d=w.iconDescription)},[f,h,d,x]}class Pa extends Pt{constructor(s){super(),Bt(this,s,Ba,Ma,Nt,{kind:0,notificationType:1,iconDescription:2})}}const La=Pa,ka=o=>({}),Qs=o=>({}),va=o=>({}),$s=o=>({}),Fa=o=>({}),eo=o=>({});function to(o){let s,a,f,h,d,x,w,A,m,I,M,B,R,y,D;a=new La({props:{kind:o[0]}});const se=o[14].title,V=mn(se,o,o[13],eo),L=V||Ua(o),z=o[14].subtitle,Y=mn(z,o,o[13],$s),W=Y||Va(o),P=o[14].caption,ce=mn(P,o,o[13],Qs),U=ce||Ha(o),q=o[14].default,he=mn(q,o,o[13],null);let ie=!o[7]&&no(o),Q=[{role:o[2]},{kind:o[0]},o[11],{style:B=""+((o[8]&&"width: 100%;")+o[11].style)}],fe={};for(let S=0;S<Q.length;S+=1)fe=Be(fe,Q[S]);return{c(){s=xe("div"),gt(a.$$.fragment),f=Se(),h=xe("div"),d=xe("h3"),L&&L.c(),x=Se(),w=xe("div"),W&&W.c(),A=Se(),m=xe("div"),U&&U.c(),I=Se(),he&&he.c(),M=Se(),ie&&ie.c(),this.h()},l(S){s=we(S,"DIV",{role:!0,kind:!0,style:!0});var le=ee(s);St(a.$$.fragment,le),f=Ne(le),h=we(le,"DIV",{});var ue=ee(h);d=we(ue,"H3",{});var te=ee(d);L&&L.l(te),te.forEach(F),x=Ne(ue),w=we(ue,"DIV",{});var Ae=ee(w);W&&W.l(Ae),Ae.forEach(F),A=Ne(ue),m=we(ue,"DIV",{});var Xe=ee(m);U&&U.l(Xe),Xe.forEach(F),I=Ne(ue),he&&he.l(ue),ue.forEach(F),M=Ne(le),ie&&ie.l(le),le.forEach(F),this.h()},h(){ae(d,"bx--toast-notification__title",!0),ae(w,"bx--toast-notification__subtitle",!0),ae(m,"bx--toast-notification__caption",!0),ae(h,"bx--toast-notification__details",!0),Kt(s,fe),ae(s,"bx--toast-notification",!0),ae(s,"bx--toast-notification--low-contrast",o[1]),ae(s,"bx--toast-notification--error",o[0]==="error"),ae(s,"bx--toast-notification--info",o[0]==="info"),ae(s,"bx--toast-notification--info-square",o[0]==="info-square"),ae(s,"bx--toast-notification--success",o[0]==="success"),ae(s,"bx--toast-notification--warning",o[0]==="warning"),ae(s,"bx--toast-notification--warning-alt",o[0]==="warning-alt")},m(S,le){_e(S,s,le),at(a,s,null),X(s,f),X(s,h),X(h,d),L&&L.m(d,null),X(h,x),X(h,w),W&&W.m(w,null),X(h,A),X(h,m),U&&U.m(m,null),X(h,I),he&&he.m(h,null),X(s,M),ie&&ie.m(s,null),R=!0,y||(D=[Le(s,"click",o[15]),Le(s,"mouseover",o[16]),Le(s,"mouseenter",o[17]),Le(s,"mouseleave",o[18])],y=!0)},p(S,le){const ue={};le&1&&(ue.kind=S[0]),a.$set(ue),V?V.p&&(!R||le&8192)&&An(V,se,S,S[13],R?En(se,S[13],le,Fa):Cn(S[13]),eo):L&&L.p&&(!R||le&8)&&L.p(S,R?le:-1),Y?Y.p&&(!R||le&8192)&&An(Y,z,S,S[13],R?En(z,S[13],le,va):Cn(S[13]),$s):W&&W.p&&(!R||le&16)&&W.p(S,R?le:-1),ce?ce.p&&(!R||le&8192)&&An(ce,P,S,S[13],R?En(P,S[13],le,ka):Cn(S[13]),Qs):U&&U.p&&(!R||le&32)&&U.p(S,R?le:-1),he&&he.p&&(!R||le&8192)&&An(he,q,S,S[13],R?En(q,S[13],le,null):Cn(S[13]),null),S[7]?ie&&(Vt(),Ie(ie,1,1,()=>{ie=null}),Ht()):ie?(ie.p(S,le),le&128&&me(ie,1)):(ie=no(S),ie.c(),me(ie,1),ie.m(s,null)),Kt(s,fe=Gt(Q,[(!R||le&4)&&{role:S[2]},(!R||le&1)&&{kind:S[0]},le&2048&&S[11],(!R||le&2304&&B!==(B=""+((S[8]&&"width: 100%;")+S[11].style)))&&{style:B}])),ae(s,"bx--toast-notification",!0),ae(s,"bx--toast-notification--low-contrast",S[1]),ae(s,"bx--toast-notification--error",S[0]==="error"),ae(s,"bx--toast-notification--info",S[0]==="info"),ae(s,"bx--toast-notification--info-square",S[0]==="info-square"),ae(s,"bx--toast-notification--success",S[0]==="success"),ae(s,"bx--toast-notification--warning",S[0]==="warning"),ae(s,"bx--toast-notification--warning-alt",S[0]==="warning-alt")},i(S){R||(me(a.$$.fragment,S),me(L,S),me(W,S),me(U,S),me(he,S),me(ie),R=!0)},o(S){Ie(a.$$.fragment,S),Ie(L,S),Ie(W,S),Ie(U,S),Ie(he,S),Ie(ie),R=!1},d(S){S&&F(s),ct(a),L&&L.d(S),W&&W.d(S),U&&U.d(S),he&&he.d(S),ie&&ie.d(),y=!1,an(D)}}}function Ua(o){let s;return{c(){s=Re(o[3])},l(a){s=De(a,o[3])},m(a,f){_e(a,s,f)},p(a,f){f&8&&rt(s,a[3])},d(a){a&&F(s)}}}function Va(o){let s;return{c(){s=Re(o[4])},l(a){s=De(a,o[4])},m(a,f){_e(a,s,f)},p(a,f){f&16&&rt(s,a[4])},d(a){a&&F(s)}}}function Ha(o){let s;return{c(){s=Re(o[5])},l(a){s=De(a,o[5])},m(a,f){_e(a,s,f)},p(a,f){f&32&&rt(s,a[5])},d(a){a&&F(s)}}}function no(o){let s,a;return s=new Ia({props:{iconDescription:o[6]}}),s.$on("click",o[10]),{c(){gt(s.$$.fragment)},l(f){St(s.$$.fragment,f)},m(f,h){at(s,f,h),a=!0},p(f,h){const d={};h&64&&(d.iconDescription=f[6]),s.$set(d)},i(f){a||(me(s.$$.fragment,f),a=!0)},o(f){Ie(s.$$.fragment,f),a=!1},d(f){ct(s,f)}}}function Ga(o){let s,a,f=o[9]&&to(o);return{c(){f&&f.c(),s=_n()},l(h){f&&f.l(h),s=_n()},m(h,d){f&&f.m(h,d),_e(h,s,d),a=!0},p(h,[d]){h[9]?f?(f.p(h,d),d&512&&me(f,1)):(f=to(h),f.c(),me(f,1),f.m(s.parentNode,s)):f&&(Vt(),Ie(f,1,1,()=>{f=null}),Ht())},i(h){a||(me(f),a=!0)},o(h){Ie(f),a=!1},d(h){f&&f.d(h),h&&F(s)}}}function za(o,s,a){const f=["kind","lowContrast","timeout","role","title","subtitle","caption","iconDescription","hideCloseButton","fullWidth"];let h=ot(s,f),{$$slots:d={},$$scope:x}=s,{kind:w="error"}=s,{lowContrast:A=!1}=s,{timeout:m=0}=s,{role:I="alert"}=s,{title:M=""}=s,{subtitle:B=""}=s,{caption:R=""}=s,{iconDescription:y="Closes notification"}=s,{hideCloseButton:D=!1}=s,{fullWidth:se=!1}=s;const V=Fo();let L=!0,z;function Y(q){V("close",{timeout:q===!0},{cancelable:!0})&&a(9,L=!1)}es(()=>(m&&(z=setTimeout(()=>Y(!0),m)),()=>{clearTimeout(z)}));function W(q){He.call(this,o,q)}function P(q){He.call(this,o,q)}function ce(q){He.call(this,o,q)}function U(q){He.call(this,o,q)}return o.$$set=q=>{s=Be(Be({},s),At(q)),a(11,h=ot(s,f)),"kind"in q&&a(0,w=q.kind),"lowContrast"in q&&a(1,A=q.lowContrast),"timeout"in q&&a(12,m=q.timeout),"role"in q&&a(2,I=q.role),"title"in q&&a(3,M=q.title),"subtitle"in q&&a(4,B=q.subtitle),"caption"in q&&a(5,R=q.caption),"iconDescription"in q&&a(6,y=q.iconDescription),"hideCloseButton"in q&&a(7,D=q.hideCloseButton),"fullWidth"in q&&a(8,se=q.fullWidth),"$$scope"in q&&a(13,x=q.$$scope)},[w,A,I,M,B,R,y,D,se,L,Y,h,m,x,d,W,P,ce,U]}class Wa extends Pt{constructor(s){super(),Bt(this,s,za,Ga,Nt,{kind:0,lowContrast:1,timeout:12,role:2,title:3,subtitle:4,caption:5,iconDescription:6,hideCloseButton:7,fullWidth:8})}}const Xa=Wa;function Xo(o,s){return function(){return o.apply(s,arguments)}}const{toString:Yo}=Object.prototype,{getPrototypeOf:is}=Object,rs=(o=>s=>{const a=Yo.call(s);return o[a]||(o[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Tn=o=>(o=o.toLowerCase(),s=>rs(s)===o),ar=o=>s=>typeof s===o,{isArray:Pi}=Array,Xr=ar("undefined");function Ya(o){return o!==null&&!Xr(o)&&o.constructor!==null&&!Xr(o.constructor)&&di(o.constructor.isBuffer)&&o.constructor.isBuffer(o)}const jo=Tn("ArrayBuffer");function ja(o){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(o):s=o&&o.buffer&&jo(o.buffer),s}const Za=ar("string"),di=ar("function"),Zo=ar("number"),Ko=o=>o!==null&&typeof o=="object",Ka=o=>o===!0||o===!1,er=o=>{if(rs(o)!=="object")return!1;const s=is(o);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},qa=Tn("Date"),Ja=Tn("File"),Qa=Tn("Blob"),$a=Tn("FileList"),e0=o=>Ko(o)&&di(o.pipe),t0=o=>{const s="[object FormData]";return o&&(typeof FormData=="function"&&o instanceof FormData||Yo.call(o)===s||di(o.toString)&&o.toString()===s)},n0=Tn("URLSearchParams"),i0=o=>o.trim?o.trim():o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function cr(o,s,{allOwnKeys:a=!1}={}){if(o===null||typeof o>"u")return;let f,h;if(typeof o!="object"&&(o=[o]),Pi(o))for(f=0,h=o.length;f<h;f++)s.call(null,o[f],f,o);else{const d=a?Object.getOwnPropertyNames(o):Object.keys(o),x=d.length;let w;for(f=0;f<x;f++)w=d[f],s.call(null,o[w],w,o)}}function Yr(){const o={},s=(a,f)=>{er(o[f])&&er(a)?o[f]=Yr(o[f],a):er(a)?o[f]=Yr({},a):Pi(a)?o[f]=a.slice():o[f]=a};for(let a=0,f=arguments.length;a<f;a++)arguments[a]&&cr(arguments[a],s);return o}const r0=(o,s,a,{allOwnKeys:f}={})=>(cr(s,(h,d)=>{a&&di(h)?o[d]=Xo(h,a):o[d]=h},{allOwnKeys:f}),o),s0=o=>(o.charCodeAt(0)===65279&&(o=o.slice(1)),o),o0=(o,s,a,f)=>{o.prototype=Object.create(s.prototype,f),o.prototype.constructor=o,Object.defineProperty(o,"super",{value:s.prototype}),a&&Object.assign(o.prototype,a)},l0=(o,s,a,f)=>{let h,d,x;const w={};if(s=s||{},o==null)return s;do{for(h=Object.getOwnPropertyNames(o),d=h.length;d-- >0;)x=h[d],(!f||f(x,o,s))&&!w[x]&&(s[x]=o[x],w[x]=!0);o=a!==!1&&is(o)}while(o&&(!a||a(o,s))&&o!==Object.prototype);return s},a0=(o,s,a)=>{o=String(o),(a===void 0||a>o.length)&&(a=o.length),a-=s.length;const f=o.indexOf(s,a);return f!==-1&&f===a},c0=o=>{if(!o)return null;if(Pi(o))return o;let s=o.length;if(!Zo(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=o[s];return a},f0=(o=>s=>o&&s instanceof o)(typeof Uint8Array<"u"&&is(Uint8Array)),u0=(o,s)=>{const f=(o&&o[Symbol.iterator]).call(o);let h;for(;(h=f.next())&&!h.done;){const d=h.value;s.call(o,d[0],d[1])}},h0=(o,s)=>{let a;const f=[];for(;(a=o.exec(s))!==null;)f.push(a);return f},d0=Tn("HTMLFormElement"),g0=o=>o.toLowerCase().replace(/[_-\s]([a-z\d])(\w*)/g,function(a,f,h){return f.toUpperCase()+h}),io=(({hasOwnProperty:o})=>(s,a)=>o.call(s,a))(Object.prototype),x0=Tn("RegExp"),qo=(o,s)=>{const a=Object.getOwnPropertyDescriptors(o),f={};cr(a,(h,d)=>{s(h,d,o)!==!1&&(f[d]=h)}),Object.defineProperties(o,f)},w0=o=>{qo(o,(s,a)=>{const f=o[a];if(!!di(f)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not read-only method '"+a+"'")})}})},m0=(o,s)=>{const a={},f=h=>{h.forEach(d=>{a[d]=!0})};return Pi(o)?f(o):f(String(o).split(s)),a},E0=()=>{},A0=(o,s)=>(o=+o,Number.isFinite(o)?o:s),Z={isArray:Pi,isArrayBuffer:jo,isBuffer:Ya,isFormData:t0,isArrayBufferView:ja,isString:Za,isNumber:Zo,isBoolean:Ka,isObject:Ko,isPlainObject:er,isUndefined:Xr,isDate:qa,isFile:Ja,isBlob:Qa,isRegExp:x0,isFunction:di,isStream:e0,isURLSearchParams:n0,isTypedArray:f0,isFileList:$a,forEach:cr,merge:Yr,extend:r0,trim:i0,stripBOM:s0,inherits:o0,toFlatObject:l0,kindOf:rs,kindOfTest:Tn,endsWith:a0,toArray:c0,forEachEntry:u0,matchAll:h0,isHTMLForm:d0,hasOwnProperty:io,hasOwnProp:io,reduceDescriptors:qo,freezeMethods:w0,toObjectSet:m0,toCamelCase:g0,noop:E0,toFiniteNumber:A0};function ze(o,s,a,f,h){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=o,this.name="AxiosError",s&&(this.code=s),a&&(this.config=a),f&&(this.request=f),h&&(this.response=h)}Z.inherits(ze,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const Jo=ze.prototype,Qo={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(o=>{Qo[o]={value:o}});Object.defineProperties(ze,Qo);Object.defineProperty(Jo,"isAxiosError",{value:!0});ze.from=(o,s,a,f,h,d)=>{const x=Object.create(Jo);return Z.toFlatObject(o,x,function(A){return A!==Error.prototype},w=>w!=="isAxiosError"),ze.call(x,o.message,s,a,f,h),x.cause=o,x.name=o.name,d&&Object.assign(x,d),x};var Ti=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},C0=typeof self=="object"?self.FormData:window.FormData;function jr(o){return Z.isPlainObject(o)||Z.isArray(o)}function $o(o){return Z.endsWith(o,"[]")?o.slice(0,-2):o}function ro(o,s,a){return o?o.concat(s).map(function(h,d){return h=$o(h),!a&&d?"["+h+"]":h}).join(a?".":""):s}function b0(o){return Z.isArray(o)&&!o.some(jr)}const _0=Z.toFlatObject(Z,{},null,function(s){return/^is[A-Z]/.test(s)});function I0(o){return o&&Z.isFunction(o.append)&&o[Symbol.toStringTag]==="FormData"&&o[Symbol.iterator]}function fr(o,s,a){if(!Z.isObject(o))throw new TypeError("target must be an object");s=s||new(C0||FormData),a=Z.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,se){return!Z.isUndefined(se[D])});const f=a.metaTokens,h=a.visitor||I,d=a.dots,x=a.indexes,A=(a.Blob||typeof Blob<"u"&&Blob)&&I0(s);if(!Z.isFunction(h))throw new TypeError("visitor must be a function");function m(y){if(y===null)return"";if(Z.isDate(y))return y.toISOString();if(!A&&Z.isBlob(y))throw new ze("Blob is not supported. Use a Buffer instead.");return Z.isArrayBuffer(y)||Z.isTypedArray(y)?A&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function I(y,D,se){let V=y;if(y&&!se&&typeof y=="object"){if(Z.endsWith(D,"{}"))D=f?D:D.slice(0,-2),y=JSON.stringify(y);else if(Z.isArray(y)&&b0(y)||Z.isFileList(y)||Z.endsWith(D,"[]")&&(V=Z.toArray(y)))return D=$o(D),V.forEach(function(z,Y){!(Z.isUndefined(z)||z===null)&&s.append(x===!0?ro([D],Y,d):x===null?D:D+"[]",m(z))}),!1}return jr(y)?!0:(s.append(ro(se,D,d),m(y)),!1)}const M=[],B=Object.assign(_0,{defaultVisitor:I,convertValue:m,isVisitable:jr});function R(y,D){if(!Z.isUndefined(y)){if(M.indexOf(y)!==-1)throw Error("Circular reference detected in "+D.join("."));M.push(y),Z.forEach(y,function(V,L){(!(Z.isUndefined(V)||V===null)&&h.call(s,V,Z.isString(L)?L.trim():L,D,B))===!0&&R(V,D?D.concat(L):[L])}),M.pop()}}if(!Z.isObject(o))throw new TypeError("data must be an object");return R(o),s}function so(o){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(o).replace(/[!'()~]|%20|%00/g,function(f){return s[f]})}function ss(o,s){this._pairs=[],o&&fr(o,this,s)}const e1=ss.prototype;e1.append=function(s,a){this._pairs.push([s,a])};e1.toString=function(s){const a=s?function(f){return s.call(this,f,so)}:so;return this._pairs.map(function(h){return a(h[0])+"="+a(h[1])},"").join("&")};function p0(o){return encodeURIComponent(o).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function t1(o,s,a){if(!s)return o;const f=a&&a.encode||p0,h=a&&a.serialize;let d;if(h?d=h(s,a):d=Z.isURLSearchParams(s)?s.toString():new ss(s,a).toString(f),d){const x=o.indexOf("#");x!==-1&&(o=o.slice(0,x)),o+=(o.indexOf("?")===-1?"?":"&")+d}return o}class oo{constructor(){this.handlers=[]}use(s,a,f){return this.handlers.push({fulfilled:s,rejected:a,synchronous:f?f.synchronous:!1,runWhen:f?f.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Z.forEach(this.handlers,function(f){f!==null&&s(f)})}}const n1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},T0=typeof URLSearchParams<"u"?URLSearchParams:ss,y0=FormData,S0=(()=>{let o;return typeof navigator<"u"&&((o=navigator.product)==="ReactNative"||o==="NativeScript"||o==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),pn={isBrowser:!0,classes:{URLSearchParams:T0,FormData:y0,Blob},isStandardBrowserEnv:S0,protocols:["http","https","file","blob","url","data"]};function N0(o,s){return fr(o,new pn.classes.URLSearchParams,Object.assign({visitor:function(a,f,h,d){return pn.isNode&&Z.isBuffer(a)?(this.append(f,a.toString("base64")),!1):d.defaultVisitor.apply(this,arguments)}},s))}function R0(o){return Z.matchAll(/\w+|\[(\w*)]/g,o).map(s=>s[0]==="[]"?"":s[1]||s[0])}function O0(o){const s={},a=Object.keys(o);let f;const h=a.length;let d;for(f=0;f<h;f++)d=a[f],s[d]=o[d];return s}function i1(o){function s(a,f,h,d){let x=a[d++];const w=Number.isFinite(+x),A=d>=a.length;return x=!x&&Z.isArray(h)?h.length:x,A?(Z.hasOwnProp(h,x)?h[x]=[h[x],f]:h[x]=f,!w):((!h[x]||!Z.isObject(h[x]))&&(h[x]=[]),s(a,f,h[x],d)&&Z.isArray(h[x])&&(h[x]=O0(h[x])),!w)}if(Z.isFormData(o)&&Z.isFunction(o.entries)){const a={};return Z.forEachEntry(o,(f,h)=>{s(R0(f),h,a,0)}),a}return null}function D0(o,s,a){const f=a.config.validateStatus;!a.status||!f||f(a.status)?o(a):s(new ze("Request failed with status code "+a.status,[ze.ERR_BAD_REQUEST,ze.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}const M0=pn.isStandardBrowserEnv?function(){return{write:function(a,f,h,d,x,w){const A=[];A.push(a+"="+encodeURIComponent(f)),Z.isNumber(h)&&A.push("expires="+new Date(h).toGMTString()),Z.isString(d)&&A.push("path="+d),Z.isString(x)&&A.push("domain="+x),w===!0&&A.push("secure"),document.cookie=A.join("; ")},read:function(a){const f=document.cookie.match(new RegExp("(^|;\\s*)("+a+")=([^;]*)"));return f?decodeURIComponent(f[3]):null},remove:function(a){this.write(a,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function B0(o){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(o)}function P0(o,s){return s?o.replace(/\/+$/,"")+"/"+s.replace(/^\/+/,""):o}function r1(o,s){return o&&!B0(s)?P0(o,s):s}const L0=pn.isStandardBrowserEnv?function(){const s=/(msie|trident)/i.test(navigator.userAgent),a=document.createElement("a");let f;function h(d){let x=d;return s&&(a.setAttribute("href",x),x=a.href),a.setAttribute("href",x),{href:a.href,protocol:a.protocol?a.protocol.replace(/:$/,""):"",host:a.host,search:a.search?a.search.replace(/^\?/,""):"",hash:a.hash?a.hash.replace(/^#/,""):"",hostname:a.hostname,port:a.port,pathname:a.pathname.charAt(0)==="/"?a.pathname:"/"+a.pathname}}return f=h(window.location.href),function(x){const w=Z.isString(x)?h(x):x;return w.protocol===f.protocol&&w.host===f.host}}():function(){return function(){return!0}}();function Li(o,s,a){ze.call(this,o==null?"canceled":o,ze.ERR_CANCELED,s,a),this.name="CanceledError"}Z.inherits(Li,ze,{__CANCEL__:!0});function k0(o){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(o);return s&&s[1]||""}const v0=Z.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),F0=o=>{const s={};let a,f,h;return o&&o.split(`
`).forEach(function(x){h=x.indexOf(":"),a=x.substring(0,h).trim().toLowerCase(),f=x.substring(h+1).trim(),!(!a||s[a]&&v0[a])&&(a==="set-cookie"?s[a]?s[a].push(f):s[a]=[f]:s[a]=s[a]?s[a]+", "+f:f)}),s},lo=Symbol("internals"),s1=Symbol("defaults");function Ni(o){return o&&String(o).trim().toLowerCase()}function tr(o){return o===!1||o==null?o:Z.isArray(o)?o.map(tr):String(o)}function U0(o){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let f;for(;f=a.exec(o);)s[f[1]]=f[2];return s}function ao(o,s,a,f){if(Z.isFunction(f))return f.call(this,s,a);if(!!Z.isString(s)){if(Z.isString(f))return s.indexOf(f)!==-1;if(Z.isRegExp(f))return f.test(s)}}function V0(o){return o.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,f)=>a.toUpperCase()+f)}function H0(o,s){const a=Z.toCamelCase(" "+s);["get","set","has"].forEach(f=>{Object.defineProperty(o,f+a,{value:function(h,d,x){return this[f].call(this,s,h,d,x)},configurable:!0})})}function yi(o,s){s=s.toLowerCase();const a=Object.keys(o);let f=a.length,h;for(;f-- >0;)if(h=a[f],s===h.toLowerCase())return h;return null}function ln(o,s){o&&this.set(o),this[s1]=s||null}Object.assign(ln.prototype,{set:function(o,s,a){const f=this;function h(d,x,w){const A=Ni(x);if(!A)throw new Error("header name must be a non-empty string");const m=yi(f,A);m&&w!==!0&&(f[m]===!1||w===!1)||(f[m||x]=tr(d))}return Z.isPlainObject(o)?Z.forEach(o,(d,x)=>{h(d,x,s)}):h(s,o,a),this},get:function(o,s){if(o=Ni(o),!o)return;const a=yi(this,o);if(a){const f=this[a];if(!s)return f;if(s===!0)return U0(f);if(Z.isFunction(s))return s.call(this,f,a);if(Z.isRegExp(s))return s.exec(f);throw new TypeError("parser must be boolean|regexp|function")}},has:function(o,s){if(o=Ni(o),o){const a=yi(this,o);return!!(a&&(!s||ao(this,this[a],a,s)))}return!1},delete:function(o,s){const a=this;let f=!1;function h(d){if(d=Ni(d),d){const x=yi(a,d);x&&(!s||ao(a,a[x],x,s))&&(delete a[x],f=!0)}}return Z.isArray(o)?o.forEach(h):h(o),f},clear:function(){return Object.keys(this).forEach(this.delete.bind(this))},normalize:function(o){const s=this,a={};return Z.forEach(this,(f,h)=>{const d=yi(a,h);if(d){s[d]=tr(f),delete s[h];return}const x=o?V0(h):String(h).trim();x!==h&&delete s[h],s[x]=tr(f),a[x]=!0}),this},toJSON:function(o){const s=Object.create(null);return Z.forEach(Object.assign({},this[s1]||null,this),(a,f)=>{a==null||a===!1||(s[f]=o&&Z.isArray(a)?a.join(", "):a)}),s}});Object.assign(ln,{from:function(o){return Z.isString(o)?new this(F0(o)):o instanceof this?o:new this(o)},accessor:function(o){const a=(this[lo]=this[lo]={accessors:{}}).accessors,f=this.prototype;function h(d){const x=Ni(d);a[x]||(H0(f,d),a[x]=!0)}return Z.isArray(o)?o.forEach(h):h(o),this}});ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent"]);Z.freezeMethods(ln.prototype);Z.freezeMethods(ln);function G0(o,s){o=o||10;const a=new Array(o),f=new Array(o);let h=0,d=0,x;return s=s!==void 0?s:1e3,function(A){const m=Date.now(),I=f[d];x||(x=m),a[h]=A,f[h]=m;let M=d,B=0;for(;M!==h;)B+=a[M++],M=M%o;if(h=(h+1)%o,h===d&&(d=(d+1)%o),m-x<s)return;const R=I&&m-I;return R?Math.round(B*1e3/R):void 0}}function co(o,s){let a=0;const f=G0(50,250);return h=>{const d=h.loaded,x=h.lengthComputable?h.total:void 0,w=d-a,A=f(w),m=d<=x;a=d;const I={loaded:d,total:x,progress:x?d/x:void 0,bytes:w,rate:A||void 0,estimated:A&&x&&m?(x-d)/A:void 0};I[s?"download":"upload"]=!0,o(I)}}function fo(o){return new Promise(function(a,f){let h=o.data;const d=ln.from(o.headers).normalize(),x=o.responseType;let w;function A(){o.cancelToken&&o.cancelToken.unsubscribe(w),o.signal&&o.signal.removeEventListener("abort",w)}Z.isFormData(h)&&pn.isStandardBrowserEnv&&d.setContentType(!1);let m=new XMLHttpRequest;if(o.auth){const R=o.auth.username||"",y=o.auth.password?unescape(encodeURIComponent(o.auth.password)):"";d.set("Authorization","Basic "+btoa(R+":"+y))}const I=r1(o.baseURL,o.url);m.open(o.method.toUpperCase(),t1(I,o.params,o.paramsSerializer),!0),m.timeout=o.timeout;function M(){if(!m)return;const R=ln.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders()),D={data:!x||x==="text"||x==="json"?m.responseText:m.response,status:m.status,statusText:m.statusText,headers:R,config:o,request:m};D0(function(V){a(V),A()},function(V){f(V),A()},D),m=null}if("onloadend"in m?m.onloadend=M:m.onreadystatechange=function(){!m||m.readyState!==4||m.status===0&&!(m.responseURL&&m.responseURL.indexOf("file:")===0)||setTimeout(M)},m.onabort=function(){!m||(f(new ze("Request aborted",ze.ECONNABORTED,o,m)),m=null)},m.onerror=function(){f(new ze("Network Error",ze.ERR_NETWORK,o,m)),m=null},m.ontimeout=function(){let y=o.timeout?"timeout of "+o.timeout+"ms exceeded":"timeout exceeded";const D=o.transitional||n1;o.timeoutErrorMessage&&(y=o.timeoutErrorMessage),f(new ze(y,D.clarifyTimeoutError?ze.ETIMEDOUT:ze.ECONNABORTED,o,m)),m=null},pn.isStandardBrowserEnv){const R=(o.withCredentials||L0(I))&&o.xsrfCookieName&&M0.read(o.xsrfCookieName);R&&d.set(o.xsrfHeaderName,R)}h===void 0&&d.setContentType(null),"setRequestHeader"in m&&Z.forEach(d.toJSON(),function(y,D){m.setRequestHeader(D,y)}),Z.isUndefined(o.withCredentials)||(m.withCredentials=!!o.withCredentials),x&&x!=="json"&&(m.responseType=o.responseType),typeof o.onDownloadProgress=="function"&&m.addEventListener("progress",co(o.onDownloadProgress,!0)),typeof o.onUploadProgress=="function"&&m.upload&&m.upload.addEventListener("progress",co(o.onUploadProgress)),(o.cancelToken||o.signal)&&(w=R=>{!m||(f(!R||R.type?new Li(null,o,m):R),m.abort(),m=null)},o.cancelToken&&o.cancelToken.subscribe(w),o.signal&&(o.signal.aborted?w():o.signal.addEventListener("abort",w)));const B=k0(I);if(B&&pn.protocols.indexOf(B)===-1){f(new ze("Unsupported protocol "+B+":",ze.ERR_BAD_REQUEST,o));return}m.send(h||null)})}const uo={http:fo,xhr:fo},ho={getAdapter:o=>{if(Z.isString(o)){const s=uo[o];if(!o)throw Error(Z.hasOwnProp(o)?`Adapter '${o}' is not available in the build`:`Can not resolve adapter '${o}'`);return s}if(!Z.isFunction(o))throw new TypeError("adapter is not a function");return o},adapters:uo},z0={"Content-Type":"application/x-www-form-urlencoded"};function W0(){let o;return typeof XMLHttpRequest<"u"?o=ho.getAdapter("xhr"):typeof process<"u"&&Z.kindOf(process)==="process"&&(o=ho.getAdapter("http")),o}function X0(o,s,a){if(Z.isString(o))try{return(s||JSON.parse)(o),Z.trim(o)}catch(f){if(f.name!=="SyntaxError")throw f}return(a||JSON.stringify)(o)}const gi={transitional:n1,adapter:W0(),transformRequest:[function(s,a){const f=a.getContentType()||"",h=f.indexOf("application/json")>-1,d=Z.isObject(s);if(d&&Z.isHTMLForm(s)&&(s=new FormData(s)),Z.isFormData(s))return h&&h?JSON.stringify(i1(s)):s;if(Z.isArrayBuffer(s)||Z.isBuffer(s)||Z.isStream(s)||Z.isFile(s)||Z.isBlob(s))return s;if(Z.isArrayBufferView(s))return s.buffer;if(Z.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let w;if(d){if(f.indexOf("application/x-www-form-urlencoded")>-1)return N0(s,this.formSerializer).toString();if((w=Z.isFileList(s))||f.indexOf("multipart/form-data")>-1){const A=this.env&&this.env.FormData;return fr(w?{"files[]":s}:s,A&&new A,this.formSerializer)}}return d||h?(a.setContentType("application/json",!1),X0(s)):s}],transformResponse:[function(s){const a=this.transitional||gi.transitional,f=a&&a.forcedJSONParsing,h=this.responseType==="json";if(s&&Z.isString(s)&&(f&&!this.responseType||h)){const x=!(a&&a.silentJSONParsing)&&h;try{return JSON.parse(s)}catch(w){if(x)throw w.name==="SyntaxError"?ze.from(w,ze.ERR_BAD_RESPONSE,this,null,this.response):w}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:pn.classes.FormData,Blob:pn.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};Z.forEach(["delete","get","head"],function(s){gi.headers[s]={}});Z.forEach(["post","put","patch"],function(s){gi.headers[s]=Z.merge(z0)});function Pr(o,s){const a=this||gi,f=s||a,h=ln.from(f.headers);let d=f.data;return Z.forEach(o,function(w){d=w.call(a,d,h.normalize(),s?s.status:void 0)}),h.normalize(),d}function o1(o){return!!(o&&o.__CANCEL__)}function Lr(o){if(o.cancelToken&&o.cancelToken.throwIfRequested(),o.signal&&o.signal.aborted)throw new Li}function go(o){return Lr(o),o.headers=ln.from(o.headers),o.data=Pr.call(o,o.transformRequest),(o.adapter||gi.adapter)(o).then(function(f){return Lr(o),f.data=Pr.call(o,o.transformResponse,f),f.headers=ln.from(f.headers),f},function(f){return o1(f)||(Lr(o),f&&f.response&&(f.response.data=Pr.call(o,o.transformResponse,f.response),f.response.headers=ln.from(f.response.headers))),Promise.reject(f)})}function Mi(o,s){s=s||{};const a={};function f(m,I){return Z.isPlainObject(m)&&Z.isPlainObject(I)?Z.merge(m,I):Z.isPlainObject(I)?Z.merge({},I):Z.isArray(I)?I.slice():I}function h(m){if(Z.isUndefined(s[m])){if(!Z.isUndefined(o[m]))return f(void 0,o[m])}else return f(o[m],s[m])}function d(m){if(!Z.isUndefined(s[m]))return f(void 0,s[m])}function x(m){if(Z.isUndefined(s[m])){if(!Z.isUndefined(o[m]))return f(void 0,o[m])}else return f(void 0,s[m])}function w(m){if(m in s)return f(o[m],s[m]);if(m in o)return f(void 0,o[m])}const A={url:d,method:d,data:d,baseURL:x,transformRequest:x,transformResponse:x,paramsSerializer:x,timeout:x,timeoutMessage:x,withCredentials:x,adapter:x,responseType:x,xsrfCookieName:x,xsrfHeaderName:x,onUploadProgress:x,onDownloadProgress:x,decompress:x,maxContentLength:x,maxBodyLength:x,beforeRedirect:x,transport:x,httpAgent:x,httpsAgent:x,cancelToken:x,socketPath:x,responseEncoding:x,validateStatus:w};return Z.forEach(Object.keys(o).concat(Object.keys(s)),function(I){const M=A[I]||h,B=M(I);Z.isUndefined(B)&&M!==w||(a[I]=B)}),a}const l1="1.1.3",os={};["object","boolean","number","function","string","symbol"].forEach((o,s)=>{os[o]=function(f){return typeof f===o||"a"+(s<1?"n ":" ")+o}});const xo={};os.transitional=function(s,a,f){function h(d,x){return"[Axios v"+l1+"] Transitional option '"+d+"'"+x+(f?". "+f:"")}return(d,x,w)=>{if(s===!1)throw new ze(h(x," has been removed"+(a?" in "+a:"")),ze.ERR_DEPRECATED);return a&&!xo[x]&&(xo[x]=!0,console.warn(h(x," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(d,x,w):!0}};function Y0(o,s,a){if(typeof o!="object")throw new ze("options must be an object",ze.ERR_BAD_OPTION_VALUE);const f=Object.keys(o);let h=f.length;for(;h-- >0;){const d=f[h],x=s[d];if(x){const w=o[d],A=w===void 0||x(w,d,o);if(A!==!0)throw new ze("option "+d+" must be "+A,ze.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new ze("Unknown option "+d,ze.ERR_BAD_OPTION)}}const Zr={assertOptions:Y0,validators:os},Ln=Zr.validators;class Kn{constructor(s){this.defaults=s,this.interceptors={request:new oo,response:new oo}}request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=Mi(this.defaults,a);const{transitional:f,paramsSerializer:h}=a;f!==void 0&&Zr.assertOptions(f,{silentJSONParsing:Ln.transitional(Ln.boolean),forcedJSONParsing:Ln.transitional(Ln.boolean),clarifyTimeoutError:Ln.transitional(Ln.boolean)},!1),h!==void 0&&Zr.assertOptions(h,{encode:Ln.function,serialize:Ln.function},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();const d=a.headers&&Z.merge(a.headers.common,a.headers[a.method]);d&&Z.forEach(["delete","get","head","post","put","patch","common"],function(y){delete a.headers[y]}),a.headers=new ln(a.headers,d);const x=[];let w=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(a)===!1||(w=w&&y.synchronous,x.unshift(y.fulfilled,y.rejected))});const A=[];this.interceptors.response.forEach(function(y){A.push(y.fulfilled,y.rejected)});let m,I=0,M;if(!w){const R=[go.bind(this),void 0];for(R.unshift.apply(R,x),R.push.apply(R,A),M=R.length,m=Promise.resolve(a);I<M;)m=m.then(R[I++],R[I++]);return m}M=x.length;let B=a;for(I=0;I<M;){const R=x[I++],y=x[I++];try{B=R(B)}catch(D){y.call(this,D);break}}try{m=go.call(this,B)}catch(R){return Promise.reject(R)}for(I=0,M=A.length;I<M;)m=m.then(A[I++],A[I++]);return m}getUri(s){s=Mi(this.defaults,s);const a=r1(s.baseURL,s.url);return t1(a,s.params,s.paramsSerializer)}}Z.forEach(["delete","get","head","options"],function(s){Kn.prototype[s]=function(a,f){return this.request(Mi(f||{},{method:s,url:a,data:(f||{}).data}))}});Z.forEach(["post","put","patch"],function(s){function a(f){return function(d,x,w){return this.request(Mi(w||{},{method:s,headers:f?{"Content-Type":"multipart/form-data"}:{},url:d,data:x}))}}Kn.prototype[s]=a(),Kn.prototype[s+"Form"]=a(!0)});class ls{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(d){a=d});const f=this;this.promise.then(h=>{if(!f._listeners)return;let d=f._listeners.length;for(;d-- >0;)f._listeners[d](h);f._listeners=null}),this.promise.then=h=>{let d;const x=new Promise(w=>{f.subscribe(w),d=w}).then(h);return x.cancel=function(){f.unsubscribe(d)},x},s(function(d,x,w){f.reason||(f.reason=new Li(d,x,w),a(f.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}static source(){let s;return{token:new ls(function(h){s=h}),cancel:s}}}function j0(o){return function(a){return o.apply(null,a)}}function Z0(o){return Z.isObject(o)&&o.isAxiosError===!0}function a1(o){const s=new Kn(o),a=Xo(Kn.prototype.request,s);return Z.extend(a,Kn.prototype,s,{allOwnKeys:!0}),Z.extend(a,s,null,{allOwnKeys:!0}),a.create=function(h){return a1(Mi(o,h))},a}const Jt=a1(gi);Jt.Axios=Kn;Jt.CanceledError=Li;Jt.CancelToken=ls;Jt.isCancel=o1;Jt.VERSION=l1;Jt.toFormData=fr;Jt.AxiosError=ze;Jt.Cancel=Jt.CanceledError;Jt.all=function(s){return Promise.all(s)};Jt.spread=j0;Jt.isAxiosError=Z0;Jt.formToJSON=o=>i1(Z.isHTMLForm(o)?new FormData(o):o);const K0={baseURL:"http://localhost:5173",timeout:1e3,headers:{"Content-Type":"application/json"}},wo=Jt.create(K0);var pt;(function(o){o[o.QR_CODE=0]="QR_CODE",o[o.AZTEC=1]="AZTEC",o[o.CODABAR=2]="CODABAR",o[o.CODE_39=3]="CODE_39",o[o.CODE_93=4]="CODE_93",o[o.CODE_128=5]="CODE_128",o[o.DATA_MATRIX=6]="DATA_MATRIX",o[o.MAXICODE=7]="MAXICODE",o[o.ITF=8]="ITF",o[o.EAN_13=9]="EAN_13",o[o.EAN_8=10]="EAN_8",o[o.PDF_417=11]="PDF_417",o[o.RSS_14=12]="RSS_14",o[o.RSS_EXPANDED=13]="RSS_EXPANDED",o[o.UPC_A=14]="UPC_A",o[o.UPC_E=15]="UPC_E",o[o.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(pt||(pt={}));pt.QR_CODE,pt.AZTEC,pt.CODABAR,pt.CODE_39,pt.CODE_93,pt.CODE_128,pt.DATA_MATRIX,pt.MAXICODE,pt.ITF,pt.EAN_13,pt.EAN_8,pt.PDF_417,pt.RSS_14,pt.RSS_EXPANDED,pt.UPC_A,pt.UPC_E,pt.UPC_EAN_EXTENSION;var mo;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.URL=1]="URL"})(mo||(mo={}));var ir;(function(o){o[o.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",o[o.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(ir||(ir={}));var q0=function(){function o(){}return o.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",o.SCAN_DEFAULT_FPS=2,o.DEFAULT_DISABLE_FLIP=!1,o.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,o.DEFAULT_SUPPORTED_SCAN_TYPE=[ir.SCAN_TYPE_CAMERA,ir.SCAN_TYPE_FILE],o}(),Eo;(function(o){o[o.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",o[o.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",o[o.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})(Eo||(Eo={}));var Ao={exports:{}};(function(o,s){(function(a,f){f(s)})(Ti,function(a){/*! *****************************************************************************
	    Copyright (c) Microsoft Corporation. All rights reserved.
	    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
	    this file except in compliance with the License. You may obtain a copy of the
	    License at http://www.apache.org/licenses/LICENSE-2.0

	    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
	    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
	    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
	    MERCHANTABLITY OR NON-INFRINGEMENT.

	    See the Apache Version 2.0 License for specific language governing permissions
	    and limitations under the License.
	    ***************************************************************************** */var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(C,e){C.__proto__=e}||function(C,e){for(var t in e)e.hasOwnProperty(t)&&(C[t]=e[t])};function h(C,e){f(C,e);function t(){this.constructor=C}C.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}function d(C,e){var t=Object.setPrototypeOf;t?t(C,e):C.__proto__=e}function x(C,e){e===void 0&&(e=C.constructor);var t=Error.captureStackTrace;t&&t(C,e)}var w=function(C){h(e,C);function e(t){var n=this.constructor,i=C.call(this,t)||this;return Object.defineProperty(i,"name",{value:n.name,enumerable:!1}),d(i,n.prototype),x(i),i}return e}(Error);class A extends w{constructor(e=void 0){super(e),this.message=e}getKind(){return this.constructor.kind}}A.kind="Exception";class m extends A{}m.kind="ArgumentException";class I extends A{}I.kind="IllegalArgumentException";class M{constructor(e){if(this.binarizer=e,e===null)throw new I("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(e,t){return this.binarizer.getBlackRow(e,t)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(e,t,n,i){const r=this.binarizer.getLuminanceSource().crop(e,t,n,i);return new M(this.binarizer.createBinarizer(r))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new M(this.binarizer.createBinarizer(e))}rotateCounterClockwise45(){const e=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new M(this.binarizer.createBinarizer(e))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class B extends A{static getChecksumInstance(){return new B}}B.kind="ChecksumException";class R{constructor(e){this.source=e}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class y{static arraycopy(e,t,n,i,r){for(;r--;)n[i++]=e[t++]}static currentTimeMillis(){return Date.now()}}class D extends A{}D.kind="IndexOutOfBoundsException";class se extends D{constructor(e=void 0,t=void 0){super(t),this.index=e,this.message=t}}se.kind="ArrayIndexOutOfBoundsException";class V{static fill(e,t){for(let n=0,i=e.length;n<i;n++)e[n]=t}static fillWithin(e,t,n,i){V.rangeCheck(e.length,t,n);for(let r=t;r<n;r++)e[r]=i}static rangeCheck(e,t,n){if(t>n)throw new I("fromIndex("+t+") > toIndex("+n+")");if(t<0)throw new se(t);if(n>e)throw new se(n)}static asList(...e){return e}static create(e,t,n){return Array.from({length:e}).map(r=>Array.from({length:t}).fill(n))}static createInt32Array(e,t,n){return Array.from({length:e}).map(r=>Int32Array.from({length:t}).fill(n))}static equals(e,t){if(!e||!t||!e.length||!t.length||e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}static hashCode(e){if(e===null)return 0;let t=1;for(const n of e)t=31*t+n;return t}static fillUint8Array(e,t){for(let n=0;n!==e.length;n++)e[n]=t}static copyOf(e,t){return e.slice(0,t)}static copyOfUint8Array(e,t){if(e.length<=t){const n=new Uint8Array(t);return n.set(e),n}return e.slice(0,t)}static copyOfRange(e,t,n){const i=n-t,r=new Int32Array(i);return y.arraycopy(e,t,r,0,i),r}static binarySearch(e,t,n){n===void 0&&(n=V.numberComparator);let i=0,r=e.length-1;for(;i<=r;){const l=r+i>>1,c=n(t,e[l]);if(c>0)i=l+1;else if(c<0)r=l-1;else return l}return-i-1}static numberComparator(e,t){return e-t}}class L{static numberOfTrailingZeros(e){let t;if(e===0)return 32;let n=31;return t=e<<16,t!==0&&(n-=16,e=t),t=e<<8,t!==0&&(n-=8,e=t),t=e<<4,t!==0&&(n-=4,e=t),t=e<<2,t!==0&&(n-=2,e=t),n-(e<<1>>>31)}static numberOfLeadingZeros(e){if(e===0)return 32;let t=1;return e>>>16===0&&(t+=16,e<<=16),e>>>24===0&&(t+=8,e<<=8),e>>>28===0&&(t+=4,e<<=4),e>>>30===0&&(t+=2,e<<=2),t-=e>>>31,t}static toHexString(e){return e.toString(16)}static toBinaryString(e){return String(parseInt(String(e),2))}static bitCount(e){return e=e-(e>>>1&1431655765),e=(e&858993459)+(e>>>2&858993459),e=e+(e>>>4)&252645135,e=e+(e>>>8),e=e+(e>>>16),e&63}static truncDivision(e,t){return Math.trunc(e/t)}static parseInt(e,t=void 0){return parseInt(e,t)}}L.MIN_VALUE_32_BITS=-2147483648,L.MAX_VALUE=Number.MAX_SAFE_INTEGER;class z{constructor(e,t){e===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=e,t==null?this.bits=z.makeArray(e):this.bits=t)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(e){if(e>this.bits.length*32){const t=z.makeArray(e);y.arraycopy(this.bits,0,t,0,this.bits.length),this.bits=t}}get(e){return(this.bits[Math.floor(e/32)]&1<<(e&31))!==0}set(e){this.bits[Math.floor(e/32)]|=1<<(e&31)}flip(e){this.bits[Math.floor(e/32)]^=1<<(e&31)}getNextSet(e){const t=this.size;if(e>=t)return t;const n=this.bits;let i=Math.floor(e/32),r=n[i];r&=~((1<<(e&31))-1);const l=n.length;for(;r===0;){if(++i===l)return t;r=n[i]}const c=i*32+L.numberOfTrailingZeros(r);return c>t?t:c}getNextUnset(e){const t=this.size;if(e>=t)return t;const n=this.bits;let i=Math.floor(e/32),r=~n[i];r&=~((1<<(e&31))-1);const l=n.length;for(;r===0;){if(++i===l)return t;r=~n[i]}const c=i*32+L.numberOfTrailingZeros(r);return c>t?t:c}setBulk(e,t){this.bits[Math.floor(e/32)]=t}setRange(e,t){if(t<e||e<0||t>this.size)throw new I;if(t===e)return;t--;const n=Math.floor(e/32),i=Math.floor(t/32),r=this.bits;for(let l=n;l<=i;l++){const c=l>n?0:e&31,g=(2<<(l<i?31:t&31))-(1<<c);r[l]|=g}}clear(){const e=this.bits.length,t=this.bits;for(let n=0;n<e;n++)t[n]=0}isRange(e,t,n){if(t<e||e<0||t>this.size)throw new I;if(t===e)return!0;t--;const i=Math.floor(e/32),r=Math.floor(t/32),l=this.bits;for(let c=i;c<=r;c++){const u=c>i?0:e&31,E=(2<<(c<r?31:t&31))-(1<<u)&4294967295;if((l[c]&E)!==(n?E:0))return!1}return!0}appendBit(e){this.ensureCapacity(this.size+1),e&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(e,t){if(t<0||t>32)throw new I("Num bits must be between 0 and 32");this.ensureCapacity(this.size+t);for(let n=t;n>0;n--)this.appendBit((e>>n-1&1)===1)}appendBitArray(e){const t=e.size;this.ensureCapacity(this.size+t);for(let n=0;n<t;n++)this.appendBit(e.get(n))}xor(e){if(this.size!==e.size)throw new I("Sizes don't match");const t=this.bits;for(let n=0,i=t.length;n<i;n++)t[n]^=e.bits[n]}toBytes(e,t,n,i){for(let r=0;r<i;r++){let l=0;for(let c=0;c<8;c++)this.get(e)&&(l|=1<<7-c),e++;t[n+r]=l}}getBitArray(){return this.bits}reverse(){const e=new Int32Array(this.bits.length),t=Math.floor((this.size-1)/32),n=t+1,i=this.bits;for(let r=0;r<n;r++){let l=i[r];l=l>>1&1431655765|(l&1431655765)<<1,l=l>>2&858993459|(l&858993459)<<2,l=l>>4&252645135|(l&252645135)<<4,l=l>>8&16711935|(l&16711935)<<8,l=l>>16&65535|(l&65535)<<16,e[t-r]=l}if(this.size!==n*32){const r=n*32-this.size;let l=e[0]>>>r;for(let c=1;c<n;c++){const u=e[c];l|=u<<32-r,e[c-1]=l,l=u>>>r}e[n-1]=l}this.bits=e}static makeArray(e){return new Int32Array(Math.floor((e+31)/32))}equals(e){if(!(e instanceof z))return!1;const t=e;return this.size===t.size&&V.equals(this.bits,t.bits)}hashCode(){return 31*this.size+V.hashCode(this.bits)}toString(){let e="";for(let t=0,n=this.size;t<n;t++)(t&7)===0&&(e+=" "),e+=this.get(t)?"X":".";return e}clone(){return new z(this.size,this.bits.slice())}}var Y;(function(C){C[C.OTHER=0]="OTHER",C[C.PURE_BARCODE=1]="PURE_BARCODE",C[C.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",C[C.TRY_HARDER=3]="TRY_HARDER",C[C.CHARACTER_SET=4]="CHARACTER_SET",C[C.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",C[C.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",C[C.ASSUME_GS1=7]="ASSUME_GS1",C[C.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",C[C.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",C[C.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(Y||(Y={}));var W=Y;class P extends A{static getFormatInstance(){return new P}}P.kind="FormatException";var ce;(function(C){C[C.Cp437=0]="Cp437",C[C.ISO8859_1=1]="ISO8859_1",C[C.ISO8859_2=2]="ISO8859_2",C[C.ISO8859_3=3]="ISO8859_3",C[C.ISO8859_4=4]="ISO8859_4",C[C.ISO8859_5=5]="ISO8859_5",C[C.ISO8859_6=6]="ISO8859_6",C[C.ISO8859_7=7]="ISO8859_7",C[C.ISO8859_8=8]="ISO8859_8",C[C.ISO8859_9=9]="ISO8859_9",C[C.ISO8859_10=10]="ISO8859_10",C[C.ISO8859_11=11]="ISO8859_11",C[C.ISO8859_13=12]="ISO8859_13",C[C.ISO8859_14=13]="ISO8859_14",C[C.ISO8859_15=14]="ISO8859_15",C[C.ISO8859_16=15]="ISO8859_16",C[C.SJIS=16]="SJIS",C[C.Cp1250=17]="Cp1250",C[C.Cp1251=18]="Cp1251",C[C.Cp1252=19]="Cp1252",C[C.Cp1256=20]="Cp1256",C[C.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",C[C.UTF8=22]="UTF8",C[C.ASCII=23]="ASCII",C[C.Big5=24]="Big5",C[C.GB18030=25]="GB18030",C[C.EUC_KR=26]="EUC_KR"})(ce||(ce={}));class U{constructor(e,t,n,...i){this.valueIdentifier=e,this.name=n,typeof t=="number"?this.values=Int32Array.from([t]):this.values=t,this.otherEncodingNames=i,U.VALUE_IDENTIFIER_TO_ECI.set(e,this),U.NAME_TO_ECI.set(n,this);const r=this.values;for(let l=0,c=r.length;l!==c;l++){const u=r[l];U.VALUES_TO_ECI.set(u,this)}for(const l of i)U.NAME_TO_ECI.set(l,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(e){if(e<0||e>=900)throw new P("incorect value");const t=U.VALUES_TO_ECI.get(e);if(t===void 0)throw new P("incorect value");return t}static getCharacterSetECIByName(e){const t=U.NAME_TO_ECI.get(e);if(t===void 0)throw new P("incorect value");return t}equals(e){if(!(e instanceof U))return!1;const t=e;return this.getName()===t.getName()}}U.VALUE_IDENTIFIER_TO_ECI=new Map,U.VALUES_TO_ECI=new Map,U.NAME_TO_ECI=new Map,U.Cp437=new U(ce.Cp437,Int32Array.from([0,2]),"Cp437"),U.ISO8859_1=new U(ce.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),U.ISO8859_2=new U(ce.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),U.ISO8859_3=new U(ce.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),U.ISO8859_4=new U(ce.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),U.ISO8859_5=new U(ce.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),U.ISO8859_6=new U(ce.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),U.ISO8859_7=new U(ce.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),U.ISO8859_8=new U(ce.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),U.ISO8859_9=new U(ce.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),U.ISO8859_10=new U(ce.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),U.ISO8859_11=new U(ce.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),U.ISO8859_13=new U(ce.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),U.ISO8859_14=new U(ce.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),U.ISO8859_15=new U(ce.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),U.ISO8859_16=new U(ce.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),U.SJIS=new U(ce.SJIS,20,"SJIS","Shift_JIS"),U.Cp1250=new U(ce.Cp1250,21,"Cp1250","windows-1250"),U.Cp1251=new U(ce.Cp1251,22,"Cp1251","windows-1251"),U.Cp1252=new U(ce.Cp1252,23,"Cp1252","windows-1252"),U.Cp1256=new U(ce.Cp1256,24,"Cp1256","windows-1256"),U.UnicodeBigUnmarked=new U(ce.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),U.UTF8=new U(ce.UTF8,26,"UTF8","UTF-8"),U.ASCII=new U(ce.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),U.Big5=new U(ce.Big5,28,"Big5"),U.GB18030=new U(ce.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),U.EUC_KR=new U(ce.EUC_KR,30,"EUC_KR","EUC-KR");class q extends A{}q.kind="UnsupportedOperationException";class he{static decode(e,t){const n=this.encodingName(t);return this.customDecoder?this.customDecoder(e,n):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(n)?this.decodeFallback(e,n):new TextDecoder(n).decode(e)}static shouldDecodeOnFallback(e){return!he.isBrowser()&&e==="ISO-8859-1"}static encode(e,t){const n=this.encodingName(t);return this.customEncoder?this.customEncoder(e,n):typeof TextEncoder>"u"?this.encodeFallback(e):new TextEncoder().encode(e)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(e){return typeof e=="string"?e:e.getName()}static encodingCharacterSet(e){return e instanceof U?e:U.getCharacterSetECIByName(e)}static decodeFallback(e,t){const n=this.encodingCharacterSet(t);if(he.isDecodeFallbackSupported(n)){let i="";for(let r=0,l=e.length;r<l;r++){let c=e[r].toString(16);c.length<2&&(c="0"+c),i+="%"+c}return decodeURIComponent(i)}if(n.equals(U.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(e.buffer));throw new q(`Encoding ${this.encodingName(t)} not supported by fallback.`)}static isDecodeFallbackSupported(e){return e.equals(U.UTF8)||e.equals(U.ISO8859_1)||e.equals(U.ASCII)}static encodeFallback(e){const n=btoa(unescape(encodeURIComponent(e))).split(""),i=[];for(let r=0;r<n.length;r++)i.push(n[r].charCodeAt(0));return new Uint8Array(i)}}class ie{static castAsNonUtf8Char(e,t=null){const n=t?t.getName():this.ISO88591;return he.decode(new Uint8Array([e]),n)}static guessEncoding(e,t){if(t!=null&&t.get(W.CHARACTER_SET)!==void 0)return t.get(W.CHARACTER_SET).toString();const n=e.length;let i=!0,r=!0,l=!0,c=0,u=0,g=0,E=0,b=0,_=0,T=0,N=0,O=0,k=0,G=0;const $=e.length>3&&e[0]===239&&e[1]===187&&e[2]===191;for(let ne=0;ne<n&&(i||r||l);ne++){const J=e[ne]&255;l&&(c>0?(J&128)===0?l=!1:c--:(J&128)!==0&&((J&64)===0?l=!1:(c++,(J&32)===0?u++:(c++,(J&16)===0?g++:(c++,(J&8)===0?E++:l=!1))))),i&&(J>127&&J<160?i=!1:J>159&&(J<192||J===215||J===247)&&G++),r&&(b>0?J<64||J===127||J>252?r=!1:b--:J===128||J===160||J>239?r=!1:J>160&&J<224?(_++,N=0,T++,T>O&&(O=T)):J>127?(b++,T=0,N++,N>k&&(k=N)):(T=0,N=0))}return l&&c>0&&(l=!1),r&&b>0&&(r=!1),l&&($||u+g+E>0)?ie.UTF8:r&&(ie.ASSUME_SHIFT_JIS||O>=3||k>=3)?ie.SHIFT_JIS:i&&r?O===2&&_===2||G*10>=n?ie.SHIFT_JIS:ie.ISO88591:i?ie.ISO88591:r?ie.SHIFT_JIS:l?ie.UTF8:ie.PLATFORM_DEFAULT_ENCODING}static format(e,...t){let n=-1;function i(l,c,u,g,E,b){if(l==="%%")return"%";if(t[++n]===void 0)return;l=g?parseInt(g.substr(1)):void 0;let _=E?parseInt(E.substr(1)):void 0,T;switch(b){case"s":T=t[n];break;case"c":T=t[n][0];break;case"f":T=parseFloat(t[n]).toFixed(l);break;case"p":T=parseFloat(t[n]).toPrecision(l);break;case"e":T=parseFloat(t[n]).toExponential(l);break;case"x":T=parseInt(t[n]).toString(_||16);break;case"d":T=parseFloat(parseInt(t[n],_||10).toPrecision(l)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(_);let N=parseInt(u),O=u&&u[0]+""=="0"?"0":" ";for(;T.length<N;)T=c!==void 0?T+O:O+T;return T}let r=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(r,i)}static getBytes(e,t){return he.encode(e,t)}static getCharCode(e,t=0){return e.charCodeAt(t)}static getCharAt(e){return String.fromCharCode(e)}}ie.SHIFT_JIS=U.SJIS.getName(),ie.GB2312="GB2312",ie.ISO88591=U.ISO8859_1.getName(),ie.EUC_JP="EUC_JP",ie.UTF8=U.UTF8.getName(),ie.PLATFORM_DEFAULT_ENCODING=ie.UTF8,ie.ASSUME_SHIFT_JIS=!1;class Q{constructor(e=""){this.value=e}enableDecoding(e){return this.encoding=e,this}append(e){return typeof e=="string"?this.value+=e.toString():this.encoding?this.value+=ie.castAsNonUtf8Char(e,this.encoding):this.value+=String.fromCharCode(e),this}appendChars(e,t,n){for(let i=t;t<t+n;i++)this.append(e[i]);return this}length(){return this.value.length}charAt(e){return this.value.charAt(e)}deleteCharAt(e){this.value=this.value.substr(0,e)+this.value.substring(e+1)}setCharAt(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+1)}substring(e,t){return this.value.substring(e,t)}setLengthToZero(){this.value=""}toString(){return this.value}insert(e,t){this.value=this.value.substr(0,e)+t+this.value.substr(e+t.length)}}class fe{constructor(e,t,n,i){if(this.width=e,this.height=t,this.rowSize=n,this.bits=i,t==null&&(t=e),this.height=t,e<1||t<1)throw new I("Both dimensions must be greater than 0");n==null&&(n=Math.floor((e+31)/32)),this.rowSize=n,i==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(e){const t=e.length,n=e[0].length,i=new fe(n,t);for(let r=0;r<t;r++){const l=e[r];for(let c=0;c<n;c++)l[c]&&i.set(c,r)}return i}static parseFromString(e,t,n){if(e===null)throw new I("stringRepresentation cannot be null");const i=new Array(e.length);let r=0,l=0,c=-1,u=0,g=0;for(;g<e.length;)if(e.charAt(g)===`
`||e.charAt(g)==="\r"){if(r>l){if(c===-1)c=r-l;else if(r-l!==c)throw new I("row lengths do not match");l=r,u++}g++}else if(e.substring(g,g+t.length)===t)g+=t.length,i[r]=!0,r++;else if(e.substring(g,g+n.length)===n)g+=n.length,i[r]=!1,r++;else throw new I("illegal character encountered: "+e.substring(g));if(r>l){if(c===-1)c=r-l;else if(r-l!==c)throw new I("row lengths do not match");u++}const E=new fe(c,u);for(let b=0;b<r;b++)i[b]&&E.set(Math.floor(b%c),Math.floor(b/c));return E}get(e,t){const n=t*this.rowSize+Math.floor(e/32);return(this.bits[n]>>>(e&31)&1)!==0}set(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]|=1<<(e&31)&4294967295}unset(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]&=~(1<<(e&31)&4294967295)}flip(e,t){const n=t*this.rowSize+Math.floor(e/32);this.bits[n]^=1<<(e&31)&4294967295}xor(e){if(this.width!==e.getWidth()||this.height!==e.getHeight()||this.rowSize!==e.getRowSize())throw new I("input matrix dimensions do not match");const t=new z(Math.floor(this.width/32)+1),n=this.rowSize,i=this.bits;for(let r=0,l=this.height;r<l;r++){const c=r*n,u=e.getRow(r,t).getBitArray();for(let g=0;g<n;g++)i[c+g]^=u[g]}}clear(){const e=this.bits,t=e.length;for(let n=0;n<t;n++)e[n]=0}setRegion(e,t,n,i){if(t<0||e<0)throw new I("Left and top must be nonnegative");if(i<1||n<1)throw new I("Height and width must be at least 1");const r=e+n,l=t+i;if(l>this.height||r>this.width)throw new I("The region must fit inside the matrix");const c=this.rowSize,u=this.bits;for(let g=t;g<l;g++){const E=g*c;for(let b=e;b<r;b++)u[E+Math.floor(b/32)]|=1<<(b&31)&4294967295}}getRow(e,t){t==null||t.getSize()<this.width?t=new z(this.width):t.clear();const n=this.rowSize,i=this.bits,r=e*n;for(let l=0;l<n;l++)t.setBulk(l*32,i[r+l]);return t}setRow(e,t){y.arraycopy(t.getBitArray(),0,this.bits,e*this.rowSize,this.rowSize)}rotate180(){const e=this.getWidth(),t=this.getHeight();let n=new z(e),i=new z(e);for(let r=0,l=Math.floor((t+1)/2);r<l;r++)n=this.getRow(r,n),i=this.getRow(t-1-r,i),n.reverse(),i.reverse(),this.setRow(r,i),this.setRow(t-1-r,n)}getEnclosingRectangle(){const e=this.width,t=this.height,n=this.rowSize,i=this.bits;let r=e,l=t,c=-1,u=-1;for(let g=0;g<t;g++)for(let E=0;E<n;E++){const b=i[g*n+E];if(b!==0){if(g<l&&(l=g),g>u&&(u=g),E*32<r){let _=0;for(;(b<<31-_&4294967295)===0;)_++;E*32+_<r&&(r=E*32+_)}if(E*32+31>c){let _=31;for(;b>>>_===0;)_--;E*32+_>c&&(c=E*32+_)}}}return c<r||u<l?null:Int32Array.from([r,l,c-r+1,u-l+1])}getTopLeftOnBit(){const e=this.rowSize,t=this.bits;let n=0;for(;n<t.length&&t[n]===0;)n++;if(n===t.length)return null;const i=n/e;let r=n%e*32;const l=t[n];let c=0;for(;(l<<31-c&4294967295)===0;)c++;return r+=c,Int32Array.from([r,i])}getBottomRightOnBit(){const e=this.rowSize,t=this.bits;let n=t.length-1;for(;n>=0&&t[n]===0;)n--;if(n<0)return null;const i=Math.floor(n/e);let r=Math.floor(n%e)*32;const l=t[n];let c=31;for(;l>>>c===0;)c--;return r+=c,Int32Array.from([r,i])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(e){if(!(e instanceof fe))return!1;const t=e;return this.width===t.width&&this.height===t.height&&this.rowSize===t.rowSize&&V.equals(this.bits,t.bits)}hashCode(){let e=this.width;return e=31*e+this.width,e=31*e+this.height,e=31*e+this.rowSize,e=31*e+V.hashCode(this.bits),e}toString(e="X ",t="  ",n=`
`){return this.buildToString(e,t,n)}buildToString(e,t,n){let i=new Q;for(let r=0,l=this.height;r<l;r++){for(let c=0,u=this.width;c<u;c++)i.append(this.get(c,r)?e:t);i.append(n)}return i.toString()}clone(){return new fe(this.width,this.height,this.rowSize,this.bits.slice())}}class S extends A{static getNotFoundInstance(){return new S}}S.kind="NotFoundException";class le extends R{constructor(e){super(e),this.luminances=le.EMPTY,this.buckets=new Int32Array(le.LUMINANCE_BUCKETS)}getBlackRow(e,t){const n=this.getLuminanceSource(),i=n.getWidth();t==null||t.getSize()<i?t=new z(i):t.clear(),this.initArrays(i);const r=n.getRow(e,this.luminances),l=this.buckets;for(let u=0;u<i;u++)l[(r[u]&255)>>le.LUMINANCE_SHIFT]++;const c=le.estimateBlackPoint(l);if(i<3)for(let u=0;u<i;u++)(r[u]&255)<c&&t.set(u);else{let u=r[0]&255,g=r[1]&255;for(let E=1;E<i-1;E++){const b=r[E+1]&255;(g*4-u-b)/2<c&&t.set(E),u=g,g=b}}return t}getBlackMatrix(){const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight(),i=new fe(t,n);this.initArrays(t);const r=this.buckets;for(let u=1;u<5;u++){const g=Math.floor(n*u/5),E=e.getRow(g,this.luminances),b=Math.floor(t*4/5);for(let _=Math.floor(t/5);_<b;_++){const T=E[_]&255;r[T>>le.LUMINANCE_SHIFT]++}}const l=le.estimateBlackPoint(r),c=e.getMatrix();for(let u=0;u<n;u++){const g=u*t;for(let E=0;E<t;E++)(c[g+E]&255)<l&&i.set(E,u)}return i}createBinarizer(e){return new le(e)}initArrays(e){this.luminances.length<e&&(this.luminances=new Uint8ClampedArray(e));const t=this.buckets;for(let n=0;n<le.LUMINANCE_BUCKETS;n++)t[n]=0}static estimateBlackPoint(e){const t=e.length;let n=0,i=0,r=0;for(let E=0;E<t;E++)e[E]>r&&(i=E,r=e[E]),e[E]>n&&(n=e[E]);let l=0,c=0;for(let E=0;E<t;E++){const b=E-i,_=e[E]*b*b;_>c&&(l=E,c=_)}if(i>l){const E=i;i=l,l=E}if(l-i<=t/16)throw new S;let u=l-1,g=-1;for(let E=l-1;E>i;E--){const b=E-i,_=b*b*(l-E)*(n-e[E]);_>g&&(u=E,g=_)}return u<<le.LUMINANCE_SHIFT}}le.LUMINANCE_BITS=5,le.LUMINANCE_SHIFT=8-le.LUMINANCE_BITS,le.LUMINANCE_BUCKETS=1<<le.LUMINANCE_BITS,le.EMPTY=Uint8ClampedArray.from([0]);class ue extends le{constructor(e){super(e),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const e=this.getLuminanceSource(),t=e.getWidth(),n=e.getHeight();if(t>=ue.MINIMUM_DIMENSION&&n>=ue.MINIMUM_DIMENSION){const i=e.getMatrix();let r=t>>ue.BLOCK_SIZE_POWER;(t&ue.BLOCK_SIZE_MASK)!==0&&r++;let l=n>>ue.BLOCK_SIZE_POWER;(n&ue.BLOCK_SIZE_MASK)!==0&&l++;const c=ue.calculateBlackPoints(i,r,l,t,n),u=new fe(t,n);ue.calculateThresholdForBlock(i,r,l,t,n,c,u),this.matrix=u}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(e){return new ue(e)}static calculateThresholdForBlock(e,t,n,i,r,l,c){const u=r-ue.BLOCK_SIZE,g=i-ue.BLOCK_SIZE;for(let E=0;E<n;E++){let b=E<<ue.BLOCK_SIZE_POWER;b>u&&(b=u);const _=ue.cap(E,2,n-3);for(let T=0;T<t;T++){let N=T<<ue.BLOCK_SIZE_POWER;N>g&&(N=g);const O=ue.cap(T,2,t-3);let k=0;for(let $=-2;$<=2;$++){const ne=l[_+$];k+=ne[O-2]+ne[O-1]+ne[O]+ne[O+1]+ne[O+2]}const G=k/25;ue.thresholdBlock(e,N,b,G,i,c)}}}static cap(e,t,n){return e<t?t:e>n?n:e}static thresholdBlock(e,t,n,i,r,l){for(let c=0,u=n*r+t;c<ue.BLOCK_SIZE;c++,u+=r)for(let g=0;g<ue.BLOCK_SIZE;g++)(e[u+g]&255)<=i&&l.set(t+g,n+c)}static calculateBlackPoints(e,t,n,i,r){const l=r-ue.BLOCK_SIZE,c=i-ue.BLOCK_SIZE,u=new Array(n);for(let g=0;g<n;g++){u[g]=new Int32Array(t);let E=g<<ue.BLOCK_SIZE_POWER;E>l&&(E=l);for(let b=0;b<t;b++){let _=b<<ue.BLOCK_SIZE_POWER;_>c&&(_=c);let T=0,N=255,O=0;for(let G=0,$=E*i+_;G<ue.BLOCK_SIZE;G++,$+=i){for(let ne=0;ne<ue.BLOCK_SIZE;ne++){const J=e[$+ne]&255;T+=J,J<N&&(N=J),J>O&&(O=J)}if(O-N>ue.MIN_DYNAMIC_RANGE)for(G++,$+=i;G<ue.BLOCK_SIZE;G++,$+=i)for(let ne=0;ne<ue.BLOCK_SIZE;ne++)T+=e[$+ne]&255}let k=T>>ue.BLOCK_SIZE_POWER*2;if(O-N<=ue.MIN_DYNAMIC_RANGE&&(k=N/2,g>0&&b>0)){const G=(u[g-1][b]+2*u[g][b-1]+u[g-1][b-1])/4;N<G&&(k=G)}u[g][b]=k}}return u}}ue.BLOCK_SIZE_POWER=3,ue.BLOCK_SIZE=1<<ue.BLOCK_SIZE_POWER,ue.BLOCK_SIZE_MASK=ue.BLOCK_SIZE-1,ue.MINIMUM_DIMENSION=ue.BLOCK_SIZE*5,ue.MIN_DYNAMIC_RANGE=24;class te{constructor(e,t){this.width=e,this.height=t}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(e,t,n,i){throw new q("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new q("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new q("This luminance source does not support rotation by 45 degrees.")}toString(){const e=new Uint8ClampedArray(this.width);let t=new Q;for(let n=0;n<this.height;n++){const i=this.getRow(n,e);for(let r=0;r<this.width;r++){const l=i[r]&255;let c;l<64?c="#":l<128?c="+":l<192?c=".":c=" ",t.append(c)}t.append(`
`)}return t.toString()}}class Ae extends te{constructor(e){super(e.getWidth(),e.getHeight()),this.delegate=e}getRow(e,t){const n=this.delegate.getRow(e,t),i=this.getWidth();for(let r=0;r<i;r++)n[r]=255-(n[r]&255);return n}getMatrix(){const e=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),n=new Uint8ClampedArray(t);for(let i=0;i<t;i++)n[i]=255-(e[i]&255);return n}isCropSupported(){return this.delegate.isCropSupported()}crop(e,t,n,i){return new Ae(this.delegate.crop(e,t,n,i))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new Ae(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new Ae(this.delegate.rotateCounterClockwise45())}}class Xe extends te{constructor(e){super(e.width,e.height),this.canvas=e,this.tempCanvasElement=null,this.buffer=Xe.makeBufferFromCanvasImageData(e)}static makeBufferFromCanvasImageData(e){const t=e.getContext("2d").getImageData(0,0,e.width,e.height);return Xe.toGrayscaleBuffer(t.data,e.width,e.height)}static toGrayscaleBuffer(e,t,n){const i=new Uint8ClampedArray(t*n);for(let r=0,l=0,c=e.length;r<c;r+=4,l++){let u;if(e[r+3]===0)u=255;else{const E=e[r],b=e[r+1],_=e[r+2];u=306*E+601*b+117*_+512>>10}i[l]=u}return i}getRow(e,t){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const n=this.getWidth(),i=e*n;return t===null?t=this.buffer.slice(i,i+n):(t.length<n&&(t=new Uint8ClampedArray(n)),t.set(this.buffer.slice(i,i+n))),t}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(e,t,n,i){return super.crop(e,t,n,i),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const e=this.canvas.ownerDocument.createElement("canvas");e.width=this.canvas.width,e.height=this.canvas.height,this.tempCanvasElement=e}return this.tempCanvasElement}rotate(e){const t=this.getTempCanvasElement(),n=t.getContext("2d"),i=e*Xe.DEGREE_TO_RADIANS,r=this.canvas.width,l=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(i))*r+Math.abs(Math.sin(i))*l),u=Math.ceil(Math.abs(Math.sin(i))*r+Math.abs(Math.cos(i))*l);return t.width=c,t.height=u,n.translate(c/2,u/2),n.rotate(i),n.drawImage(this.canvas,r/-2,l/-2),this.buffer=Xe.makeBufferFromCanvasImageData(t),this}invert(){return new Ae(this)}}Xe.DEGREE_TO_RADIANS=Math.PI/180;class xt{constructor(e,t,n){this.deviceId=e,this.label=t,this.kind="videoinput",this.groupId=n||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var nt=(globalThis||Ti||self||window||void 0)&&(globalThis||Ti||self||window||void 0).__awaiter||function(C,e,t,n){function i(r){return r instanceof t?r:new t(function(l){l(r)})}return new(t||(t=Promise))(function(r,l){function c(E){try{g(n.next(E))}catch(b){l(b)}}function u(E){try{g(n.throw(E))}catch(b){l(b)}}function g(E){E.done?r(E.value):i(E.value).then(c,u)}g((n=n.apply(C,e||[])).next())})};class zt{constructor(e,t=500,n){this.reader=e,this.timeBetweenScansMillis=t,this._hints=n,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(e){this._timeBetweenDecodingAttempts=e<0?0:e}set hints(e){this._hints=e||null}get hints(){return this._hints}listVideoInputDevices(){return nt(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const e=yield navigator.mediaDevices.enumerateDevices(),t=[];for(const n of e){const i=n.kind==="video"?"videoinput":n.kind;if(i!=="videoinput")continue;const r=n.deviceId||n.id,l=n.label||`Video device ${t.length+1}`,c=n.groupId,u={deviceId:r,label:l,kind:i,groupId:c};t.push(u)}return t})}getVideoInputDevices(){return nt(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(t=>new xt(t.deviceId,t.label))})}findDeviceById(e){return nt(this,void 0,void 0,function*(){const t=yield this.listVideoInputDevices();return t?t.find(n=>n.deviceId===e):null})}decodeFromInputVideoDevice(e,t){return nt(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(e,t)})}decodeOnceFromVideoDevice(e,t){return nt(this,void 0,void 0,function*(){this.reset();let n;e?n={deviceId:{exact:e}}:n={facingMode:"environment"};const i={video:n};return yield this.decodeOnceFromConstraints(i,t)})}decodeOnceFromConstraints(e,t){return nt(this,void 0,void 0,function*(){const n=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeOnceFromStream(n,t)})}decodeOnceFromStream(e,t){return nt(this,void 0,void 0,function*(){this.reset();const n=yield this.attachStreamToVideo(e,t);return yield this.decodeOnce(n)})}decodeFromInputVideoDeviceContinuously(e,t,n){return nt(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(e,t,n)})}decodeFromVideoDevice(e,t,n){return nt(this,void 0,void 0,function*(){let i;e?i={deviceId:{exact:e}}:i={facingMode:"environment"};const r={video:i};return yield this.decodeFromConstraints(r,t,n)})}decodeFromConstraints(e,t,n){return nt(this,void 0,void 0,function*(){const i=yield navigator.mediaDevices.getUserMedia(e);return yield this.decodeFromStream(i,t,n)})}decodeFromStream(e,t,n){return nt(this,void 0,void 0,function*(){this.reset();const i=yield this.attachStreamToVideo(e,t);return yield this.decodeContinuously(i,n)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(e,t){return nt(this,void 0,void 0,function*(){const n=this.prepareVideoElement(t);return this.addVideoSource(n,e),this.videoElement=n,this.stream=e,yield this.playVideoOnLoadAsync(n),n})}playVideoOnLoadAsync(e){return new Promise((t,n)=>this.playVideoOnLoad(e,()=>t()))}playVideoOnLoad(e,t){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(e),e.addEventListener("ended",this.videoEndedListener),e.addEventListener("canplay",this.videoCanPlayListener),e.addEventListener("playing",t),this.tryPlayVideo(e)}isVideoPlaying(e){return e.currentTime>0&&!e.paused&&!e.ended&&e.readyState>2}tryPlayVideo(e){return nt(this,void 0,void 0,function*(){if(this.isVideoPlaying(e)){console.warn("Trying to play video that is already playing.");return}try{yield e.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(e,t){const n=document.getElementById(e);if(!n)throw new m(`element with id '${e}' not found`);if(n.nodeName.toLowerCase()!==t.toLowerCase())throw new m(`element with id '${e}' must be an ${t} element`);return n}decodeFromImage(e,t){if(!e&&!t)throw new m("either imageElement with a src set or an url must be provided");return t&&!e?this.decodeFromImageUrl(t):this.decodeFromImageElement(e)}decodeFromVideo(e,t){if(!e&&!t)throw new m("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrl(t):this.decodeFromVideoElement(e)}decodeFromVideoContinuously(e,t,n){if(e===void 0&&t===void 0)throw new m("Either an element with a src set or an URL must be provided");return t&&!e?this.decodeFromVideoUrlContinuously(t,n):this.decodeFromVideoElementContinuously(e,n)}decodeFromImageElement(e){if(!e)throw new m("An image element must be provided.");this.reset();const t=this.prepareImageElement(e);this.imageElement=t;let n;return this.isImageLoaded(t)?n=this.decodeOnce(t,!1,!0):n=this._decodeOnLoadImage(t),n}decodeFromVideoElement(e){const t=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideo(t)}decodeFromVideoElementContinuously(e,t){const n=this._decodeFromVideoElementSetup(e);return this._decodeOnLoadVideoContinuously(n,t)}_decodeFromVideoElementSetup(e){if(!e)throw new m("A video element must be provided.");this.reset();const t=this.prepareVideoElement(e);return this.videoElement=t,t}decodeFromImageUrl(e){if(!e)throw new m("An URL must be provided.");this.reset();const t=this.prepareImageElement();this.imageElement=t;const n=this._decodeOnLoadImage(t);return t.src=e,n}decodeFromVideoUrl(e){if(!e)throw new m("An URL must be provided.");this.reset();const t=this.prepareVideoElement(),n=this.decodeFromVideoElement(t);return t.src=e,n}decodeFromVideoUrlContinuously(e,t){if(!e)throw new m("An URL must be provided.");this.reset();const n=this.prepareVideoElement(),i=this.decodeFromVideoElementContinuously(n,t);return n.src=e,i}_decodeOnLoadImage(e){return new Promise((t,n)=>{this.imageLoadedListener=()=>this.decodeOnce(e,!1,!0).then(t,n),e.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(e){return nt(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(e),yield this.decodeOnce(e)})}_decodeOnLoadVideoContinuously(e,t){return nt(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(e),this.decodeContinuously(e,t)})}isImageLoaded(e){return!(!e.complete||e.naturalWidth===0)}prepareImageElement(e){let t;return typeof e>"u"&&(t=document.createElement("img"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"img")),e instanceof HTMLImageElement&&(t=e),t}prepareVideoElement(e){let t;return!e&&typeof document<"u"&&(t=document.createElement("video"),t.width=200,t.height=200),typeof e=="string"&&(t=this.getMediaElement(e,"video")),e instanceof HTMLVideoElement&&(t=e),t.setAttribute("autoplay","true"),t.setAttribute("muted","true"),t.setAttribute("playsinline","true"),t}decodeOnce(e,t=!0,n=!0){this._stopAsyncDecode=!1;const i=(r,l)=>{if(this._stopAsyncDecode){l(new S("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const c=this.decode(e);r(c)}catch(c){const u=t&&c instanceof S,E=(c instanceof B||c instanceof P)&&n;if(u||E)return setTimeout(i,this._timeBetweenDecodingAttempts,r,l);l(c)}};return new Promise((r,l)=>i(r,l))}decodeContinuously(e,t){this._stopContinuousDecode=!1;const n=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const i=this.decode(e);t(i,null),setTimeout(n,this.timeBetweenScansMillis)}catch(i){t(null,i);const r=i instanceof B||i instanceof P,l=i instanceof S;(r||l)&&setTimeout(n,this._timeBetweenDecodingAttempts)}};n()}decode(e){const t=this.createBinaryBitmap(e);return this.decodeBitmap(t)}createBinaryBitmap(e){const t=this.getCaptureCanvasContext(e);this.drawImageOnCanvas(t,e);const n=this.getCaptureCanvas(e),i=new Xe(n),r=new ue(i);return new M(r)}getCaptureCanvasContext(e){if(!this.captureCanvasContext){const n=this.getCaptureCanvas(e).getContext("2d");this.captureCanvasContext=n}return this.captureCanvasContext}getCaptureCanvas(e){if(!this.captureCanvas){const t=this.createCaptureCanvas(e);this.captureCanvas=t}return this.captureCanvas}drawImageOnCanvas(e,t){e.drawImage(t,0,0)}decodeBitmap(e){return this.reader.decode(e,this._hints)}createCaptureCanvas(e){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const t=document.createElement("canvas");let n,i;return typeof e<"u"&&(e instanceof HTMLVideoElement?(n=e.videoWidth,i=e.videoHeight):e instanceof HTMLImageElement&&(n=e.naturalWidth||e.width,i=e.naturalHeight||e.height)),t.style.width=n+"px",t.style.height=i+"px",t.width=n,t.height=i,t}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(e=>e.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){!this.videoElement||(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){!this.imageElement||(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(e,t){try{e.srcObject=t}catch{e.src=URL.createObjectURL(t)}}cleanVideoSource(e){try{e.srcObject=null}catch{e.src=""}this.videoElement.removeAttribute("src")}}class ft{constructor(e,t,n=t==null?0:8*t.length,i,r,l=y.currentTimeMillis()){this.text=e,this.rawBytes=t,this.numBits=n,this.resultPoints=i,this.format=r,this.timestamp=l,this.text=e,this.rawBytes=t,n==null?this.numBits=t==null?0:8*t.length:this.numBits=n,this.resultPoints=i,this.format=r,this.resultMetadata=null,l==null?this.timestamp=y.currentTimeMillis():this.timestamp=l}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(e,t){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(e,t)}putAllMetadata(e){e!==null&&(this.resultMetadata===null?this.resultMetadata=e:this.resultMetadata=new Map(e))}addResultPoints(e){const t=this.resultPoints;if(t===null)this.resultPoints=e;else if(e!==null&&e.length>0){const n=new Array(t.length+e.length);y.arraycopy(t,0,n,0,t.length),y.arraycopy(e,0,n,t.length,e.length),this.resultPoints=n}}getTimestamp(){return this.timestamp}toString(){return this.text}}var de;(function(C){C[C.AZTEC=0]="AZTEC",C[C.CODABAR=1]="CODABAR",C[C.CODE_39=2]="CODE_39",C[C.CODE_93=3]="CODE_93",C[C.CODE_128=4]="CODE_128",C[C.DATA_MATRIX=5]="DATA_MATRIX",C[C.EAN_8=6]="EAN_8",C[C.EAN_13=7]="EAN_13",C[C.ITF=8]="ITF",C[C.MAXICODE=9]="MAXICODE",C[C.PDF_417=10]="PDF_417",C[C.QR_CODE=11]="QR_CODE",C[C.RSS_14=12]="RSS_14",C[C.RSS_EXPANDED=13]="RSS_EXPANDED",C[C.UPC_A=14]="UPC_A",C[C.UPC_E=15]="UPC_E",C[C.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(de||(de={}));var be=de,xi;(function(C){C[C.OTHER=0]="OTHER",C[C.ORIENTATION=1]="ORIENTATION",C[C.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",C[C.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",C[C.ISSUE_NUMBER=4]="ISSUE_NUMBER",C[C.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",C[C.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",C[C.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",C[C.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",C[C.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",C[C.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(xi||(xi={}));var mt=xi;class Un{constructor(e,t,n,i,r=-1,l=-1){this.rawBytes=e,this.text=t,this.byteSegments=n,this.ecLevel=i,this.structuredAppendSequenceNumber=r,this.structuredAppendParity=l,this.numBits=e==null?0:8*e.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(e){this.numBits=e}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(e){this.errorsCorrected=e}getErasures(){return this.erasures}setErasures(e){this.erasures=e}getOther(){return this.other}setOther(e){this.other=e}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Vn{exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}static addOrSubtract(e,t){return e^t}}class Lt{constructor(e,t){if(t.length===0)throw new I;this.field=e;const n=t.length;if(n>1&&t[0]===0){let i=1;for(;i<n&&t[i]===0;)i++;i===n?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(n-i),y.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);const t=this.coefficients;let n;if(e===1){n=0;for(let l=0,c=t.length;l!==c;l++){const u=t[l];n=Vn.addOrSubtract(n,u)}return n}n=t[0];const i=t.length,r=this.field;for(let l=1;l<i;l++)n=Vn.addOrSubtract(r.multiply(e,n),t[l]);return n}addOrSubtract(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){const l=t;t=n,n=l}let i=new Int32Array(n.length);const r=n.length-t.length;y.arraycopy(n,0,i,0,r);for(let l=r;l<n.length;l++)i[l]=Vn.addOrSubtract(t[l-r],n[l]);return new Lt(this.field,i)}multiply(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(this.isZero()||e.isZero())return this.field.getZero();const t=this.coefficients,n=t.length,i=e.coefficients,r=i.length,l=new Int32Array(n+r-1),c=this.field;for(let u=0;u<n;u++){const g=t[u];for(let E=0;E<r;E++)l[u+E]=Vn.addOrSubtract(l[u+E],c.multiply(g,i[E]))}return new Lt(c,l)}multiplyScalar(e){if(e===0)return this.field.getZero();if(e===1)return this;const t=this.coefficients.length,n=this.field,i=new Int32Array(t),r=this.coefficients;for(let l=0;l<t;l++)i[l]=n.multiply(r[l],e);return new Lt(n,i)}multiplyByMonomial(e,t){if(e<0)throw new I;if(t===0)return this.field.getZero();const n=this.coefficients,i=n.length,r=new Int32Array(i+e),l=this.field;for(let c=0;c<i;c++)r[c]=l.multiply(n[c],t);return new Lt(l,r)}divide(e){if(!this.field.equals(e.field))throw new I("GenericGFPolys do not have same GenericGF field");if(e.isZero())throw new I("Divide by 0");const t=this.field;let n=t.getZero(),i=this;const r=e.getCoefficient(e.getDegree()),l=t.inverse(r);for(;i.getDegree()>=e.getDegree()&&!i.isZero();){const c=i.getDegree()-e.getDegree(),u=t.multiply(i.getCoefficient(i.getDegree()),l),g=e.multiplyByMonomial(c,u),E=t.buildMonomial(c,u);n=n.addOrSubtract(E),i=i.addOrSubtract(g)}return[n,i]}toString(){let e="";for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);if(n!==0){if(n<0?(e+=" - ",n=-n):e.length>0&&(e+=" + "),t===0||n!==1){const i=this.field.log(n);i===0?e+="1":i===1?e+="a":(e+="a^",e+=i)}t!==0&&(t===1?e+="x":(e+="x^",e+=t))}}return e}}class qn extends A{}qn.kind="ArithmeticException";class Ue extends Vn{constructor(e,t,n){super(),this.primitive=e,this.size=t,this.generatorBase=n;const i=new Int32Array(t);let r=1;for(let c=0;c<t;c++)i[c]=r,r*=2,r>=t&&(r^=e,r&=t-1);this.expTable=i;const l=new Int32Array(t);for(let c=0;c<t-1;c++)l[i[c]]=c;this.logTable=l,this.zero=new Lt(this,Int32Array.from([0])),this.one=new Lt(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new I;if(t===0)return this.zero;const n=new Int32Array(e+1);return n[0]=t,new Lt(this,n)}inverse(e){if(e===0)throw new qn;return this.expTable[this.size-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+L.toHexString(this.primitive)+","+this.size+")"}equals(e){return e===this}}Ue.AZTEC_DATA_12=new Ue(4201,4096,1),Ue.AZTEC_DATA_10=new Ue(1033,1024,1),Ue.AZTEC_DATA_6=new Ue(67,64,1),Ue.AZTEC_PARAM=new Ue(19,16,1),Ue.QR_CODE_FIELD_256=new Ue(285,256,0),Ue.DATA_MATRIX_FIELD_256=new Ue(301,256,1),Ue.AZTEC_DATA_8=Ue.DATA_MATRIX_FIELD_256,Ue.MAXICODE_FIELD_64=Ue.AZTEC_DATA_6;class yn extends A{}yn.kind="ReedSolomonException";class en extends A{}en.kind="IllegalStateException";class Hn{constructor(e){this.field=e}decode(e,t){const n=this.field,i=new Lt(n,e),r=new Int32Array(t);let l=!0;for(let T=0;T<t;T++){const N=i.evaluateAt(n.exp(T+n.getGeneratorBase()));r[r.length-1-T]=N,N!==0&&(l=!1)}if(l)return;const c=new Lt(n,r),u=this.runEuclideanAlgorithm(n.buildMonomial(t,1),c,t),g=u[0],E=u[1],b=this.findErrorLocations(g),_=this.findErrorMagnitudes(E,b);for(let T=0;T<b.length;T++){const N=e.length-1-n.log(b[T]);if(N<0)throw new yn("Bad error location");e[N]=Ue.addOrSubtract(e[N],_[T])}}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){const T=e;e=t,t=T}const i=this.field;let r=e,l=t,c=i.getZero(),u=i.getOne();for(;l.getDegree()>=(n/2|0);){let T=r,N=c;if(r=l,c=u,r.isZero())throw new yn("r_{i-1} was zero");l=T;let O=i.getZero();const k=r.getCoefficient(r.getDegree()),G=i.inverse(k);for(;l.getDegree()>=r.getDegree()&&!l.isZero();){const $=l.getDegree()-r.getDegree(),ne=i.multiply(l.getCoefficient(l.getDegree()),G);O=O.addOrSubtract(i.buildMonomial($,ne)),l=l.addOrSubtract(r.multiplyByMonomial($,ne))}if(u=O.multiply(c).addOrSubtract(N),l.getDegree()>=r.getDegree())throw new en("Division algorithm failed to reduce polynomial?")}const g=u.getCoefficient(0);if(g===0)throw new yn("sigmaTilde(0) was zero");const E=i.inverse(g),b=u.multiplyScalar(E),_=l.multiplyScalar(E);return[b,_]}findErrorLocations(e){const t=e.getDegree();if(t===1)return Int32Array.from([e.getCoefficient(1)]);const n=new Int32Array(t);let i=0;const r=this.field;for(let l=1;l<r.getSize()&&i<t;l++)e.evaluateAt(l)===0&&(n[i]=r.inverse(l),i++);if(i!==t)throw new yn("Error locator degree does not match number of roots");return n}findErrorMagnitudes(e,t){const n=t.length,i=new Int32Array(n),r=this.field;for(let l=0;l<n;l++){const c=r.inverse(t[l]);let u=1;for(let g=0;g<n;g++)if(l!==g){const E=r.multiply(t[g],c),b=(E&1)===0?E|1:E&-2;u=r.multiply(u,b)}i[l]=r.multiply(e.evaluateAt(c),r.inverse(u)),r.getGeneratorBase()!==0&&(i[l]=r.multiply(i[l],c))}return i}}var Ct;(function(C){C[C.UPPER=0]="UPPER",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.DIGIT=3]="DIGIT",C[C.PUNCT=4]="PUNCT",C[C.BINARY=5]="BINARY"})(Ct||(Ct={}));class Ke{decode(e){this.ddata=e;let t=e.getBits(),n=this.extractBits(t),i=this.correctBits(n),r=Ke.convertBoolArrayToByteArray(i),l=Ke.getEncodedData(i),c=new Un(r,l,null,null);return c.setNumBits(i.length),c}static highLevelDecode(e){return this.getEncodedData(e)}static getEncodedData(e){let t=e.length,n=Ct.UPPER,i=Ct.UPPER,r="",l=0;for(;l<t;)if(i===Ct.BINARY){if(t-l<5)break;let c=Ke.readCode(e,l,5);if(l+=5,c===0){if(t-l<11)break;c=Ke.readCode(e,l,11)+31,l+=11}for(let u=0;u<c;u++){if(t-l<8){l=t;break}const g=Ke.readCode(e,l,8);r+=ie.castAsNonUtf8Char(g),l+=8}i=n}else{let c=i===Ct.DIGIT?4:5;if(t-l<c)break;let u=Ke.readCode(e,l,c);l+=c;let g=Ke.getCharacter(i,u);g.startsWith("CTRL_")?(n=i,i=Ke.getTable(g.charAt(5)),g.charAt(6)==="L"&&(n=i)):(r+=g,i=n)}return r}static getTable(e){switch(e){case"L":return Ct.LOWER;case"P":return Ct.PUNCT;case"M":return Ct.MIXED;case"D":return Ct.DIGIT;case"B":return Ct.BINARY;case"U":default:return Ct.UPPER}}static getCharacter(e,t){switch(e){case Ct.UPPER:return Ke.UPPER_TABLE[t];case Ct.LOWER:return Ke.LOWER_TABLE[t];case Ct.MIXED:return Ke.MIXED_TABLE[t];case Ct.PUNCT:return Ke.PUNCT_TABLE[t];case Ct.DIGIT:return Ke.DIGIT_TABLE[t];default:throw new en("Bad table")}}correctBits(e){let t,n;this.ddata.getNbLayers()<=2?(n=6,t=Ue.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(n=8,t=Ue.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(n=10,t=Ue.AZTEC_DATA_10):(n=12,t=Ue.AZTEC_DATA_12);let i=this.ddata.getNbDatablocks(),r=e.length/n;if(r<i)throw new P;let l=e.length%n,c=new Int32Array(r);for(let _=0;_<r;_++,l+=n)c[_]=Ke.readCode(e,l,n);try{new Hn(t).decode(c,r-i)}catch(_){throw new P(_)}let u=(1<<n)-1,g=0;for(let _=0;_<i;_++){let T=c[_];if(T===0||T===u)throw new P;(T===1||T===u-1)&&g++}let E=new Array(i*n-g),b=0;for(let _=0;_<i;_++){let T=c[_];if(T===1||T===u-1)E.fill(T>1,b,b+n-1),b+=n-1;else for(let N=n-1;N>=0;--N)E[b++]=(T&1<<N)!==0}return E}extractBits(e){let t=this.ddata.isCompact(),n=this.ddata.getNbLayers(),i=(t?11:14)+n*4,r=new Int32Array(i),l=new Array(this.totalBitsInLayer(n,t));if(t)for(let c=0;c<r.length;c++)r[c]=c;else{let c=i+1+2*L.truncDivision(L.truncDivision(i,2)-1,15),u=i/2,g=L.truncDivision(c,2);for(let E=0;E<u;E++){let b=E+L.truncDivision(E,15);r[u-E-1]=g-b-1,r[u+E]=g+b+1}}for(let c=0,u=0;c<n;c++){let g=(n-c)*4+(t?9:12),E=c*2,b=i-1-E;for(let _=0;_<g;_++){let T=_*2;for(let N=0;N<2;N++)l[u+T+N]=e.get(r[E+N],r[E+_]),l[u+2*g+T+N]=e.get(r[E+_],r[b-N]),l[u+4*g+T+N]=e.get(r[b-N],r[b-_]),l[u+6*g+T+N]=e.get(r[b-_],r[E+N])}u+=g*8}return l}static readCode(e,t,n){let i=0;for(let r=t;r<t+n;r++)i<<=1,e[r]&&(i|=1);return i}static readByte(e,t){let n=e.length-t;return n>=8?Ke.readCode(e,t,8):Ke.readCode(e,t,n)<<8-n}static convertBoolArrayToByteArray(e){let t=new Uint8Array((e.length+7)/8);for(let n=0;n<t.length;n++)t[n]=Ke.readByte(e,8*n);return t}totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Ke.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],Ke.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],Ke.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],Ke.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ve{constructor(){}static round(e){return e===NaN?0:e<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:e>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:e+(e<0?-.5:.5)|0}static distance(e,t,n,i){const r=e-n,l=t-i;return Math.sqrt(r*r+l*l)}static sum(e){let t=0;for(let n=0,i=e.length;n!==i;n++){const r=e[n];t+=r}return t}}class Jn{static floatToIntBits(e){return e}}Jn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ee{constructor(e,t){this.x=e,this.y=t}getX(){return this.x}getY(){return this.y}equals(e){if(e instanceof Ee){const t=e;return this.x===t.x&&this.y===t.y}return!1}hashCode(){return 31*Jn.floatToIntBits(this.x)+Jn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(e){const t=this.distance(e[0],e[1]),n=this.distance(e[1],e[2]),i=this.distance(e[0],e[2]);let r,l,c;if(n>=t&&n>=i?(l=e[0],r=e[1],c=e[2]):i>=n&&i>=t?(l=e[1],r=e[0],c=e[2]):(l=e[2],r=e[0],c=e[1]),this.crossProductZ(r,l,c)<0){const u=r;r=c,c=u}e[0]=r,e[1]=l,e[2]=c}static distance(e,t){return ve.distance(e.x,e.y,t.x,t.y)}static crossProductZ(e,t,n){const i=t.x,r=t.y;return(n.x-i)*(e.y-r)-(n.y-r)*(e.x-i)}}class Qn{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class re extends Qn{constructor(e,t,n,i,r){super(e,t),this.compact=n,this.nbDatablocks=i,this.nbLayers=r}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class tn{constructor(e,t,n,i){this.image=e,this.height=e.getHeight(),this.width=e.getWidth(),t==null&&(t=tn.INIT_SIZE),n==null&&(n=e.getWidth()/2|0),i==null&&(i=e.getHeight()/2|0);const r=t/2|0;if(this.leftInit=n-r,this.rightInit=n+r,this.upInit=i-r,this.downInit=i+r,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new S}detect(){let e=this.leftInit,t=this.rightInit,n=this.upInit,i=this.downInit,r=!1,l=!0,c=!1,u=!1,g=!1,E=!1,b=!1;const _=this.width,T=this.height;for(;l;){l=!1;let N=!0;for(;(N||!u)&&t<_;)N=this.containsBlackPoint(n,i,t,!1),N?(t++,l=!0,u=!0):u||t++;if(t>=_){r=!0;break}let O=!0;for(;(O||!g)&&i<T;)O=this.containsBlackPoint(e,t,i,!0),O?(i++,l=!0,g=!0):g||i++;if(i>=T){r=!0;break}let k=!0;for(;(k||!E)&&e>=0;)k=this.containsBlackPoint(n,i,e,!1),k?(e--,l=!0,E=!0):E||e--;if(e<0){r=!0;break}let G=!0;for(;(G||!b)&&n>=0;)G=this.containsBlackPoint(e,t,n,!0),G?(n--,l=!0,b=!0):b||n--;if(n<0){r=!0;break}l&&(c=!0)}if(!r&&c){const N=t-e;let O=null;for(let ne=1;O===null&&ne<N;ne++)O=this.getBlackPointOnSegment(e,i-ne,e+ne,i);if(O==null)throw new S;let k=null;for(let ne=1;k===null&&ne<N;ne++)k=this.getBlackPointOnSegment(e,n+ne,e+ne,n);if(k==null)throw new S;let G=null;for(let ne=1;G===null&&ne<N;ne++)G=this.getBlackPointOnSegment(t,n+ne,t-ne,n);if(G==null)throw new S;let $=null;for(let ne=1;$===null&&ne<N;ne++)$=this.getBlackPointOnSegment(t,i-ne,t-ne,i);if($==null)throw new S;return this.centerEdges($,O,G,k)}else throw new S}getBlackPointOnSegment(e,t,n,i){const r=ve.round(ve.distance(e,t,n,i)),l=(n-e)/r,c=(i-t)/r,u=this.image;for(let g=0;g<r;g++){const E=ve.round(e+g*l),b=ve.round(t+g*c);if(u.get(E,b))return new Ee(E,b)}return null}centerEdges(e,t,n,i){const r=e.getX(),l=e.getY(),c=t.getX(),u=t.getY(),g=n.getX(),E=n.getY(),b=i.getX(),_=i.getY(),T=tn.CORR;return r<this.width/2?[new Ee(b-T,_+T),new Ee(c+T,u+T),new Ee(g-T,E-T),new Ee(r+T,l-T)]:[new Ee(b+T,_+T),new Ee(c+T,u-T),new Ee(g-T,E+T),new Ee(r-T,l-T)]}containsBlackPoint(e,t,n,i){const r=this.image;if(i){for(let l=e;l<=t;l++)if(r.get(l,n))return!0}else for(let l=e;l<=t;l++)if(r.get(n,l))return!0;return!1}}tn.INIT_SIZE=10,tn.CORR=1;class Sn{static checkAndNudgePoints(e,t){const n=e.getWidth(),i=e.getHeight();let r=!0;for(let l=0;l<t.length&&r;l+=2){const c=Math.floor(t[l]),u=Math.floor(t[l+1]);if(c<-1||c>n||u<-1||u>i)throw new S;r=!1,c===-1?(t[l]=0,r=!0):c===n&&(t[l]=n-1,r=!0),u===-1?(t[l+1]=0,r=!0):u===i&&(t[l+1]=i-1,r=!0)}r=!0;for(let l=t.length-2;l>=0&&r;l-=2){const c=Math.floor(t[l]),u=Math.floor(t[l+1]);if(c<-1||c>n||u<-1||u>i)throw new S;r=!1,c===-1?(t[l]=0,r=!0):c===n&&(t[l]=n-1,r=!0),u===-1?(t[l+1]=0,r=!0):u===i&&(t[l+1]=i-1,r=!0)}}}class Rt{constructor(e,t,n,i,r,l,c,u,g){this.a11=e,this.a21=t,this.a31=n,this.a12=i,this.a22=r,this.a32=l,this.a13=c,this.a23=u,this.a33=g}static quadrilateralToQuadrilateral(e,t,n,i,r,l,c,u,g,E,b,_,T,N,O,k){const G=Rt.quadrilateralToSquare(e,t,n,i,r,l,c,u);return Rt.squareToQuadrilateral(g,E,b,_,T,N,O,k).times(G)}transformPoints(e){const t=e.length,n=this.a11,i=this.a12,r=this.a13,l=this.a21,c=this.a22,u=this.a23,g=this.a31,E=this.a32,b=this.a33;for(let _=0;_<t;_+=2){const T=e[_],N=e[_+1],O=r*T+u*N+b;e[_]=(n*T+l*N+g)/O,e[_+1]=(i*T+c*N+E)/O}}transformPointsWithValues(e,t){const n=this.a11,i=this.a12,r=this.a13,l=this.a21,c=this.a22,u=this.a23,g=this.a31,E=this.a32,b=this.a33,_=e.length;for(let T=0;T<_;T++){const N=e[T],O=t[T],k=r*N+u*O+b;e[T]=(n*N+l*O+g)/k,t[T]=(i*N+c*O+E)/k}}static squareToQuadrilateral(e,t,n,i,r,l,c,u){const g=e-n+r-c,E=t-i+l-u;if(g===0&&E===0)return new Rt(n-e,r-n,e,i-t,l-i,t,0,0,1);{const b=n-r,_=c-r,T=i-l,N=u-l,O=b*N-_*T,k=(g*N-_*E)/O,G=(b*E-g*T)/O;return new Rt(n-e+k*n,c-e+G*c,e,i-t+k*i,u-t+G*u,t,k,G,1)}}static quadrilateralToSquare(e,t,n,i,r,l,c,u){return Rt.squareToQuadrilateral(e,t,n,i,r,l,c,u).buildAdjoint()}buildAdjoint(){return new Rt(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(e){return new Rt(this.a11*e.a11+this.a21*e.a12+this.a31*e.a13,this.a11*e.a21+this.a21*e.a22+this.a31*e.a23,this.a11*e.a31+this.a21*e.a32+this.a31*e.a33,this.a12*e.a11+this.a22*e.a12+this.a32*e.a13,this.a12*e.a21+this.a22*e.a22+this.a32*e.a23,this.a12*e.a31+this.a22*e.a32+this.a32*e.a33,this.a13*e.a11+this.a23*e.a12+this.a33*e.a13,this.a13*e.a21+this.a23*e.a22+this.a33*e.a23,this.a13*e.a31+this.a23*e.a32+this.a33*e.a33)}}class ds extends Sn{sampleGrid(e,t,n,i,r,l,c,u,g,E,b,_,T,N,O,k,G,$,ne){const J=Rt.quadrilateralToQuadrilateral(i,r,l,c,u,g,E,b,_,T,N,O,k,G,$,ne);return this.sampleGridWithTransform(e,t,n,J)}sampleGridWithTransform(e,t,n,i){if(t<=0||n<=0)throw new S;const r=new fe(t,n),l=new Float32Array(2*t);for(let c=0;c<n;c++){const u=l.length,g=c+.5;for(let E=0;E<u;E+=2)l[E]=E/2+.5,l[E+1]=g;i.transformPoints(l),Sn.checkAndNudgePoints(e,l);try{for(let E=0;E<u;E+=2)e.get(Math.floor(l[E]),Math.floor(l[E+1]))&&r.set(E/2,c)}catch{throw new S}}return r}}class Nn{static setGridSampler(e){Nn.gridSampler=e}static getInstance(){return Nn.gridSampler}}Nn.gridSampler=new ds;class Ft{constructor(e,t){this.x=e,this.y=t}toResultPoint(){return new Ee(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class gs{constructor(e){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=e}detect(){return this.detectMirror(!1)}detectMirror(e){let t=this.getMatrixCenter(),n=this.getBullsEyeCorners(t);if(e){let l=n[0];n[0]=n[2],n[2]=l}this.extractParameters(n);let i=this.sampleGrid(this.image,n[this.shift%4],n[(this.shift+1)%4],n[(this.shift+2)%4],n[(this.shift+3)%4]),r=this.getMatrixCornerPoints(n);return new re(i,r,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(e){if(!this.isValidPoint(e[0])||!this.isValidPoint(e[1])||!this.isValidPoint(e[2])||!this.isValidPoint(e[3]))throw new S;let t=2*this.nbCenterLayers,n=new Int32Array([this.sampleLine(e[0],e[1],t),this.sampleLine(e[1],e[2],t),this.sampleLine(e[2],e[3],t),this.sampleLine(e[3],e[0],t)]);this.shift=this.getRotation(n,t);let i=0;for(let l=0;l<4;l++){let c=n[(this.shift+l)%4];this.compact?(i<<=7,i+=c>>1&127):(i<<=10,i+=(c>>2&31<<5)+(c>>1&31))}let r=this.getCorrectedParameterData(i,this.compact);this.compact?(this.nbLayers=(r>>6)+1,this.nbDataBlocks=(r&63)+1):(this.nbLayers=(r>>11)+1,this.nbDataBlocks=(r&2047)+1)}getRotation(e,t){let n=0;e.forEach((i,r,l)=>{let c=(i>>t-2<<1)+(i&1);n=(n<<3)+c}),n=((n&1)<<11)+(n>>1);for(let i=0;i<4;i++)if(L.bitCount(n^this.EXPECTED_CORNER_BITS[i])<=2)return i;throw new S}getCorrectedParameterData(e,t){let n,i;t?(n=7,i=2):(n=10,i=4);let r=n-i,l=new Int32Array(n);for(let u=n-1;u>=0;--u)l[u]=e&15,e>>=4;try{new Hn(Ue.AZTEC_PARAM).decode(l,r)}catch{throw new S}let c=0;for(let u=0;u<i;u++)c=(c<<4)+l[u];return c}getBullsEyeCorners(e){let t=e,n=e,i=e,r=e,l=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let b=this.getFirstDifferent(t,l,1,-1),_=this.getFirstDifferent(n,l,1,1),T=this.getFirstDifferent(i,l,-1,1),N=this.getFirstDifferent(r,l,-1,-1);if(this.nbCenterLayers>2){let O=this.distancePoint(N,b)*this.nbCenterLayers/(this.distancePoint(r,t)*(this.nbCenterLayers+2));if(O<.75||O>1.25||!this.isWhiteOrBlackRectangle(b,_,T,N))break}t=b,n=_,i=T,r=N,l=!l}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new S;this.compact=this.nbCenterLayers===5;let c=new Ee(t.getX()+.5,t.getY()-.5),u=new Ee(n.getX()+.5,n.getY()+.5),g=new Ee(i.getX()-.5,i.getY()+.5),E=new Ee(r.getX()-.5,r.getY()-.5);return this.expandSquare([c,u,g,E],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let e,t,n,i;try{let c=new tn(this.image).detect();e=c[0],t=c[1],n=c[2],i=c[3]}catch{let u=this.image.getWidth()/2,g=this.image.getHeight()/2;e=this.getFirstDifferent(new Ft(u+7,g-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ft(u+7,g+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ft(u-7,g+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ft(u-7,g-7),!1,-1,-1).toResultPoint()}let r=ve.round((e.getX()+i.getX()+t.getX()+n.getX())/4),l=ve.round((e.getY()+i.getY()+t.getY()+n.getY())/4);try{let c=new tn(this.image,15,r,l).detect();e=c[0],t=c[1],n=c[2],i=c[3]}catch{e=this.getFirstDifferent(new Ft(r+7,l-7),!1,1,-1).toResultPoint(),t=this.getFirstDifferent(new Ft(r+7,l+7),!1,1,1).toResultPoint(),n=this.getFirstDifferent(new Ft(r-7,l+7),!1,-1,1).toResultPoint(),i=this.getFirstDifferent(new Ft(r-7,l-7),!1,-1,-1).toResultPoint()}return r=ve.round((e.getX()+i.getX()+t.getX()+n.getX())/4),l=ve.round((e.getY()+i.getY()+t.getY()+n.getY())/4),new Ft(r,l)}getMatrixCornerPoints(e){return this.expandSquare(e,2*this.nbCenterLayers,this.getDimension())}sampleGrid(e,t,n,i,r){let l=Nn.getInstance(),c=this.getDimension(),u=c/2-this.nbCenterLayers,g=c/2+this.nbCenterLayers;return l.sampleGrid(e,c,c,u,u,g,u,g,g,u,g,t.getX(),t.getY(),n.getX(),n.getY(),i.getX(),i.getY(),r.getX(),r.getY())}sampleLine(e,t,n){let i=0,r=this.distanceResultPoint(e,t),l=r/n,c=e.getX(),u=e.getY(),g=l*(t.getX()-e.getX())/r,E=l*(t.getY()-e.getY())/r;for(let b=0;b<n;b++)this.image.get(ve.round(c+b*g),ve.round(u+b*E))&&(i|=1<<n-b-1);return i}isWhiteOrBlackRectangle(e,t,n,i){let r=3;e=new Ft(e.getX()-r,e.getY()+r),t=new Ft(t.getX()-r,t.getY()-r),n=new Ft(n.getX()+r,n.getY()-r),i=new Ft(i.getX()+r,i.getY()+r);let l=this.getColor(i,e);if(l===0)return!1;let c=this.getColor(e,t);return c!==l||(c=this.getColor(t,n),c!==l)?!1:(c=this.getColor(n,i),c===l)}getColor(e,t){let n=this.distancePoint(e,t),i=(t.getX()-e.getX())/n,r=(t.getY()-e.getY())/n,l=0,c=e.getX(),u=e.getY(),g=this.image.get(e.getX(),e.getY()),E=Math.ceil(n);for(let _=0;_<E;_++)c+=i,u+=r,this.image.get(ve.round(c),ve.round(u))!==g&&l++;let b=l/n;return b>.1&&b<.9?0:b<=.1===g?1:-1}getFirstDifferent(e,t,n,i){let r=e.getX()+n,l=e.getY()+i;for(;this.isValid(r,l)&&this.image.get(r,l)===t;)r+=n,l+=i;for(r-=n,l-=i;this.isValid(r,l)&&this.image.get(r,l)===t;)r+=n;for(r-=n;this.isValid(r,l)&&this.image.get(r,l)===t;)l+=i;return l-=i,new Ft(r,l)}expandSquare(e,t,n){let i=n/(2*t),r=e[0].getX()-e[2].getX(),l=e[0].getY()-e[2].getY(),c=(e[0].getX()+e[2].getX())/2,u=(e[0].getY()+e[2].getY())/2,g=new Ee(c+i*r,u+i*l),E=new Ee(c-i*r,u-i*l);r=e[1].getX()-e[3].getX(),l=e[1].getY()-e[3].getY(),c=(e[1].getX()+e[3].getX())/2,u=(e[1].getY()+e[3].getY())/2;let b=new Ee(c+i*r,u+i*l),_=new Ee(c-i*r,u-i*l);return[g,b,E,_]}isValid(e,t){return e>=0&&e<this.image.getWidth()&&t>0&&t<this.image.getHeight()}isValidPoint(e){let t=ve.round(e.getX()),n=ve.round(e.getY());return this.isValid(t,n)}distancePoint(e,t){return ve.distance(e.getX(),e.getY(),t.getX(),t.getY())}distanceResultPoint(e,t){return ve.distance(e.getX(),e.getY(),t.getX(),t.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(L.truncDivision(this.nbLayers-4,8)+1)+15}}class Fi{decode(e,t=null){let n=null,i=new gs(e.getBlackMatrix()),r=null,l=null;try{let E=i.detectMirror(!1);r=E.getPoints(),this.reportFoundResultPoints(t,r),l=new Ke().decode(E)}catch(E){n=E}if(l==null)try{let E=i.detectMirror(!0);r=E.getPoints(),this.reportFoundResultPoints(t,r),l=new Ke().decode(E)}catch(E){throw n!=null?n:E}let c=new ft(l.getText(),l.getRawBytes(),l.getNumBits(),r,be.AZTEC,y.currentTimeMillis()),u=l.getByteSegments();u!=null&&c.putMetadata(mt.BYTE_SEGMENTS,u);let g=l.getECLevel();return g!=null&&c.putMetadata(mt.ERROR_CORRECTION_LEVEL,g),c}reportFoundResultPoints(e,t){if(e!=null){let n=e.get(W.NEED_RESULT_POINT_CALLBACK);n!=null&&t.forEach((i,r,l)=>{n.foundPossibleResultPoint(i)})}}reset(){}}class T1 extends zt{constructor(e=500){super(new Fi,e)}}class Et{decode(e,t){try{return this.doDecode(e,t)}catch{if(t&&t.get(W.TRY_HARDER)===!0&&e.isRotateSupported()){const r=e.rotateCounterClockwise(),l=this.doDecode(r,t),c=l.getResultMetadata();let u=270;c!==null&&c.get(mt.ORIENTATION)===!0&&(u=u+c.get(mt.ORIENTATION)%360),l.putMetadata(mt.ORIENTATION,u);const g=l.getResultPoints();if(g!==null){const E=r.getHeight();for(let b=0;b<g.length;b++)g[b]=new Ee(E-g[b].getY()-1,g[b].getX())}return l}else throw new S}}reset(){}doDecode(e,t){const n=e.getWidth(),i=e.getHeight();let r=new z(n);const l=t&&t.get(W.TRY_HARDER)===!0,c=Math.max(1,i>>(l?8:5));let u;l?u=i:u=15;const g=Math.trunc(i/2);for(let E=0;E<u;E++){const b=Math.trunc((E+1)/2),_=(E&1)===0,T=g+c*(_?b:-b);if(T<0||T>=i)break;try{r=e.getBlackRow(T,r)}catch{continue}for(let N=0;N<2;N++){if(N===1&&(r.reverse(),t&&t.get(W.NEED_RESULT_POINT_CALLBACK)===!0)){const O=new Map;t.forEach((k,G)=>O.set(G,k)),O.delete(W.NEED_RESULT_POINT_CALLBACK),t=O}try{const O=this.decodeRow(T,r,t);if(N===1){O.putMetadata(mt.ORIENTATION,180);const k=O.getResultPoints();k!==null&&(k[0]=new Ee(n-k[0].getX()-1,k[0].getY()),k[1]=new Ee(n-k[1].getX()-1,k[1].getY()))}return O}catch{}}}throw new S}static recordPattern(e,t,n){const i=n.length;for(let g=0;g<i;g++)n[g]=0;const r=e.getSize();if(t>=r)throw new S;let l=!e.get(t),c=0,u=t;for(;u<r;){if(e.get(u)!==l)n[c]++;else{if(++c===i)break;n[c]=1,l=!l}u++}if(!(c===i||c===i-1&&u===r))throw new S}static recordPatternInReverse(e,t,n){let i=n.length,r=e.get(t);for(;t>0&&i>=0;)e.get(--t)!==r&&(i--,r=!r);if(i>=0)throw new S;Et.recordPattern(e,t+1,n)}static patternMatchVariance(e,t,n){const i=e.length;let r=0,l=0;for(let g=0;g<i;g++)r+=e[g],l+=t[g];if(r<l)return Number.POSITIVE_INFINITY;const c=r/l;n*=c;let u=0;for(let g=0;g<i;g++){const E=e[g],b=t[g]*c,_=E>b?E-b:b-E;if(_>n)return Number.POSITIVE_INFINITY;u+=_}return u/r}}class oe extends Et{static findStartPattern(e){const t=e.getSize(),n=e.getNextSet(0);let i=0,r=Int32Array.from([0,0,0,0,0,0]),l=n,c=!1;const u=6;for(let g=n;g<t;g++)if(e.get(g)!==c)r[i]++;else{if(i===u-1){let E=oe.MAX_AVG_VARIANCE,b=-1;for(let _=oe.CODE_START_A;_<=oe.CODE_START_C;_++){const T=Et.patternMatchVariance(r,oe.CODE_PATTERNS[_],oe.MAX_INDIVIDUAL_VARIANCE);T<E&&(E=T,b=_)}if(b>=0&&e.isRange(Math.max(0,l-(g-l)/2),l,!1))return Int32Array.from([l,g,b]);l+=r[0]+r[1],r=r.slice(2,r.length-1),r[i-1]=0,r[i]=0,i--}else i++;r[i]=1,c=!c}throw new S}static decodeCode(e,t,n){Et.recordPattern(e,n,t);let i=oe.MAX_AVG_VARIANCE,r=-1;for(let l=0;l<oe.CODE_PATTERNS.length;l++){const c=oe.CODE_PATTERNS[l],u=this.patternMatchVariance(t,c,oe.MAX_INDIVIDUAL_VARIANCE);u<i&&(i=u,r=l)}if(r>=0)return r;throw new S}decodeRow(e,t,n){const i=n&&n.get(W.ASSUME_GS1)===!0,r=oe.findStartPattern(t),l=r[2];let c=0;const u=new Uint8Array(20);u[c++]=l;let g;switch(l){case oe.CODE_START_A:g=oe.CODE_CODE_A;break;case oe.CODE_START_B:g=oe.CODE_CODE_B;break;case oe.CODE_START_C:g=oe.CODE_CODE_C;break;default:throw new P}let E=!1,b=!1,_="",T=r[0],N=r[1];const O=Int32Array.from([0,0,0,0,0,0]);let k=0,G=0,$=l,ne=0,J=!0,ke=!1,Oe=!1;for(;!E;){const li=b;switch(b=!1,k=G,G=oe.decodeCode(t,O,N),u[c++]=G,G!==oe.CODE_STOP&&(J=!0),G!==oe.CODE_STOP&&(ne++,$+=ne*G),T=N,N+=O.reduce((nl,il)=>nl+il,0),G){case oe.CODE_START_A:case oe.CODE_START_B:case oe.CODE_START_C:throw new P}switch(g){case oe.CODE_CODE_A:if(G<64)Oe===ke?_+=String.fromCharCode(" ".charCodeAt(0)+G):_+=String.fromCharCode(" ".charCodeAt(0)+G+128),Oe=!1;else if(G<96)Oe===ke?_+=String.fromCharCode(G-64):_+=String.fromCharCode(G+64),Oe=!1;else switch(G!==oe.CODE_STOP&&(J=!1),G){case oe.CODE_FNC_1:i&&(_.length===0?_+="]C1":_+=String.fromCharCode(29));break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_A:!ke&&Oe?(ke=!0,Oe=!1):ke&&Oe?(ke=!1,Oe=!1):Oe=!0;break;case oe.CODE_SHIFT:b=!0,g=oe.CODE_CODE_B;break;case oe.CODE_CODE_B:g=oe.CODE_CODE_B;break;case oe.CODE_CODE_C:g=oe.CODE_CODE_C;break;case oe.CODE_STOP:E=!0;break}break;case oe.CODE_CODE_B:if(G<96)Oe===ke?_+=String.fromCharCode(" ".charCodeAt(0)+G):_+=String.fromCharCode(" ".charCodeAt(0)+G+128),Oe=!1;else switch(G!==oe.CODE_STOP&&(J=!1),G){case oe.CODE_FNC_1:i&&(_.length===0?_+="]C1":_+=String.fromCharCode(29));break;case oe.CODE_FNC_2:case oe.CODE_FNC_3:break;case oe.CODE_FNC_4_B:!ke&&Oe?(ke=!0,Oe=!1):ke&&Oe?(ke=!1,Oe=!1):Oe=!0;break;case oe.CODE_SHIFT:b=!0,g=oe.CODE_CODE_A;break;case oe.CODE_CODE_A:g=oe.CODE_CODE_A;break;case oe.CODE_CODE_C:g=oe.CODE_CODE_C;break;case oe.CODE_STOP:E=!0;break}break;case oe.CODE_CODE_C:if(G<100)G<10&&(_+="0"),_+=G;else switch(G!==oe.CODE_STOP&&(J=!1),G){case oe.CODE_FNC_1:i&&(_.length===0?_+="]C1":_+=String.fromCharCode(29));break;case oe.CODE_CODE_A:g=oe.CODE_CODE_A;break;case oe.CODE_CODE_B:g=oe.CODE_CODE_B;break;case oe.CODE_STOP:E=!0;break}break}li&&(g=g===oe.CODE_CODE_A?oe.CODE_CODE_B:oe.CODE_CODE_A)}const jt=N-T;if(N=t.getNextUnset(N),!t.isRange(N,Math.min(t.getSize(),N+(N-T)/2),!1))throw new S;if($-=ne*k,$%103!==k)throw new B;const fn=_.length;if(fn===0)throw new S;fn>0&&J&&(g===oe.CODE_CODE_C?_=_.substring(0,fn-2):_=_.substring(0,fn-1));const Zt=(r[1]+r[0])/2,et=T+jt/2,Mt=u.length,Qt=new Uint8Array(Mt);for(let li=0;li<Mt;li++)Qt[li]=u[li];const oi=[new Ee(Zt,e),new Ee(et,e)];return new ft(_,Qt,0,oi,be.CODE_128,new Date().getTime())}}oe.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],oe.MAX_AVG_VARIANCE=.25,oe.MAX_INDIVIDUAL_VARIANCE=.7,oe.CODE_SHIFT=98,oe.CODE_CODE_C=99,oe.CODE_CODE_B=100,oe.CODE_CODE_A=101,oe.CODE_FNC_1=102,oe.CODE_FNC_2=97,oe.CODE_FNC_3=96,oe.CODE_FNC_4_A=101,oe.CODE_FNC_4_B=100,oe.CODE_START_A=103,oe.CODE_START_B=104,oe.CODE_START_C=105,oe.CODE_STOP=106;class bt extends Et{constructor(e=!1,t=!1){super(),this.usingCheckDigit=e,this.extendedMode=t,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(e,t,n){let i=this.counters;i.fill(0),this.decodeRowResult="";let r=bt.findAsteriskPattern(t,i),l=t.getNextSet(r[1]),c=t.getSize(),u,g;do{bt.recordPattern(t,l,i);let O=bt.toNarrowWidePattern(i);if(O<0)throw new S;u=bt.patternToChar(O),this.decodeRowResult+=u,g=l;for(let k of i)l+=k;l=t.getNextSet(l)}while(u!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let E=0;for(let O of i)E+=O;let b=l-g-E;if(l!==c&&b*2<E)throw new S;if(this.usingCheckDigit){let O=this.decodeRowResult.length-1,k=0;for(let G=0;G<O;G++)k+=bt.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(G));if(this.decodeRowResult.charAt(O)!==bt.ALPHABET_STRING.charAt(k%43))throw new B;this.decodeRowResult=this.decodeRowResult.substring(0,O)}if(this.decodeRowResult.length===0)throw new S;let _;this.extendedMode?_=bt.decodeExtended(this.decodeRowResult):_=this.decodeRowResult;let T=(r[1]+r[0])/2,N=g+E/2;return new ft(_,null,0,[new Ee(T,e),new Ee(N,e)],be.CODE_39,new Date().getTime())}static findAsteriskPattern(e,t){let n=e.getSize(),i=e.getNextSet(0),r=0,l=i,c=!1,u=t.length;for(let g=i;g<n;g++)if(e.get(g)!==c)t[r]++;else{if(r===u-1){if(this.toNarrowWidePattern(t)===bt.ASTERISK_ENCODING&&e.isRange(Math.max(0,l-Math.floor((g-l)/2)),l,!1))return[l,g];l+=t[0]+t[1],t.copyWithin(0,2,2+r-1),t[r-1]=0,t[r]=0,r--}else r++;t[r]=1,c=!c}throw new S}static toNarrowWidePattern(e){let t=e.length,n=0,i;do{let r=2147483647;for(let u of e)u<r&&u>n&&(r=u);n=r,i=0;let l=0,c=0;for(let u=0;u<t;u++){let g=e[u];g>n&&(c|=1<<t-1-u,i++,l+=g)}if(i===3){for(let u=0;u<t&&i>0;u++){let g=e[u];if(g>n&&(i--,g*2>=l))return-1}return c}}while(i>3);return-1}static patternToChar(e){for(let t=0;t<bt.CHARACTER_ENCODINGS.length;t++)if(bt.CHARACTER_ENCODINGS[t]===e)return bt.ALPHABET_STRING.charAt(t);if(e===bt.ASTERISK_ENCODING)return"*";throw new S}static decodeExtended(e){let t=e.length,n="";for(let i=0;i<t;i++){let r=e.charAt(i);if(r==="+"||r==="$"||r==="%"||r==="/"){let l=e.charAt(i+1),c="\0";switch(r){case"+":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)+32);else throw new P;break;case"$":if(l>="A"&&l<="Z")c=String.fromCharCode(l.charCodeAt(0)-64);else throw new P;break;case"%":if(l>="A"&&l<="E")c=String.fromCharCode(l.charCodeAt(0)-38);else if(l>="F"&&l<="J")c=String.fromCharCode(l.charCodeAt(0)-11);else if(l>="K"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)+16);else if(l>="P"&&l<="T")c=String.fromCharCode(l.charCodeAt(0)+43);else if(l==="U")c="\0";else if(l==="V")c="@";else if(l==="W")c="`";else if(l==="X"||l==="Y"||l==="Z")c="\x7F";else throw new P;break;case"/":if(l>="A"&&l<="O")c=String.fromCharCode(l.charCodeAt(0)-32);else if(l==="Z")c=":";else throw new P;break}n+=c,i++}else n+=r}return n}}bt.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",bt.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],bt.ASTERISK_ENCODING=148;class Qe extends Et{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(e,t,n){let i=this.decodeStart(t),r=this.decodeEnd(t),l=new Q;Qe.decodeMiddle(t,i[1],r[0],l);let c=l.toString(),u=null;n!=null&&(u=n.get(W.ALLOWED_LENGTHS)),u==null&&(u=Qe.DEFAULT_ALLOWED_LENGTHS);let g=c.length,E=!1,b=0;for(let N of u){if(g===N){E=!0;break}N>b&&(b=N)}if(!E&&g>b&&(E=!0),!E)throw new P;const _=[new Ee(i[1],e),new Ee(r[0],e)];return new ft(c,null,0,_,be.ITF,new Date().getTime())}static decodeMiddle(e,t,n,i){let r=new Int32Array(10),l=new Int32Array(5),c=new Int32Array(5);for(r.fill(0),l.fill(0),c.fill(0);t<n;){Et.recordPattern(e,t,r);for(let g=0;g<5;g++){let E=2*g;l[g]=r[E],c[g]=r[E+1]}let u=Qe.decodeDigit(l);i.append(u.toString()),u=this.decodeDigit(c),i.append(u.toString()),r.forEach(function(g){t+=g})}}decodeStart(e){let t=Qe.skipWhiteSpace(e),n=Qe.findGuardPattern(e,t,Qe.START_PATTERN);return this.narrowLineWidth=(n[1]-n[0])/4,this.validateQuietZone(e,n[0]),n}validateQuietZone(e,t){let n=this.narrowLineWidth*10;n=n<t?n:t;for(let i=t-1;n>0&&i>=0&&!e.get(i);i--)n--;if(n!==0)throw new S}static skipWhiteSpace(e){const t=e.getSize(),n=e.getNextSet(0);if(n===t)throw new S;return n}decodeEnd(e){e.reverse();try{let t=Qe.skipWhiteSpace(e),n;try{n=Qe.findGuardPattern(e,t,Qe.END_PATTERN_REVERSED[0])}catch(r){r instanceof S&&(n=Qe.findGuardPattern(e,t,Qe.END_PATTERN_REVERSED[1]))}this.validateQuietZone(e,n[0]);let i=n[0];return n[0]=e.getSize()-n[1],n[1]=e.getSize()-i,n}finally{e.reverse()}}static findGuardPattern(e,t,n){let i=n.length,r=new Int32Array(i),l=e.getSize(),c=!1,u=0,g=t;r.fill(0);for(let E=t;E<l;E++)if(e.get(E)!==c)r[u]++;else{if(u===i-1){if(Et.patternMatchVariance(r,n,Qe.MAX_INDIVIDUAL_VARIANCE)<Qe.MAX_AVG_VARIANCE)return[g,E];g+=r[0]+r[1],y.arraycopy(r,2,r,0,u-1),r[u-1]=0,r[u]=0,u--}else u++;r[u]=1,c=!c}throw new S}static decodeDigit(e){let t=Qe.MAX_AVG_VARIANCE,n=-1,i=Qe.PATTERNS.length;for(let r=0;r<i;r++){let l=Qe.PATTERNS[r],c=Et.patternMatchVariance(e,l,Qe.MAX_INDIVIDUAL_VARIANCE);c<t?(t=c,n=r):c===t&&(n=-1)}if(n>=0)return n%10;throw new S}}Qe.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],Qe.MAX_AVG_VARIANCE=.38,Qe.MAX_INDIVIDUAL_VARIANCE=.5,Qe.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],Qe.START_PATTERN=Int32Array.from([1,1,1,1]),Qe.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class ut extends Et{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(e){let t=!1,n,i=0,r=Int32Array.from([0,0,0]);for(;!t;){r=Int32Array.from([0,0,0]),n=ut.findGuardPattern(e,i,!1,this.START_END_PATTERN,r);let l=n[0];i=n[1];let c=l-(i-l);c>=0&&(t=e.isRange(c,l,!1))}return n}static checkChecksum(e){return ut.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return ut.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let i=t-1;i>=0;i-=2){let r=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(r<0||r>9)throw new P;n+=r}n*=3;for(let i=t-2;i>=0;i-=2){let r=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(r<0||r>9)throw new P;n+=r}return(1e3-n)%10}static decodeEnd(e,t){return ut.findGuardPattern(e,t,!1,ut.START_END_PATTERN,new Int32Array(ut.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(e,t,n,i){return this.findGuardPattern(e,t,n,i,new Int32Array(i.length))}static findGuardPattern(e,t,n,i,r){let l=e.getSize();t=n?e.getNextUnset(t):e.getNextSet(t);let c=0,u=t,g=i.length,E=n;for(let b=t;b<l;b++)if(e.get(b)!==E)r[c]++;else{if(c===g-1){if(Et.patternMatchVariance(r,i,ut.MAX_INDIVIDUAL_VARIANCE)<ut.MAX_AVG_VARIANCE)return Int32Array.from([u,b]);u+=r[0]+r[1];let _=r.slice(2,r.length-1);for(let T=0;T<c-1;T++)r[T]=_[T];r[c-1]=0,r[c]=0,c--}else c++;r[c]=1,E=!E}throw new S}static decodeDigit(e,t,n,i){this.recordPattern(e,n,t);let r=this.MAX_AVG_VARIANCE,l=-1,c=i.length;for(let u=0;u<c;u++){let g=i[u],E=Et.patternMatchVariance(t,g,ut.MAX_INDIVIDUAL_VARIANCE);E<r&&(r=E,l=u)}if(l>=0)return l;throw new S}}ut.MAX_AVG_VARIANCE=.48,ut.MAX_INDIVIDUAL_VARIANCE=.7,ut.START_END_PATTERN=Int32Array.from([1,1,1]),ut.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),ut.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),ut.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class wi{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let i=this.decodeRowStringBuffer,r=this.decodeMiddle(t,n,i),l=i.toString(),c=wi.parseExtensionString(l),u=[new Ee((n[0]+n[1])/2,e),new Ee(r,e)],g=new ft(l,null,0,u,be.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let r=e.getSize(),l=t[1],c=0;for(let g=0;g<5&&l<r;g++){let E=ut.decodeDigit(e,i,l,ut.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let b of i)l+=b;E>=10&&(c|=1<<4-g),g!==4&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==5)throw new S;let u=this.determineCheckDigit(c);if(wi.extensionChecksum(n.toString())!==u)throw new S;return l}static extensionChecksum(e){let t=e.length,n=0;for(let i=t-2;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);n*=3;for(let i=t-1;i>=0;i-=2)n+=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);return n*=3,n%10}determineCheckDigit(e){for(let t=0;t<10;t++)if(e===this.CHECK_DIGIT_ENCODINGS[t])return t;throw new S}static parseExtensionString(e){if(e.length!==5)return null;let t=wi.parseExtension5String(e);return t==null?null:new Map([[mt.SUGGESTED_PRICE,t]])}static parseExtension5String(e){let t;switch(e.charAt(0)){case"0":t="\xA3";break;case"5":t="$";break;case"9":switch(e){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}t="";break;default:t="";break}let n=parseInt(e.substring(1)),i=(n/100).toString(),r=n%100,l=r<10?"0"+r:r.toString();return t+i+"."+l}}class xr{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(e,t,n){let i=this.decodeRowStringBuffer,r=this.decodeMiddle(t,n,i),l=i.toString(),c=xr.parseExtensionString(l),u=[new Ee((n[0]+n[1])/2,e),new Ee(r,e)],g=new ft(l,null,0,u,be.UPC_EAN_EXTENSION,new Date().getTime());return c!=null&&g.putAllMetadata(c),g}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let r=e.getSize(),l=t[1],c=0;for(let u=0;u<2&&l<r;u++){let g=ut.decodeDigit(e,i,l,ut.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let E of i)l+=E;g>=10&&(c|=1<<1-u),u!==1&&(l=e.getNextSet(l),l=e.getNextUnset(l))}if(n.length!==2)throw new S;if(parseInt(n.toString())%4!==c)throw new S;return l}static parseExtensionString(e){return e.length!==2?null:new Map([[mt.ISSUE_NUMBER,parseInt(e)]])}}class xs{static decodeRow(e,t,n){let i=ut.findGuardPattern(t,n,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new wi().decodeRow(e,t,i)}catch{return new xr().decodeRow(e,t,i)}}}xs.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class Ge extends ut{constructor(){super(),this.decodeRowStringBuffer="",Ge.L_AND_G_PATTERNS=Ge.L_PATTERNS.map(e=>Int32Array.from(e));for(let e=10;e<20;e++){let t=Ge.L_PATTERNS[e-10],n=new Int32Array(t.length);for(let i=0;i<t.length;i++)n[i]=t[t.length-i-1];Ge.L_AND_G_PATTERNS[e]=n}}decodeRow(e,t,n){let i=Ge.findStartGuardPattern(t),r=n==null?null:n.get(W.NEED_RESULT_POINT_CALLBACK);if(r!=null){const J=new Ee((i[0]+i[1])/2,e);r.foundPossibleResultPoint(J)}let l=this.decodeMiddle(t,i,this.decodeRowStringBuffer),c=l.rowOffset,u=l.resultString;if(r!=null){const J=new Ee(c,e);r.foundPossibleResultPoint(J)}let g=Ge.decodeEnd(t,c);if(r!=null){const J=new Ee((g[0]+g[1])/2,e);r.foundPossibleResultPoint(J)}let E=g[1],b=E+(E-g[0]);if(b>=t.getSize()||!t.isRange(E,b,!1))throw new S;let _=u.toString();if(_.length<8)throw new P;if(!Ge.checkChecksum(_))throw new B;let T=(i[1]+i[0])/2,N=(g[1]+g[0])/2,O=this.getBarcodeFormat(),k=[new Ee(T,e),new Ee(N,e)],G=new ft(_,null,0,k,O,new Date().getTime()),$=0;try{let J=xs.decodeRow(e,t,g[1]);G.putMetadata(mt.UPC_EAN_EXTENSION,J.getText()),G.putAllMetadata(J.getResultMetadata()),G.addResultPoints(J.getResultPoints()),$=J.getText().length}catch{}let ne=n==null?null:n.get(W.ALLOWED_EAN_EXTENSIONS);if(ne!=null){let J=!1;for(let ke in ne)if($.toString()===ke){J=!0;break}if(!J)throw new S}return O===be.EAN_13||be.UPC_A,G}static checkChecksum(e){return Ge.checkStandardUPCEANChecksum(e)}static checkStandardUPCEANChecksum(e){let t=e.length;if(t===0)return!1;let n=parseInt(e.charAt(t-1),10);return Ge.getStandardUPCEANChecksum(e.substring(0,t-1))===n}static getStandardUPCEANChecksum(e){let t=e.length,n=0;for(let i=t-1;i>=0;i-=2){let r=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(r<0||r>9)throw new P;n+=r}n*=3;for(let i=t-2;i>=0;i-=2){let r=e.charAt(i).charCodeAt(0)-"0".charCodeAt(0);if(r<0||r>9)throw new P;n+=r}return(1e3-n)%10}static decodeEnd(e,t){return Ge.findGuardPattern(e,t,!1,Ge.START_END_PATTERN,new Int32Array(Ge.START_END_PATTERN.length).fill(0))}}class Gn extends Ge{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){let i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let r=e.getSize(),l=t[1],c=0;for(let g=0;g<6&&l<r;g++){let E=Ge.decodeDigit(e,i,l,Ge.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+E%10);for(let b of i)l+=b;E>=10&&(c|=1<<5-g)}n=Gn.determineFirstDigit(n,c),l=Ge.findGuardPattern(e,l,!0,Ge.MIDDLE_PATTERN,new Int32Array(Ge.MIDDLE_PATTERN.length).fill(0))[1];for(let g=0;g<6&&l<r;g++){let E=Ge.decodeDigit(e,i,l,Ge.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+E);for(let b of i)l+=b}return{rowOffset:l,resultString:n}}getBarcodeFormat(){return be.EAN_13}static determineFirstDigit(e,t){for(let n=0;n<10;n++)if(t===this.FIRST_DIGIT_ENCODINGS[n])return e=String.fromCharCode("0".charCodeAt(0)+n)+e,e;throw new S}}Gn.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class ws extends Ge{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(e,t,n){const i=this.decodeMiddleCounters;i[0]=0,i[1]=0,i[2]=0,i[3]=0;let r=e.getSize(),l=t[1];for(let u=0;u<4&&l<r;u++){let g=Ge.decodeDigit(e,i,l,Ge.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g);for(let E of i)l+=E}l=Ge.findGuardPattern(e,l,!0,Ge.MIDDLE_PATTERN,new Int32Array(Ge.MIDDLE_PATTERN.length).fill(0))[1];for(let u=0;u<4&&l<r;u++){let g=Ge.decodeDigit(e,i,l,Ge.L_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g);for(let E of i)l+=E}return{rowOffset:l,resultString:n}}getBarcodeFormat(){return be.EAN_8}}class y1 extends Ge{constructor(){super(...arguments),this.ean13Reader=new Gn}getBarcodeFormat(){return be.UPC_A}decode(e,t){return this.maybeReturnResult(this.ean13Reader.decode(e))}decodeRow(e,t,n){return this.maybeReturnResult(this.ean13Reader.decodeRow(e,t,n))}decodeMiddle(e,t,n){return this.ean13Reader.decodeMiddle(e,t,n)}maybeReturnResult(e){let t=e.getText();if(t.charAt(0)==="0"){let n=new ft(t.substring(1),null,null,e.getResultPoints(),be.UPC_A);return e.getResultMetadata()!=null&&n.putAllMetadata(e.getResultMetadata()),n}else throw new S}reset(){this.ean13Reader.reset()}}class cn extends Ge{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(e,t,n){const i=this.decodeMiddleCounters.map(u=>u);i[0]=0,i[1]=0,i[2]=0,i[3]=0;const r=e.getSize();let l=t[1],c=0;for(let u=0;u<6&&l<r;u++){const g=cn.decodeDigit(e,i,l,cn.L_AND_G_PATTERNS);n+=String.fromCharCode("0".charCodeAt(0)+g%10);for(let E of i)l+=E;g>=10&&(c|=1<<5-u)}return cn.determineNumSysAndCheckDigit(new Q(n),c),l}decodeEnd(e,t){return cn.findGuardPatternWithoutCounters(e,t,!0,cn.MIDDLE_END_PATTERN)}checkChecksum(e){return Ge.checkChecksum(cn.convertUPCEtoUPCA(e))}static determineNumSysAndCheckDigit(e,t){for(let n=0;n<=1;n++)for(let i=0;i<10;i++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[n][i]){e.insert(0,"0"+n),e.append("0"+i);return}throw S.getNotFoundInstance()}getBarcodeFormat(){return be.UPC_E}static convertUPCEtoUPCA(e){const t=e.slice(1,7).split("").map(r=>r.charCodeAt(0)),n=new Q;n.append(e.charAt(0));let i=t[5];switch(i){case 0:case 1:case 2:n.appendChars(t,0,2),n.append(i),n.append("0000"),n.appendChars(t,2,3);break;case 3:n.appendChars(t,0,3),n.append("00000"),n.appendChars(t,3,2);break;case 4:n.appendChars(t,0,4),n.append("00000"),n.append(t[4]);break;default:n.appendChars(t,0,5),n.append("0000"),n.append(i);break}return e.length>=8&&n.append(e.charAt(7)),n.toString()}}cn.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),cn.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])];class wr extends Et{constructor(e){super();let t=e==null?null:e.get(W.POSSIBLE_FORMATS),n=[];t!=null&&(t.indexOf(be.EAN_13)>-1?n.push(new Gn):t.indexOf(be.UPC_A)>-1&&n.push(new y1),t.indexOf(be.EAN_8)>-1&&n.push(new ws),t.indexOf(be.UPC_E)>-1&&n.push(new cn)),n.length===0&&(n.push(new Gn),n.push(new ws),n.push(new cn)),this.readers=n}decodeRow(e,t,n){for(let i of this.readers)try{const r=i.decodeRow(e,t,n),l=r.getBarcodeFormat()===be.EAN_13&&r.getText().charAt(0)==="0",c=n==null?null:n.get(W.POSSIBLE_FORMATS),u=c==null||c.includes(be.UPC_A);if(l&&u){const g=r.getRawBytes(),E=new ft(r.getText().substring(1),g,g.length,r.getResultPoints(),be.UPC_A);return E.putAllMetadata(r.getResultMetadata()),E}return r}catch{}throw new S}reset(){for(let e of this.readers)e.reset()}}class kt extends Et{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(e,t){for(let n=0;n<t.length;n++)if(Et.patternMatchVariance(e,t[n],kt.MAX_INDIVIDUAL_VARIANCE)<kt.MAX_AVG_VARIANCE)return n;throw new S}static count(e){return ve.sum(new Int32Array(e))}static increment(e,t){let n=0,i=t[0];for(let r=1;r<e.length;r++)t[r]>i&&(i=t[r],n=r);e[n]++}static decrement(e,t){let n=0,i=t[0];for(let r=1;r<e.length;r++)t[r]<i&&(i=t[r],n=r);e[n]--}static isFinderPattern(e){let t=e[0]+e[1],n=t+e[2]+e[3],i=t/n;if(i>=kt.MIN_FINDER_PATTERN_RATIO&&i<=kt.MAX_FINDER_PATTERN_RATIO){let r=Number.MAX_SAFE_INTEGER,l=Number.MIN_SAFE_INTEGER;for(let c of e)c>l&&(l=c),c<r&&(r=c);return l<10*r}return!1}}kt.MAX_AVG_VARIANCE=.2,kt.MAX_INDIVIDUAL_VARIANCE=.45,kt.MIN_FINDER_PATTERN_RATIO=9.5/12,kt.MAX_FINDER_PATTERN_RATIO=12.5/14;class $n{constructor(e,t){this.value=e,this.checksumPortion=t}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(e){if(!(e instanceof $n))return!1;const t=e;return this.value===t.value&&this.checksumPortion===t.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class Ui{constructor(e,t,n,i,r){this.value=e,this.startEnd=t,this.value=e,this.startEnd=t,this.resultPoints=new Array,this.resultPoints.push(new Ee(n,r)),this.resultPoints.push(new Ee(i,r))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(e){if(!(e instanceof Ui))return!1;const t=e;return this.value===t.value}hashCode(){return this.value}}class un{constructor(){}static getRSSvalue(e,t,n){let i=0;for(let u of e)i+=u;let r=0,l=0,c=e.length;for(let u=0;u<c-1;u++){let g;for(g=1,l|=1<<u;g<e[u];g++,l&=~(1<<u)){let E=un.combins(i-g-1,c-u-2);if(n&&l===0&&i-g-(c-u-1)>=c-u-1&&(E-=un.combins(i-g-(c-u),c-u-2)),c-u-1>1){let b=0;for(let _=i-g-(c-u-2);_>t;_--)b+=un.combins(i-g-_-1,c-u-3);E-=b*(c-1-u)}else i-g>t&&E--;r+=E}i-=g}return r}static combins(e,t){let n,i;e-t>t?(i=t,n=e-t):(i=e-t,n=t);let r=1,l=1;for(let c=e;c>n;c--)r*=c,l<=i&&(r/=l,l++);for(;l<=i;)r/=l,l++;return r}}class S1{static buildBitArray(e){let t=e.length*2-1;e[e.length-1].getRightChar()==null&&(t-=1);let n=12*t,i=new z(n),r=0,c=e[0].getRightChar().getValue();for(let u=11;u>=0;--u)(c&1<<u)!=0&&i.set(r),r++;for(let u=1;u<e.length;++u){let g=e[u],E=g.getLeftChar().getValue();for(let b=11;b>=0;--b)(E&1<<b)!=0&&i.set(r),r++;if(g.getRightChar()!=null){let b=g.getRightChar().getValue();for(let _=11;_>=0;--_)(b&1<<_)!=0&&i.set(r),r++}}return i}}class zn{constructor(e,t){t?this.decodedInformation=null:(this.finished=e,this.decodedInformation=t)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class mr{constructor(e){this.newPosition=e}getNewPosition(){return this.newPosition}}class Wt extends mr{constructor(e,t){super(e),this.value=t}getValue(){return this.value}isFNC1(){return this.value===Wt.FNC1}}Wt.FNC1="$";class Wn extends mr{constructor(e,t,n){super(e),n?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=t}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class nn extends mr{constructor(e,t,n){if(super(e),t<0||t>10||n<0||n>10)throw new P;this.firstDigit=t,this.secondDigit=n}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===nn.FNC1}isSecondDigitFNC1(){return this.secondDigit===nn.FNC1}isAnyFNC1(){return this.firstDigit===nn.FNC1||this.secondDigit===nn.FNC1}}nn.FNC1=10;class ge{constructor(){}static parseFieldsInGeneralPurpose(e){if(!e)return null;if(e.length<2)throw new S;let t=e.substring(0,2);for(let r of ge.TWO_DIGIT_DATA_LENGTH)if(r[0]===t)return r[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(2,r[2],e):ge.processFixedAI(2,r[1],e);if(e.length<3)throw new S;let n=e.substring(0,3);for(let r of ge.THREE_DIGIT_DATA_LENGTH)if(r[0]===n)return r[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(3,r[2],e):ge.processFixedAI(3,r[1],e);for(let r of ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(r[0]===n)return r[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(4,r[2],e):ge.processFixedAI(4,r[1],e);if(e.length<4)throw new S;let i=e.substring(0,4);for(let r of ge.FOUR_DIGIT_DATA_LENGTH)if(r[0]===i)return r[1]===ge.VARIABLE_LENGTH?ge.processVariableAI(4,r[2],e):ge.processFixedAI(4,r[1],e);throw new S}static processFixedAI(e,t,n){if(n.length<e)throw new S;let i=n.substring(0,e);if(n.length<e+t)throw new S;let r=n.substring(e,e+t),l=n.substring(e+t),c="("+i+")"+r,u=ge.parseFieldsInGeneralPurpose(l);return u==null?c:c+u}static processVariableAI(e,t,n){let i=n.substring(0,e),r;n.length<e+t?r=n.length:r=e+t;let l=n.substring(e,r),c=n.substring(r),u="("+i+")"+l,g=ge.parseFieldsInGeneralPurpose(c);return g==null?u:u+g}}ge.VARIABLE_LENGTH=[],ge.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",ge.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",ge.VARIABLE_LENGTH,20],["22",ge.VARIABLE_LENGTH,29],["30",ge.VARIABLE_LENGTH,8],["37",ge.VARIABLE_LENGTH,8],["90",ge.VARIABLE_LENGTH,30],["91",ge.VARIABLE_LENGTH,30],["92",ge.VARIABLE_LENGTH,30],["93",ge.VARIABLE_LENGTH,30],["94",ge.VARIABLE_LENGTH,30],["95",ge.VARIABLE_LENGTH,30],["96",ge.VARIABLE_LENGTH,30],["97",ge.VARIABLE_LENGTH,3],["98",ge.VARIABLE_LENGTH,30],["99",ge.VARIABLE_LENGTH,30]],ge.THREE_DIGIT_DATA_LENGTH=[["240",ge.VARIABLE_LENGTH,30],["241",ge.VARIABLE_LENGTH,30],["242",ge.VARIABLE_LENGTH,6],["250",ge.VARIABLE_LENGTH,30],["251",ge.VARIABLE_LENGTH,30],["253",ge.VARIABLE_LENGTH,17],["254",ge.VARIABLE_LENGTH,20],["400",ge.VARIABLE_LENGTH,30],["401",ge.VARIABLE_LENGTH,30],["402",17],["403",ge.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",ge.VARIABLE_LENGTH,20],["421",ge.VARIABLE_LENGTH,15],["422",3],["423",ge.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],ge.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",ge.VARIABLE_LENGTH,15],["391",ge.VARIABLE_LENGTH,18],["392",ge.VARIABLE_LENGTH,15],["393",ge.VARIABLE_LENGTH,18],["703",ge.VARIABLE_LENGTH,30]],ge.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",ge.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",ge.VARIABLE_LENGTH,20],["8003",ge.VARIABLE_LENGTH,30],["8004",ge.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",ge.VARIABLE_LENGTH,30],["8008",ge.VARIABLE_LENGTH,12],["8018",18],["8020",ge.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",ge.VARIABLE_LENGTH,70],["8200",ge.VARIABLE_LENGTH,70]];class ei{constructor(e){this.buffer=new Q,this.information=e}decodeAllCodes(e,t){let n=t,i=null;do{let r=this.decodeGeneralPurposeField(n,i),l=ge.parseFieldsInGeneralPurpose(r.getNewString());if(l!=null&&e.append(l),r.isRemaining()?i=""+r.getRemainingValue():i=null,n===r.getNewPosition())break;n=r.getNewPosition()}while(!0);return e.toString()}isStillNumeric(e){if(e+7>this.information.getSize())return e+4<=this.information.getSize();for(let t=e;t<e+3;++t)if(this.information.get(t))return!0;return this.information.get(e+3)}decodeNumeric(e){if(e+7>this.information.getSize()){let r=this.extractNumericValueFromBitArray(e,4);return r===0?new nn(this.information.getSize(),nn.FNC1,nn.FNC1):new nn(this.information.getSize(),r-1,nn.FNC1)}let t=this.extractNumericValueFromBitArray(e,7),n=(t-8)/11,i=(t-8)%11;return new nn(e+7,n,i)}extractNumericValueFromBitArray(e,t){return ei.extractNumericValueFromBitArray(this.information,e,t)}static extractNumericValueFromBitArray(e,t,n){let i=0;for(let r=0;r<n;++r)e.get(t+r)&&(i|=1<<n-r-1);return i}decodeGeneralPurposeField(e,t){this.buffer.setLengthToZero(),t!=null&&this.buffer.append(t),this.current.setPosition(e);let n=this.parseBlocks();return n!=null&&n.isRemaining()?new Wn(this.current.getPosition(),this.buffer.toString(),n.getRemainingValue()):new Wn(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let e,t;do{let n=this.current.getPosition();if(this.current.isAlpha()?(t=this.parseAlphaBlock(),e=t.isFinished()):this.current.isIsoIec646()?(t=this.parseIsoIec646Block(),e=t.isFinished()):(t=this.parseNumericBlock(),e=t.isFinished()),!(n!==this.current.getPosition())&&!e)break}while(!e);return t.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let e=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFirstDigitFNC1()){let t;return e.isSecondDigitFNC1()?t=new Wn(this.current.getPosition(),this.buffer.toString()):t=new Wn(this.current.getPosition(),this.buffer.toString(),e.getSecondDigit()),new zn(!0,t)}if(this.buffer.append(e.getFirstDigit()),e.isSecondDigitFNC1()){let t=new Wn(this.current.getPosition(),this.buffer.toString());return new zn(!0,t)}this.buffer.append(e.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new zn(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let e=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Wn(this.current.getPosition(),this.buffer.toString());return new zn(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new zn(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let e=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(e.getNewPosition()),e.isFNC1()){let t=new Wn(this.current.getPosition(),this.buffer.toString());return new zn(!0,t)}this.buffer.append(e.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new zn(!1)}isStillIsoIec646(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+7>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<116)return!0;if(e+8>this.information.getSize())return!1;let i=this.extractNumericValueFromBitArray(e,8);return i>=232&&i<253}decodeIsoIec646(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Wt(e+5,Wt.FNC1);if(t>=5&&t<15)return new Wt(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,7);if(n>=64&&n<90)return new Wt(e+7,""+(n+1));if(n>=90&&n<116)return new Wt(e+7,""+(n+7));let i=this.extractNumericValueFromBitArray(e,8),r;switch(i){case 232:r="!";break;case 233:r='"';break;case 234:r="%";break;case 235:r="&";break;case 236:r="'";break;case 237:r="(";break;case 238:r=")";break;case 239:r="*";break;case 240:r="+";break;case 241:r=",";break;case 242:r="-";break;case 243:r=".";break;case 244:r="/";break;case 245:r=":";break;case 246:r=";";break;case 247:r="<";break;case 248:r="=";break;case 249:r=">";break;case 250:r="?";break;case 251:r="_";break;case 252:r=" ";break;default:throw new P}return new Wt(e+8,r)}isStillAlpha(e){if(e+5>this.information.getSize())return!1;let t=this.extractNumericValueFromBitArray(e,5);if(t>=5&&t<16)return!0;if(e+6>this.information.getSize())return!1;let n=this.extractNumericValueFromBitArray(e,6);return n>=16&&n<63}decodeAlphanumeric(e){let t=this.extractNumericValueFromBitArray(e,5);if(t===15)return new Wt(e+5,Wt.FNC1);if(t>=5&&t<15)return new Wt(e+5,"0"+(t-5));let n=this.extractNumericValueFromBitArray(e,6);if(n>=32&&n<58)return new Wt(e+6,""+(n+33));let i;switch(n){case 58:i="*";break;case 59:i=",";break;case 60:i="-";break;case 61:i=".";break;case 62:i="/";break;default:throw new en("Decoding invalid alphanumeric value: "+n)}return new Wt(e+6,i)}isAlphaTo646ToAlphaLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<5&&t+e<this.information.getSize();++t)if(t===2){if(!this.information.get(e+2))return!1}else if(this.information.get(e+t))return!1;return!0}isAlphaOr646ToNumericLatch(e){if(e+3>this.information.getSize())return!1;for(let t=e;t<e+3;++t)if(this.information.get(t))return!1;return!0}isNumericToAlphaNumericLatch(e){if(e+1>this.information.getSize())return!1;for(let t=0;t<4&&t+e<this.information.getSize();++t)if(this.information.get(e+t))return!1;return!0}}class ms{constructor(e){this.information=e,this.generalDecoder=new ei(e)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Xt extends ms{constructor(e){super(e)}encodeCompressedGtin(e,t){e.append("(01)");let n=e.length();e.append("9"),this.encodeCompressedGtinWithoutAI(e,t,n)}encodeCompressedGtinWithoutAI(e,t,n){for(let i=0;i<4;++i){let r=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*i,10);r/100===0&&e.append("0"),r/10===0&&e.append("0"),e.append(r)}Xt.appendCheckDigit(e,n)}static appendCheckDigit(e,t){let n=0;for(let i=0;i<13;i++){let r=e.charAt(i+t).charCodeAt(0)-"0".charCodeAt(0);n+=(i&1)===0?3*r:r}n=10-n%10,n===10&&(n=0),e.append(n)}}Xt.GTIN_SIZE=40;class ti extends Xt{constructor(e){super(e)}parseInformation(){let e=new Q;e.append("(01)");let t=e.length(),n=this.getGeneralDecoder().extractNumericValueFromBitArray(ti.HEADER_SIZE,4);return e.append(n),this.encodeCompressedGtinWithoutAI(e,ti.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(e,ti.HEADER_SIZE+44)}}ti.HEADER_SIZE=1+1+2;class Vi extends ms{constructor(e){super(e)}parseInformation(){let e=new Q;return this.getGeneralDecoder().decodeAllCodes(e,Vi.HEADER_SIZE)}}Vi.HEADER_SIZE=2+1+2;class Hi extends Xt{constructor(e){super(e)}encodeCompressedWeight(e,t,n){let i=this.getGeneralDecoder().extractNumericValueFromBitArray(t,n);this.addWeightCode(e,i);let r=this.checkWeight(i),l=1e5;for(let c=0;c<5;++c)r/l===0&&e.append("0"),l/=10;e.append(r)}}class hn extends Hi{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()!=hn.HEADER_SIZE+Hi.GTIN_SIZE+hn.WEIGHT_SIZE)throw new S;let e=new Q;return this.encodeCompressedGtin(e,hn.HEADER_SIZE),this.encodeCompressedWeight(e,hn.HEADER_SIZE+Hi.GTIN_SIZE,hn.WEIGHT_SIZE),e.toString()}}hn.HEADER_SIZE=4+1,hn.WEIGHT_SIZE=15;class N1 extends hn{constructor(e){super(e)}addWeightCode(e,t){e.append("(3103)")}checkWeight(e){return e}}class R1 extends hn{constructor(e){super(e)}addWeightCode(e,t){t<1e4?e.append("(3202)"):e.append("(3203)")}checkWeight(e){return e<1e4?e:e-1e4}}class dn extends Xt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<dn.HEADER_SIZE+Xt.GTIN_SIZE)throw new S;let e=new Q;this.encodeCompressedGtin(e,dn.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(dn.HEADER_SIZE+Xt.GTIN_SIZE,dn.LAST_DIGIT_SIZE);e.append("(392"),e.append(t),e.append(")");let n=this.getGeneralDecoder().decodeGeneralPurposeField(dn.HEADER_SIZE+Xt.GTIN_SIZE+dn.LAST_DIGIT_SIZE,null);return e.append(n.getNewString()),e.toString()}}dn.HEADER_SIZE=5+1+2,dn.LAST_DIGIT_SIZE=2;class Ut extends Xt{constructor(e){super(e)}parseInformation(){if(this.getInformation().getSize()<Ut.HEADER_SIZE+Xt.GTIN_SIZE)throw new S;let e=new Q;this.encodeCompressedGtin(e,Ut.HEADER_SIZE);let t=this.getGeneralDecoder().extractNumericValueFromBitArray(Ut.HEADER_SIZE+Xt.GTIN_SIZE,Ut.LAST_DIGIT_SIZE);e.append("(393"),e.append(t),e.append(")");let n=this.getGeneralDecoder().extractNumericValueFromBitArray(Ut.HEADER_SIZE+Xt.GTIN_SIZE+Ut.LAST_DIGIT_SIZE,Ut.FIRST_THREE_DIGITS_SIZE);n/100==0&&e.append("0"),n/10==0&&e.append("0"),e.append(n);let i=this.getGeneralDecoder().decodeGeneralPurposeField(Ut.HEADER_SIZE+Xt.GTIN_SIZE+Ut.LAST_DIGIT_SIZE+Ut.FIRST_THREE_DIGITS_SIZE,null);return e.append(i.getNewString()),e.toString()}}Ut.HEADER_SIZE=5+1+2,Ut.LAST_DIGIT_SIZE=2,Ut.FIRST_THREE_DIGITS_SIZE=10;class st extends Hi{constructor(e,t,n){super(e),this.dateCode=n,this.firstAIdigits=t}parseInformation(){if(this.getInformation().getSize()!=st.HEADER_SIZE+st.GTIN_SIZE+st.WEIGHT_SIZE+st.DATE_SIZE)throw new S;let e=new Q;return this.encodeCompressedGtin(e,st.HEADER_SIZE),this.encodeCompressedWeight(e,st.HEADER_SIZE+st.GTIN_SIZE,st.WEIGHT_SIZE),this.encodeCompressedDate(e,st.HEADER_SIZE+st.GTIN_SIZE+st.WEIGHT_SIZE),e.toString()}encodeCompressedDate(e,t){let n=this.getGeneralDecoder().extractNumericValueFromBitArray(t,st.DATE_SIZE);if(n==38400)return;e.append("("),e.append(this.dateCode),e.append(")");let i=n%32;n/=32;let r=n%12+1;n/=12;let l=n;l/10==0&&e.append("0"),e.append(l),r/10==0&&e.append("0"),e.append(r),i/10==0&&e.append("0"),e.append(i)}addWeightCode(e,t){e.append("("),e.append(this.firstAIdigits),e.append(t/1e5),e.append(")")}checkWeight(e){return e%1e5}}st.HEADER_SIZE=7+1,st.WEIGHT_SIZE=20,st.DATE_SIZE=16;function O1(C){try{if(C.get(1))return new ti(C);if(!C.get(2))return new Vi(C);switch(ei.extractNumericValueFromBitArray(C,1,4)){case 4:return new N1(C);case 5:return new R1(C)}switch(ei.extractNumericValueFromBitArray(C,1,5)){case 12:return new dn(C);case 13:return new Ut(C)}switch(ei.extractNumericValueFromBitArray(C,1,7)){case 56:return new st(C,"310","11");case 57:return new st(C,"320","11");case 58:return new st(C,"310","13");case 59:return new st(C,"320","13");case 60:return new st(C,"310","15");case 61:return new st(C,"320","15");case 62:return new st(C,"310","17");case 63:return new st(C,"320","17")}}catch(e){throw console.log(e),new en("unknown decoder: "+C)}}class Rn{constructor(e,t,n,i){this.leftchar=e,this.rightchar=t,this.finderpattern=n,this.maybeLast=i}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(e,t){return e instanceof Rn?Rn.equalsOrNull(e.leftchar,t.leftchar)&&Rn.equalsOrNull(e.rightchar,t.rightchar)&&Rn.equalsOrNull(e.finderpattern,t.finderpattern):!1}static equalsOrNull(e,t){return e===null?t===null:Rn.equals(e,t)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Er{constructor(e,t,n){this.pairs=e,this.rowNumber=t,this.wasReversed=n}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(e){return this.checkEqualitity(this,e)}toString(){return"{ "+this.pairs+" }"}equals(e,t){return e instanceof Er?this.checkEqualitity(e,t)&&e.wasReversed===t.wasReversed:!1}checkEqualitity(e,t){if(!e||!t)return;let n;return e.forEach((i,r)=>{t.forEach(l=>{i.getLeftChar().getValue()===l.getLeftChar().getValue()&&i.getRightChar().getValue()===l.getRightChar().getValue()&&i.getFinderPatter().getValue()===l.getFinderPatter().getValue()&&(n=!0)})}),n}}class K extends kt{constructor(e){super(...arguments),this.pairs=new Array(K.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=e===!0}decodeRow(e,t,n){this.pairs.length=0,this.startFromEven=!1;try{return K.constructResult(this.decodeRow2pairs(e,t))}catch(i){this.verbose&&console.log(i)}return this.pairs.length=0,this.startFromEven=!0,K.constructResult(this.decodeRow2pairs(e,t))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(e,t){let n=!1;for(;!n;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,e))}catch(r){if(r instanceof S){if(!this.pairs.length)throw new S;n=!0}}if(this.checkChecksum())return this.pairs;let i;if(this.rows.length?i=!0:i=!1,this.storeRow(e,!1),i){let r=this.checkRowsBoolean(!1);if(r!=null||(r=this.checkRowsBoolean(!0),r!=null))return r}throw new S}checkRowsBoolean(e){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,e&&(this.rows=this.rows.reverse());let t=null;try{t=this.checkRows(new Array,0)}catch(n){this.verbose&&console.log(n)}return e&&(this.rows=this.rows.reverse()),t}checkRows(e,t){for(let n=t;n<this.rows.length;n++){let i=this.rows[n];this.pairs.length=0;for(let l of e)this.pairs.push(l.getPairs());if(this.pairs.push(i.getPairs()),!K.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let r=new Array(e);r.push(i);try{return this.checkRows(r,n+1)}catch(l){this.verbose&&console.log(l)}}throw new S}static isValidSequence(e){for(let t of K.FINDER_PATTERN_SEQUENCES){if(e.length>t.length)continue;let n=!0;for(let i=0;i<e.length;i++)if(e[i].getFinderPattern().getValue()!=t[i]){n=!1;break}if(n)return!0}return!1}storeRow(e,t){let n=0,i=!1,r=!1;for(;n<this.rows.length;){let l=this.rows[n];if(l.getRowNumber()>e){r=l.isEquivalent(this.pairs);break}i=l.isEquivalent(this.pairs),n++}r||i||K.isPartialRow(this.pairs,this.rows)||(this.rows.push(n,new Er(this.pairs,e,t)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(e,t){for(let n of t)if(n.getPairs().length!==e.length){for(let i of n.getPairs())for(let r of e)if(Rn.equals(i,r))break}}static isPartialRow(e,t){for(let n of t){let i=!0;for(let r of e){let l=!1;for(let c of n.getPairs())if(r.equals(c)){l=!0;break}if(!l){i=!1;break}}if(i)return!0}return!1}getRows(){return this.rows}static constructResult(e){let t=S1.buildBitArray(e),i=O1(t).parseInformation(),r=e[0].getFinderPattern().getResultPoints(),l=e[e.length-1].getFinderPattern().getResultPoints(),c=[r[0],r[1],l[0],l[1]];return new ft(i,null,null,c,be.RSS_EXPANDED,null)}checkChecksum(){let e=this.pairs.get(0),t=e.getLeftChar(),n=e.getRightChar();if(n==null)return!1;let i=n.getChecksumPortion(),r=2;for(let c=1;c<this.pairs.size();++c){let u=this.pairs.get(c);i+=u.getLeftChar().getChecksumPortion(),r++;let g=u.getRightChar();g!=null&&(i+=g.getChecksumPortion(),r++)}return i%=211,211*(r-4)+i==t.getValue()}static getNextSecondBar(e,t){let n;return e.get(t)?(n=e.getNextUnset(t),n=e.getNextSet(n)):(n=e.getNextSet(t),n=e.getNextUnset(n)),n}retrieveNextPair(e,t,n){let i=t.length%2==0;this.startFromEven&&(i=!i);let r,l=!0,c=-1;do this.findNextPair(e,t,c),r=this.parseFoundFinderPattern(e,n,i),r==null?c=K.getNextSecondBar(e,this.startEnd[0]):l=!1;while(l);let u=this.decodeDataCharacter(e,r,i,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new S;let g;try{g=this.decodeDataCharacter(e,r,i,!1)}catch(E){g=null,this.verbose&&console.log(E)}return new Rn(u,g,r,!0)}isEmptyPair(e){return e.length===0}findNextPair(e,t,n){let i=this.getDecodeFinderCounters();i[0]=0,i[1]=0,i[2]=0,i[3]=0;let r=e.getSize(),l;n>=0?l=n:this.isEmptyPair(t)?l=0:l=t[t.length-1].getFinderPattern().getStartEnd()[1];let c=t.length%2!=0;this.startFromEven&&(c=!c);let u=!1;for(;l<r&&(u=!e.get(l),!!u);)l++;let g=0,E=l;for(let b=l;b<r;b++)if(e.get(b)!=u)i[g]++;else{if(g==3){if(c&&K.reverseCounters(i),K.isFinderPattern(i)){this.startEnd[0]=E,this.startEnd[1]=b;return}c&&K.reverseCounters(i),E+=i[0]+i[1],i[0]=i[2],i[1]=i[3],i[2]=0,i[3]=0,g--}else g++;i[g]=1,u=!u}throw new S}static reverseCounters(e){let t=e.length;for(let n=0;n<t/2;++n){let i=e[n];e[n]=e[t-n-1],e[t-n-1]=i}}parseFoundFinderPattern(e,t,n){let i,r,l;if(n){let g=this.startEnd[0]-1;for(;g>=0&&!e.get(g);)g--;g++,i=this.startEnd[0]-g,r=g,l=this.startEnd[1]}else r=this.startEnd[0],l=e.getNextUnset(this.startEnd[1]+1),i=l-this.startEnd[1];let c=this.getDecodeFinderCounters();y.arraycopy(c,0,c,1,c.length-1),c[0]=i;let u;try{u=this.parseFinderValue(c,K.FINDER_PATTERNS)}catch{return null}return new Ui(u,[r,l],r,l,t)}decodeDataCharacter(e,t,n,i){let r=this.getDataCharacterCounters();for(let et=0;et<r.length;et++)r[et]=0;if(i)K.recordPatternInReverse(e,t.getStartEnd()[0],r);else{K.recordPattern(e,t.getStartEnd()[1],r);for(let et=0,Mt=r.length-1;et<Mt;et++,Mt--){let Qt=r[et];r[et]=r[Mt],r[Mt]=Qt}}let l=17,c=ve.sum(new Int32Array(r))/l,u=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(c-u)/u>.3)throw new S;let g=this.getOddCounts(),E=this.getEvenCounts(),b=this.getOddRoundingErrors(),_=this.getEvenRoundingErrors();for(let et=0;et<r.length;et++){let Mt=1*r[et]/c,Qt=Mt+.5;if(Qt<1){if(Mt<.3)throw new S;Qt=1}else if(Qt>8){if(Mt>8.7)throw new S;Qt=8}let oi=et/2;(et&1)==0?(g[oi]=Qt,b[oi]=Mt-Qt):(E[oi]=Qt,_[oi]=Mt-Qt)}this.adjustOddEvenCounts(l);let T=4*t.getValue()+(n?0:2)+(i?0:1)-1,N=0,O=0;for(let et=g.length-1;et>=0;et--){if(K.isNotA1left(t,n,i)){let Mt=K.WEIGHTS[T][2*et];O+=g[et]*Mt}N+=g[et]}let k=0;for(let et=E.length-1;et>=0;et--)if(K.isNotA1left(t,n,i)){let Mt=K.WEIGHTS[T][2*et+1];k+=E[et]*Mt}let G=O+k;if((N&1)!=0||N>13||N<4)throw new S;let $=(13-N)/2,ne=K.SYMBOL_WIDEST[$],J=9-ne,ke=un.getRSSvalue(g,ne,!0),Oe=un.getRSSvalue(E,J,!1),jt=K.EVEN_TOTAL_SUBSET[$],fn=K.GSUM[$],Zt=ke*jt+Oe+fn;return new $n(Zt,G)}static isNotA1left(e,t,n){return!(e.getValue()==0&&t&&n)}adjustOddEvenCounts(e){let t=ve.sum(new Int32Array(this.getOddCounts())),n=ve.sum(new Int32Array(this.getEvenCounts())),i=!1,r=!1;t>13?r=!0:t<4&&(i=!0);let l=!1,c=!1;n>13?c=!0:n<4&&(l=!0);let u=t+n-e,g=(t&1)==1,E=(n&1)==0;if(u==1)if(g){if(E)throw new S;r=!0}else{if(!E)throw new S;c=!0}else if(u==-1)if(g){if(E)throw new S;i=!0}else{if(!E)throw new S;l=!0}else if(u==0){if(g){if(!E)throw new S;t<n?(i=!0,c=!0):(r=!0,l=!0)}else if(E)throw new S}else throw new S;if(i){if(r)throw new S;K.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(r&&K.decrement(this.getOddCounts(),this.getOddRoundingErrors()),l){if(c)throw new S;K.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&K.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}K.SYMBOL_WIDEST=[7,5,4,3,1],K.EVEN_TOTAL_SUBSET=[4,20,52,104,204],K.GSUM=[0,348,1388,2948,3988],K.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],K.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],K.FINDER_PAT_A=0,K.FINDER_PAT_B=1,K.FINDER_PAT_C=2,K.FINDER_PAT_D=3,K.FINDER_PAT_E=4,K.FINDER_PAT_F=5,K.FINDER_PATTERN_SEQUENCES=[[K.FINDER_PAT_A,K.FINDER_PAT_A],[K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B],[K.FINDER_PAT_A,K.FINDER_PAT_C,K.FINDER_PAT_B,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_C],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_E,K.FINDER_PAT_B,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F],[K.FINDER_PAT_A,K.FINDER_PAT_A,K.FINDER_PAT_B,K.FINDER_PAT_B,K.FINDER_PAT_C,K.FINDER_PAT_D,K.FINDER_PAT_D,K.FINDER_PAT_E,K.FINDER_PAT_E,K.FINDER_PAT_F,K.FINDER_PAT_F]],K.MAX_PAIRS=11;class D1 extends $n{constructor(e,t,n){super(e,t),this.count=0,this.finderPattern=n}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class ht extends kt{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(e,t,n){const i=this.decodePair(t,!1,e,n);ht.addOrTally(this.possibleLeftPairs,i),t.reverse();let r=this.decodePair(t,!0,e,n);ht.addOrTally(this.possibleRightPairs,r),t.reverse();for(let l of this.possibleLeftPairs)if(l.getCount()>1){for(let c of this.possibleRightPairs)if(c.getCount()>1&&ht.checkChecksum(l,c))return ht.constructResult(l,c)}throw new S}static addOrTally(e,t){if(t==null)return;let n=!1;for(let i of e)if(i.getValue()===t.getValue()){i.incrementCount(),n=!0;break}n||e.push(t)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(e,t){let n=4537077*e.getValue()+t.getValue(),i=new String(n).toString(),r=new Q;for(let g=13-i.length;g>0;g--)r.append("0");r.append(i);let l=0;for(let g=0;g<13;g++){let E=r.charAt(g).charCodeAt(0)-"0".charCodeAt(0);l+=(g&1)===0?3*E:E}l=10-l%10,l===10&&(l=0),r.append(l.toString());let c=e.getFinderPattern().getResultPoints(),u=t.getFinderPattern().getResultPoints();return new ft(r.toString(),null,0,[c[0],c[1],u[0],u[1]],be.RSS_14,new Date().getTime())}static checkChecksum(e,t){let n=(e.getChecksumPortion()+16*t.getChecksumPortion())%79,i=9*e.getFinderPattern().getValue()+t.getFinderPattern().getValue();return i>72&&i--,i>8&&i--,n===i}decodePair(e,t,n,i){try{let r=this.findFinderPattern(e,t),l=this.parseFoundFinderPattern(e,n,t,r),c=i==null?null:i.get(W.NEED_RESULT_POINT_CALLBACK);if(c!=null){let E=(r[0]+r[1])/2;t&&(E=e.getSize()-1-E),c.foundPossibleResultPoint(new Ee(E,n))}let u=this.decodeDataCharacter(e,l,!0),g=this.decodeDataCharacter(e,l,!1);return new D1(1597*u.getValue()+g.getValue(),u.getChecksumPortion()+4*g.getChecksumPortion(),l)}catch{return null}}decodeDataCharacter(e,t,n){let i=this.getDataCharacterCounters();for(let k=0;k<i.length;k++)i[k]=0;if(n)Et.recordPatternInReverse(e,t.getStartEnd()[0],i);else{Et.recordPattern(e,t.getStartEnd()[1]+1,i);for(let k=0,G=i.length-1;k<G;k++,G--){let $=i[k];i[k]=i[G],i[G]=$}}let r=n?16:15,l=ve.sum(new Int32Array(i))/r,c=this.getOddCounts(),u=this.getEvenCounts(),g=this.getOddRoundingErrors(),E=this.getEvenRoundingErrors();for(let k=0;k<i.length;k++){let G=i[k]/l,$=Math.floor(G+.5);$<1?$=1:$>8&&($=8);let ne=Math.floor(k/2);(k&1)===0?(c[ne]=$,g[ne]=G-$):(u[ne]=$,E[ne]=G-$)}this.adjustOddEvenCounts(n,r);let b=0,_=0;for(let k=c.length-1;k>=0;k--)_*=9,_+=c[k],b+=c[k];let T=0,N=0;for(let k=u.length-1;k>=0;k--)T*=9,T+=u[k],N+=u[k];let O=_+3*T;if(n){if((b&1)!==0||b>12||b<4)throw new S;let k=(12-b)/2,G=ht.OUTSIDE_ODD_WIDEST[k],$=9-G,ne=un.getRSSvalue(c,G,!1),J=un.getRSSvalue(u,$,!0),ke=ht.OUTSIDE_EVEN_TOTAL_SUBSET[k],Oe=ht.OUTSIDE_GSUM[k];return new $n(ne*ke+J+Oe,O)}else{if((N&1)!==0||N>10||N<4)throw new S;let k=(10-N)/2,G=ht.INSIDE_ODD_WIDEST[k],$=9-G,ne=un.getRSSvalue(c,G,!0),J=un.getRSSvalue(u,$,!1),ke=ht.INSIDE_ODD_TOTAL_SUBSET[k],Oe=ht.INSIDE_GSUM[k];return new $n(J*ke+ne+Oe,O)}}findFinderPattern(e,t){let n=this.getDecodeFinderCounters();n[0]=0,n[1]=0,n[2]=0,n[3]=0;let i=e.getSize(),r=!1,l=0;for(;l<i&&(r=!e.get(l),t!==r);)l++;let c=0,u=l;for(let g=l;g<i;g++)if(e.get(g)!==r)n[c]++;else{if(c===3){if(kt.isFinderPattern(n))return[u,g];u+=n[0]+n[1],n[0]=n[2],n[1]=n[3],n[2]=0,n[3]=0,c--}else c++;n[c]=1,r=!r}throw new S}parseFoundFinderPattern(e,t,n,i){let r=e.get(i[0]),l=i[0]-1;for(;l>=0&&r!==e.get(l);)l--;l++;const c=i[0]-l,u=this.getDecodeFinderCounters(),g=new Int32Array(u.length);y.arraycopy(u,0,g,1,u.length-1),g[0]=c;const E=this.parseFinderValue(g,ht.FINDER_PATTERNS);let b=l,_=i[1];return n&&(b=e.getSize()-1-b,_=e.getSize()-1-_),new Ui(E,[l,i[1]],b,_,t)}adjustOddEvenCounts(e,t){let n=ve.sum(new Int32Array(this.getOddCounts())),i=ve.sum(new Int32Array(this.getEvenCounts())),r=!1,l=!1,c=!1,u=!1;e?(n>12?l=!0:n<4&&(r=!0),i>12?u=!0:i<4&&(c=!0)):(n>11?l=!0:n<5&&(r=!0),i>10?u=!0:i<4&&(c=!0));let g=n+i-t,E=(n&1)===(e?1:0),b=(i&1)===1;if(g===1)if(E){if(b)throw new S;l=!0}else{if(!b)throw new S;u=!0}else if(g===-1)if(E){if(b)throw new S;r=!0}else{if(!b)throw new S;c=!0}else if(g===0){if(E){if(!b)throw new S;n<i?(r=!0,u=!0):(l=!0,c=!0)}else if(b)throw new S}else throw new S;if(r){if(l)throw new S;kt.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(l&&kt.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(u)throw new S;kt.increment(this.getEvenCounts(),this.getOddRoundingErrors())}u&&kt.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}ht.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],ht.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],ht.OUTSIDE_GSUM=[0,161,961,2015,2715],ht.INSIDE_GSUM=[0,336,1036,1516],ht.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],ht.INSIDE_ODD_WIDEST=[2,4,6,8],ht.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class ni extends Et{constructor(e,t){super(),this.readers=[],this.verbose=t===!0;const n=e?e.get(W.POSSIBLE_FORMATS):null,i=e&&e.get(W.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;n&&((n.includes(be.EAN_13)||n.includes(be.UPC_A)||n.includes(be.EAN_8)||n.includes(be.UPC_E))&&this.readers.push(new wr(e)),n.includes(be.CODE_39)&&this.readers.push(new bt(i)),n.includes(be.CODE_128)&&this.readers.push(new oe),n.includes(be.ITF)&&this.readers.push(new Qe),n.includes(be.RSS_14)&&this.readers.push(new ht),n.includes(be.RSS_EXPANDED)&&this.readers.push(new K(this.verbose))),this.readers.length===0&&(this.readers.push(new wr(e)),this.readers.push(new bt),this.readers.push(new wr(e)),this.readers.push(new oe),this.readers.push(new Qe),this.readers.push(new ht),this.readers.push(new K(this.verbose)))}decodeRow(e,t,n){for(let i=0;i<this.readers.length;i++)try{return this.readers[i].decodeRow(e,t,n)}catch{}throw new S}reset(){this.readers.forEach(e=>e.reset())}}class M1 extends zt{constructor(e=500,t){super(new ni(t),e,t)}}class Ye{constructor(e,t,n){this.ecCodewords=e,this.ecBlocks=[t],n&&this.ecBlocks.push(n)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class We{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Fe{constructor(e,t,n,i,r,l){this.versionNumber=e,this.symbolSizeRows=t,this.symbolSizeColumns=n,this.dataRegionSizeRows=i,this.dataRegionSizeColumns=r,this.ecBlocks=l;let c=0;const u=l.getECCodewords(),g=l.getECBlocks();for(let E of g)c+=E.getCount()*(E.getDataCodewords()+u);this.totalCodewords=c}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(e,t){if((e&1)!==0||(t&1)!==0)throw new P;for(let n of Fe.VERSIONS)if(n.symbolSizeRows===e&&n.symbolSizeColumns===t)return n;throw new P}toString(){return""+this.versionNumber}static buildVersions(){return[new Fe(1,10,10,8,8,new Ye(5,new We(1,3))),new Fe(2,12,12,10,10,new Ye(7,new We(1,5))),new Fe(3,14,14,12,12,new Ye(10,new We(1,8))),new Fe(4,16,16,14,14,new Ye(12,new We(1,12))),new Fe(5,18,18,16,16,new Ye(14,new We(1,18))),new Fe(6,20,20,18,18,new Ye(18,new We(1,22))),new Fe(7,22,22,20,20,new Ye(20,new We(1,30))),new Fe(8,24,24,22,22,new Ye(24,new We(1,36))),new Fe(9,26,26,24,24,new Ye(28,new We(1,44))),new Fe(10,32,32,14,14,new Ye(36,new We(1,62))),new Fe(11,36,36,16,16,new Ye(42,new We(1,86))),new Fe(12,40,40,18,18,new Ye(48,new We(1,114))),new Fe(13,44,44,20,20,new Ye(56,new We(1,144))),new Fe(14,48,48,22,22,new Ye(68,new We(1,174))),new Fe(15,52,52,24,24,new Ye(42,new We(2,102))),new Fe(16,64,64,14,14,new Ye(56,new We(2,140))),new Fe(17,72,72,16,16,new Ye(36,new We(4,92))),new Fe(18,80,80,18,18,new Ye(48,new We(4,114))),new Fe(19,88,88,20,20,new Ye(56,new We(4,144))),new Fe(20,96,96,22,22,new Ye(68,new We(4,174))),new Fe(21,104,104,24,24,new Ye(56,new We(6,136))),new Fe(22,120,120,18,18,new Ye(68,new We(6,175))),new Fe(23,132,132,20,20,new Ye(62,new We(8,163))),new Fe(24,144,144,22,22,new Ye(62,new We(8,156),new We(2,155))),new Fe(25,8,18,6,16,new Ye(7,new We(1,5))),new Fe(26,8,32,6,14,new Ye(11,new We(1,10))),new Fe(27,12,26,10,24,new Ye(14,new We(1,16))),new Fe(28,12,36,10,16,new Ye(18,new We(1,22))),new Fe(29,16,36,14,16,new Ye(24,new We(1,32))),new Fe(30,16,48,14,22,new Ye(28,new We(1,49)))]}}Fe.VERSIONS=Fe.buildVersions();class Ar{constructor(e){const t=e.getHeight();if(t<8||t>144||(t&1)!==0)throw new P;this.version=Ar.readVersion(e),this.mappingBitMatrix=this.extractDataRegion(e),this.readMappingMatrix=new fe(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(e){const t=e.getHeight(),n=e.getWidth();return Fe.getVersionForDimensions(t,n)}readCodewords(){const e=new Int8Array(this.version.getTotalCodewords());let t=0,n=4,i=0;const r=this.mappingBitMatrix.getHeight(),l=this.mappingBitMatrix.getWidth();let c=!1,u=!1,g=!1,E=!1;do if(n===r&&i===0&&!c)e[t++]=this.readCorner1(r,l)&255,n-=2,i+=2,c=!0;else if(n===r-2&&i===0&&(l&3)!==0&&!u)e[t++]=this.readCorner2(r,l)&255,n-=2,i+=2,u=!0;else if(n===r+4&&i===2&&(l&7)===0&&!g)e[t++]=this.readCorner3(r,l)&255,n-=2,i+=2,g=!0;else if(n===r-2&&i===0&&(l&7)===4&&!E)e[t++]=this.readCorner4(r,l)&255,n-=2,i+=2,E=!0;else{do n<r&&i>=0&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,r,l)&255),n-=2,i+=2;while(n>=0&&i<l);n+=1,i+=3;do n>=0&&i<l&&!this.readMappingMatrix.get(i,n)&&(e[t++]=this.readUtah(n,i,r,l)&255),n+=2,i-=2;while(n<r&&i>=0);n+=3,i+=1}while(n<r||i<l);if(t!==this.version.getTotalCodewords())throw new P;return e}readModule(e,t,n,i){return e<0&&(e+=n,t+=4-(n+4&7)),t<0&&(t+=i,e+=4-(i+4&7)),this.readMappingMatrix.set(t,e),this.mappingBitMatrix.get(t,e)}readUtah(e,t,n,i){let r=0;return this.readModule(e-2,t-2,n,i)&&(r|=1),r<<=1,this.readModule(e-2,t-1,n,i)&&(r|=1),r<<=1,this.readModule(e-1,t-2,n,i)&&(r|=1),r<<=1,this.readModule(e-1,t-1,n,i)&&(r|=1),r<<=1,this.readModule(e-1,t,n,i)&&(r|=1),r<<=1,this.readModule(e,t-2,n,i)&&(r|=1),r<<=1,this.readModule(e,t-1,n,i)&&(r|=1),r<<=1,this.readModule(e,t,n,i)&&(r|=1),r}readCorner1(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,1,e,t)&&(n|=1),n<<=1,this.readModule(e-1,2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}readCorner2(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-4,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner3(e,t){let n=0;return this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(0,t-3,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-3,e,t)&&(n|=1),n<<=1,this.readModule(1,t-2,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n}readCorner4(e,t){let n=0;return this.readModule(e-3,0,e,t)&&(n|=1),n<<=1,this.readModule(e-2,0,e,t)&&(n|=1),n<<=1,this.readModule(e-1,0,e,t)&&(n|=1),n<<=1,this.readModule(0,t-2,e,t)&&(n|=1),n<<=1,this.readModule(0,t-1,e,t)&&(n|=1),n<<=1,this.readModule(1,t-1,e,t)&&(n|=1),n<<=1,this.readModule(2,t-1,e,t)&&(n|=1),n<<=1,this.readModule(3,t-1,e,t)&&(n|=1),n}extractDataRegion(e){const t=this.version.getSymbolSizeRows(),n=this.version.getSymbolSizeColumns();if(e.getHeight()!==t)throw new I("Dimension of bitMatrix must match the version size");const i=this.version.getDataRegionSizeRows(),r=this.version.getDataRegionSizeColumns(),l=t/i|0,c=n/r|0,u=l*i,g=c*r,E=new fe(g,u);for(let b=0;b<l;++b){const _=b*i;for(let T=0;T<c;++T){const N=T*r;for(let O=0;O<i;++O){const k=b*(i+2)+1+O,G=_+O;for(let $=0;$<r;++$){const ne=T*(r+2)+1+$;if(e.get(ne,k)){const J=N+$;E.set(J,G)}}}}}return E}}class Cr{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t){const n=t.getECBlocks();let i=0;const r=n.getECBlocks();for(let O of r)i+=O.getCount();const l=new Array(i);let c=0;for(let O of r)for(let k=0;k<O.getCount();k++){const G=O.getDataCodewords(),$=n.getECCodewords()+G;l[c++]=new Cr(G,new Uint8Array($))}const g=l[0].codewords.length-n.getECCodewords(),E=g-1;let b=0;for(let O=0;O<E;O++)for(let k=0;k<c;k++)l[k].codewords[O]=e[b++];const _=t.getVersionNumber()===24,T=_?8:c;for(let O=0;O<T;O++)l[O].codewords[g-1]=e[b++];const N=l[0].codewords.length;for(let O=g;O<N;O++)for(let k=0;k<c;k++){const G=_?(k+8)%c:k,$=_&&G>7?O-1:O;l[G].codewords[$]=e[b++]}if(b!==e.length)throw new I;return l}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class br{constructor(e){this.bytes=e,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(e){if(e<1||e>32||e>this.available())throw new I(""+e);let t=0,n=this.bitOffset,i=this.byteOffset;const r=this.bytes;if(n>0){const l=8-n,c=e<l?e:l,u=l-c,g=255>>8-c<<u;t=(r[i]&g)>>u,e-=c,n+=c,n===8&&(n=0,i++)}if(e>0){for(;e>=8;)t=t<<8|r[i]&255,i++,e-=8;if(e>0){const l=8-e,c=255>>l<<l;t=t<<e|(r[i]&c)>>l,n+=e}}return this.bitOffset=n,this.byteOffset=i,t}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var _t;(function(C){C[C.PAD_ENCODE=0]="PAD_ENCODE",C[C.ASCII_ENCODE=1]="ASCII_ENCODE",C[C.C40_ENCODE=2]="C40_ENCODE",C[C.TEXT_ENCODE=3]="TEXT_ENCODE",C[C.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",C[C.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",C[C.BASE256_ENCODE=6]="BASE256_ENCODE"})(_t||(_t={}));class On{static decode(e){const t=new br(e),n=new Q,i=new Q,r=new Array;let l=_t.ASCII_ENCODE;do if(l===_t.ASCII_ENCODE)l=this.decodeAsciiSegment(t,n,i);else{switch(l){case _t.C40_ENCODE:this.decodeC40Segment(t,n);break;case _t.TEXT_ENCODE:this.decodeTextSegment(t,n);break;case _t.ANSIX12_ENCODE:this.decodeAnsiX12Segment(t,n);break;case _t.EDIFACT_ENCODE:this.decodeEdifactSegment(t,n);break;case _t.BASE256_ENCODE:this.decodeBase256Segment(t,n,r);break;default:throw new P}l=_t.ASCII_ENCODE}while(l!==_t.PAD_ENCODE&&t.available()>0);return i.length()>0&&n.append(i.toString()),new Un(e,n.toString(),r.length===0?null:r,null)}static decodeAsciiSegment(e,t,n){let i=!1;do{let r=e.readBits(8);if(r===0)throw new P;if(r<=128)return i&&(r+=128),t.append(String.fromCharCode(r-1)),_t.ASCII_ENCODE;if(r===129)return _t.PAD_ENCODE;if(r<=229){const l=r-130;l<10&&t.append("0"),t.append(""+l)}else switch(r){case 230:return _t.C40_ENCODE;case 231:return _t.BASE256_ENCODE;case 232:t.append(String.fromCharCode(29));break;case 233:case 234:break;case 235:i=!0;break;case 236:t.append("[)>05"),n.insert(0,"");break;case 237:t.append("[)>06"),n.insert(0,"");break;case 238:return _t.ANSIX12_ENCODE;case 239:return _t.TEXT_ENCODE;case 240:return _t.EDIFACT_ENCODE;case 241:break;default:if(r!==254||e.available()!==0)throw new P;break}}while(e.available()>0);return _t.ASCII_ENCODE}static decodeC40Segment(e,t){let n=!1;const i=[];let r=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(r){case 0:if(u<3)r=u+1;else if(u<this.C40_BASIC_SET_CHARS.length){const g=this.C40_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else throw new P;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),r=0;break;case 2:if(u<this.C40_SHIFT2_SET_CHARS.length){const g=this.C40_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new P}r=0;break;case 3:n?(t.append(String.fromCharCode(u+224)),n=!1):t.append(String.fromCharCode(u+96)),r=0;break;default:throw new P}}}while(e.available()>0)}static decodeTextSegment(e,t){let n=!1,i=[],r=0;do{if(e.available()===8)return;const l=e.readBits(8);if(l===254)return;this.parseTwoBytes(l,e.readBits(8),i);for(let c=0;c<3;c++){const u=i[c];switch(r){case 0:if(u<3)r=u+1;else if(u<this.TEXT_BASIC_SET_CHARS.length){const g=this.TEXT_BASIC_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else throw new P;break;case 1:n?(t.append(String.fromCharCode(u+128)),n=!1):t.append(String.fromCharCode(u)),r=0;break;case 2:if(u<this.TEXT_SHIFT2_SET_CHARS.length){const g=this.TEXT_SHIFT2_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g)}else switch(u){case 27:t.append(String.fromCharCode(29));break;case 30:n=!0;break;default:throw new P}r=0;break;case 3:if(u<this.TEXT_SHIFT3_SET_CHARS.length){const g=this.TEXT_SHIFT3_SET_CHARS[u];n?(t.append(String.fromCharCode(g.charCodeAt(0)+128)),n=!1):t.append(g),r=0}else throw new P;break;default:throw new P}}}while(e.available()>0)}static decodeAnsiX12Segment(e,t){const n=[];do{if(e.available()===8)return;const i=e.readBits(8);if(i===254)return;this.parseTwoBytes(i,e.readBits(8),n);for(let r=0;r<3;r++){const l=n[r];switch(l){case 0:t.append("\r");break;case 1:t.append("*");break;case 2:t.append(">");break;case 3:t.append(" ");break;default:if(l<14)t.append(String.fromCharCode(l+44));else if(l<40)t.append(String.fromCharCode(l+51));else throw new P;break}}}while(e.available()>0)}static parseTwoBytes(e,t,n){let i=(e<<8)+t-1,r=Math.floor(i/1600);n[0]=r,i-=r*1600,r=Math.floor(i/40),n[1]=r,n[2]=i-r*40}static decodeEdifactSegment(e,t){do{if(e.available()<=16)return;for(let n=0;n<4;n++){let i=e.readBits(6);if(i===31){const r=8-e.getBitOffset();r!==8&&e.readBits(r);return}(i&32)===0&&(i|=64),t.append(String.fromCharCode(i))}}while(e.available()>0)}static decodeBase256Segment(e,t,n){let i=1+e.getByteOffset();const r=this.unrandomize255State(e.readBits(8),i++);let l;if(r===0?l=e.available()/8|0:r<250?l=r:l=250*(r-249)+this.unrandomize255State(e.readBits(8),i++),l<0)throw new P;const c=new Uint8Array(l);for(let u=0;u<l;u++){if(e.available()<8)throw new P;c[u]=this.unrandomize255State(e.readBits(8),i++)}n.push(c);try{t.append(he.decode(c,ie.ISO88591))}catch(u){throw new en("Platform does not support required encoding: "+u.message)}}static unrandomize255State(e,t){const n=149*t%255+1,i=e-n;return i>=0?i:i+256}}On.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],On.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],On.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],On.TEXT_SHIFT2_SET_CHARS=On.C40_SHIFT2_SET_CHARS,On.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",String.fromCharCode(127)];class B1{constructor(){this.rsDecoder=new Hn(Ue.DATA_MATRIX_FIELD_256)}decode(e){const t=new Ar(e),n=t.getVersion(),i=t.readCodewords(),r=Cr.getDataBlocks(i,n);let l=0;for(let g of r)l+=g.getNumDataCodewords();const c=new Uint8Array(l),u=r.length;for(let g=0;g<u;g++){const E=r[g],b=E.getCodewords(),_=E.getNumDataCodewords();this.correctErrors(b,_);for(let T=0;T<_;T++)c[T*u+g]=b[T]}return On.decode(c)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new B}for(let i=0;i<t;i++)e[i]=n[i]}}class wt{constructor(e){this.image=e,this.rectangleDetector=new tn(this.image)}detect(){const e=this.rectangleDetector.detect();let t=this.detectSolid1(e);if(t=this.detectSolid2(t),t[3]=this.correctTopRight(t),!t[3])throw new S;t=this.shiftToModuleCenter(t);const n=t[0],i=t[1],r=t[2],l=t[3];let c=this.transitionsBetween(n,l)+1,u=this.transitionsBetween(r,l)+1;(c&1)===1&&(c+=1),(u&1)===1&&(u+=1),4*c<7*u&&4*u<7*c&&(c=u=Math.max(c,u));let g=wt.sampleGrid(this.image,n,i,r,l,c,u);return new Qn(g,[n,i,r,l])}static shiftPoint(e,t,n){let i=(t.getX()-e.getX())/(n+1),r=(t.getY()-e.getY())/(n+1);return new Ee(e.getX()+i,e.getY()+r)}static moveAway(e,t,n){let i=e.getX(),r=e.getY();return i<t?i-=1:i+=1,r<n?r-=1:r+=1,new Ee(i,r)}detectSolid1(e){let t=e[0],n=e[1],i=e[3],r=e[2],l=this.transitionsBetween(t,n),c=this.transitionsBetween(n,i),u=this.transitionsBetween(i,r),g=this.transitionsBetween(r,t),E=l,b=[r,t,n,i];return E>c&&(E=c,b[0]=t,b[1]=n,b[2]=i,b[3]=r),E>u&&(E=u,b[0]=n,b[1]=i,b[2]=r,b[3]=t),E>g&&(b[0]=i,b[1]=r,b[2]=t,b[3]=n),b}detectSolid2(e){let t=e[0],n=e[1],i=e[2],r=e[3],l=this.transitionsBetween(t,r),c=wt.shiftPoint(n,i,(l+1)*4),u=wt.shiftPoint(i,n,(l+1)*4),g=this.transitionsBetween(c,t),E=this.transitionsBetween(u,r);return g<E?(e[0]=t,e[1]=n,e[2]=i,e[3]=r):(e[0]=n,e[1]=i,e[2]=r,e[3]=t),e}correctTopRight(e){let t=e[0],n=e[1],i=e[2],r=e[3],l=this.transitionsBetween(t,r),c=this.transitionsBetween(n,r),u=wt.shiftPoint(t,n,(c+1)*4),g=wt.shiftPoint(i,n,(l+1)*4);l=this.transitionsBetween(u,r),c=this.transitionsBetween(g,r);let E=new Ee(r.getX()+(i.getX()-n.getX())/(l+1),r.getY()+(i.getY()-n.getY())/(l+1)),b=new Ee(r.getX()+(t.getX()-n.getX())/(c+1),r.getY()+(t.getY()-n.getY())/(c+1));if(!this.isValid(E))return this.isValid(b)?b:null;if(!this.isValid(b))return E;let _=this.transitionsBetween(u,E)+this.transitionsBetween(g,E),T=this.transitionsBetween(u,b)+this.transitionsBetween(g,b);return _>T?E:b}shiftToModuleCenter(e){let t=e[0],n=e[1],i=e[2],r=e[3],l=this.transitionsBetween(t,r)+1,c=this.transitionsBetween(i,r)+1,u=wt.shiftPoint(t,n,c*4),g=wt.shiftPoint(i,n,l*4);l=this.transitionsBetween(u,r)+1,c=this.transitionsBetween(g,r)+1,(l&1)===1&&(l+=1),(c&1)===1&&(c+=1);let E=(t.getX()+n.getX()+i.getX()+r.getX())/4,b=(t.getY()+n.getY()+i.getY()+r.getY())/4;t=wt.moveAway(t,E,b),n=wt.moveAway(n,E,b),i=wt.moveAway(i,E,b),r=wt.moveAway(r,E,b);let _,T;return u=wt.shiftPoint(t,n,c*4),u=wt.shiftPoint(u,r,l*4),_=wt.shiftPoint(n,t,c*4),_=wt.shiftPoint(_,i,l*4),g=wt.shiftPoint(i,r,c*4),g=wt.shiftPoint(g,n,l*4),T=wt.shiftPoint(r,i,c*4),T=wt.shiftPoint(T,t,l*4),[u,_,g,T]}isValid(e){return e.getX()>=0&&e.getX()<this.image.getWidth()&&e.getY()>0&&e.getY()<this.image.getHeight()}static sampleGrid(e,t,n,i,r,l,c){return Nn.getInstance().sampleGrid(e,l,c,.5,.5,l-.5,.5,l-.5,c-.5,.5,c-.5,t.getX(),t.getY(),r.getX(),r.getY(),i.getX(),i.getY(),n.getX(),n.getY())}transitionsBetween(e,t){let n=Math.trunc(e.getX()),i=Math.trunc(e.getY()),r=Math.trunc(t.getX()),l=Math.trunc(t.getY()),c=Math.abs(l-i)>Math.abs(r-n);if(c){let O=n;n=i,i=O,O=r,r=l,l=O}let u=Math.abs(r-n),g=Math.abs(l-i),E=-u/2,b=i<l?1:-1,_=n<r?1:-1,T=0,N=this.image.get(c?i:n,c?n:i);for(let O=n,k=i;O!==r;O+=_){let G=this.image.get(c?k:O,c?O:k);if(G!==N&&(T++,N=G),E+=g,E>0){if(k===l)break;k+=b,E-=u}}return T}}class Dn{constructor(){this.decoder=new B1}decode(e,t=null){let n,i;if(t!=null&&t.has(W.PURE_BARCODE)){const g=Dn.extractPureBits(e.getBlackMatrix());n=this.decoder.decode(g),i=Dn.NO_POINTS}else{const g=new wt(e.getBlackMatrix()).detect();n=this.decoder.decode(g.getBits()),i=g.getPoints()}const r=n.getRawBytes(),l=new ft(n.getText(),r,8*r.length,i,be.DATA_MATRIX,y.currentTimeMillis()),c=n.getByteSegments();c!=null&&l.putMetadata(mt.BYTE_SEGMENTS,c);const u=n.getECLevel();return u!=null&&l.putMetadata(mt.ERROR_CORRECTION_LEVEL,u),l}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t==null||n==null)throw new S;const i=this.moduleSize(t,e);let r=t[1];const l=n[1];let c=t[0];const g=(n[0]-c+1)/i,E=(l-r+1)/i;if(g<=0||E<=0)throw new S;const b=i/2;r+=b,c+=b;const _=new fe(g,E);for(let T=0;T<E;T++){const N=r+T*i;for(let O=0;O<g;O++)e.get(c+O*i,N)&&_.set(O,T)}return _}static moduleSize(e,t){const n=t.getWidth();let i=e[0];const r=e[1];for(;i<n&&t.get(i,r);)i++;if(i===n)throw new S;const l=i-e[0];if(l===0)throw new S;return l}}Dn.NO_POINTS=[];class P1 extends zt{constructor(e=500){super(new Dn,e)}}var ii;(function(C){C[C.L=0]="L",C[C.M=1]="M",C[C.Q=2]="Q",C[C.H=3]="H"})(ii||(ii={}));class tt{constructor(e,t,n){this.value=e,this.stringValue=t,this.bits=n,tt.FOR_BITS.set(n,this),tt.FOR_VALUE.set(e,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(e){switch(e){case"L":return tt.L;case"M":return tt.M;case"Q":return tt.Q;case"H":return tt.H;default:throw new m(e+"not available")}}toString(){return this.stringValue}equals(e){if(!(e instanceof tt))return!1;const t=e;return this.value===t.value}static forBits(e){if(e<0||e>=tt.FOR_BITS.size)throw new I;return tt.FOR_BITS.get(e)}}tt.FOR_BITS=new Map,tt.FOR_VALUE=new Map,tt.L=new tt(ii.L,"L",1),tt.M=new tt(ii.M,"M",0),tt.Q=new tt(ii.Q,"Q",3),tt.H=new tt(ii.H,"H",2);class vt{constructor(e){this.errorCorrectionLevel=tt.forBits(e>>3&3),this.dataMask=e&7}static numBitsDiffering(e,t){return L.bitCount(e^t)}static decodeFormatInformation(e,t){const n=vt.doDecodeFormatInformation(e,t);return n!==null?n:vt.doDecodeFormatInformation(e^vt.FORMAT_INFO_MASK_QR,t^vt.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(e,t){let n=Number.MAX_SAFE_INTEGER,i=0;for(const r of vt.FORMAT_INFO_DECODE_LOOKUP){const l=r[0];if(l===e||l===t)return new vt(r[1]);let c=vt.numBitsDiffering(e,l);c<n&&(i=r[1],n=c),e!==t&&(c=vt.numBitsDiffering(t,l),c<n&&(i=r[1],n=c))}return n<=3?new vt(i):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(e){if(!(e instanceof vt))return!1;const t=e;return this.errorCorrectionLevel===t.errorCorrectionLevel&&this.dataMask===t.dataMask}}vt.FORMAT_INFO_MASK_QR=21522,vt.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class v{constructor(e,...t){this.ecCodewordsPerBlock=e,this.ecBlocks=t}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let e=0;const t=this.ecBlocks;for(const n of t)e+=n.getCount();return e}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class p{constructor(e,t){this.count=e,this.dataCodewords=t}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class Ce{constructor(e,t,...n){this.versionNumber=e,this.alignmentPatternCenters=t,this.ecBlocks=n;let i=0;const r=n[0].getECCodewordsPerBlock(),l=n[0].getECBlocks();for(const c of l)i+=c.getCount()*(c.getDataCodewords()+r);this.totalCodewords=i}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(e){return this.ecBlocks[e.getValue()]}static getProvisionalVersionForDimension(e){if(e%4!==1)throw new P;try{return this.getVersionForNumber((e-17)/4)}catch{throw new P}}static getVersionForNumber(e){if(e<1||e>40)throw new I;return Ce.VERSIONS[e-1]}static decodeVersionInformation(e){let t=Number.MAX_SAFE_INTEGER,n=0;for(let i=0;i<Ce.VERSION_DECODE_INFO.length;i++){const r=Ce.VERSION_DECODE_INFO[i];if(r===e)return Ce.getVersionForNumber(i+7);const l=vt.numBitsDiffering(e,r);l<t&&(n=i+7,t=l)}return t<=3?Ce.getVersionForNumber(n):null}buildFunctionPattern(){const e=this.getDimensionForVersion(),t=new fe(e);t.setRegion(0,0,9,9),t.setRegion(e-8,0,8,9),t.setRegion(0,e-8,9,8);const n=this.alignmentPatternCenters.length;for(let i=0;i<n;i++){const r=this.alignmentPatternCenters[i]-2;for(let l=0;l<n;l++)i===0&&(l===0||l===n-1)||i===n-1&&l===0||t.setRegion(this.alignmentPatternCenters[l]-2,r,5,5)}return t.setRegion(6,9,1,e-17),t.setRegion(9,6,e-17,1),this.versionNumber>6&&(t.setRegion(e-11,0,3,6),t.setRegion(0,e-11,6,3)),t}toString(){return""+this.versionNumber}}Ce.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),Ce.VERSIONS=[new Ce(1,new Int32Array(0),new v(7,new p(1,19)),new v(10,new p(1,16)),new v(13,new p(1,13)),new v(17,new p(1,9))),new Ce(2,Int32Array.from([6,18]),new v(10,new p(1,34)),new v(16,new p(1,28)),new v(22,new p(1,22)),new v(28,new p(1,16))),new Ce(3,Int32Array.from([6,22]),new v(15,new p(1,55)),new v(26,new p(1,44)),new v(18,new p(2,17)),new v(22,new p(2,13))),new Ce(4,Int32Array.from([6,26]),new v(20,new p(1,80)),new v(18,new p(2,32)),new v(26,new p(2,24)),new v(16,new p(4,9))),new Ce(5,Int32Array.from([6,30]),new v(26,new p(1,108)),new v(24,new p(2,43)),new v(18,new p(2,15),new p(2,16)),new v(22,new p(2,11),new p(2,12))),new Ce(6,Int32Array.from([6,34]),new v(18,new p(2,68)),new v(16,new p(4,27)),new v(24,new p(4,19)),new v(28,new p(4,15))),new Ce(7,Int32Array.from([6,22,38]),new v(20,new p(2,78)),new v(18,new p(4,31)),new v(18,new p(2,14),new p(4,15)),new v(26,new p(4,13),new p(1,14))),new Ce(8,Int32Array.from([6,24,42]),new v(24,new p(2,97)),new v(22,new p(2,38),new p(2,39)),new v(22,new p(4,18),new p(2,19)),new v(26,new p(4,14),new p(2,15))),new Ce(9,Int32Array.from([6,26,46]),new v(30,new p(2,116)),new v(22,new p(3,36),new p(2,37)),new v(20,new p(4,16),new p(4,17)),new v(24,new p(4,12),new p(4,13))),new Ce(10,Int32Array.from([6,28,50]),new v(18,new p(2,68),new p(2,69)),new v(26,new p(4,43),new p(1,44)),new v(24,new p(6,19),new p(2,20)),new v(28,new p(6,15),new p(2,16))),new Ce(11,Int32Array.from([6,30,54]),new v(20,new p(4,81)),new v(30,new p(1,50),new p(4,51)),new v(28,new p(4,22),new p(4,23)),new v(24,new p(3,12),new p(8,13))),new Ce(12,Int32Array.from([6,32,58]),new v(24,new p(2,92),new p(2,93)),new v(22,new p(6,36),new p(2,37)),new v(26,new p(4,20),new p(6,21)),new v(28,new p(7,14),new p(4,15))),new Ce(13,Int32Array.from([6,34,62]),new v(26,new p(4,107)),new v(22,new p(8,37),new p(1,38)),new v(24,new p(8,20),new p(4,21)),new v(22,new p(12,11),new p(4,12))),new Ce(14,Int32Array.from([6,26,46,66]),new v(30,new p(3,115),new p(1,116)),new v(24,new p(4,40),new p(5,41)),new v(20,new p(11,16),new p(5,17)),new v(24,new p(11,12),new p(5,13))),new Ce(15,Int32Array.from([6,26,48,70]),new v(22,new p(5,87),new p(1,88)),new v(24,new p(5,41),new p(5,42)),new v(30,new p(5,24),new p(7,25)),new v(24,new p(11,12),new p(7,13))),new Ce(16,Int32Array.from([6,26,50,74]),new v(24,new p(5,98),new p(1,99)),new v(28,new p(7,45),new p(3,46)),new v(24,new p(15,19),new p(2,20)),new v(30,new p(3,15),new p(13,16))),new Ce(17,Int32Array.from([6,30,54,78]),new v(28,new p(1,107),new p(5,108)),new v(28,new p(10,46),new p(1,47)),new v(28,new p(1,22),new p(15,23)),new v(28,new p(2,14),new p(17,15))),new Ce(18,Int32Array.from([6,30,56,82]),new v(30,new p(5,120),new p(1,121)),new v(26,new p(9,43),new p(4,44)),new v(28,new p(17,22),new p(1,23)),new v(28,new p(2,14),new p(19,15))),new Ce(19,Int32Array.from([6,30,58,86]),new v(28,new p(3,113),new p(4,114)),new v(26,new p(3,44),new p(11,45)),new v(26,new p(17,21),new p(4,22)),new v(26,new p(9,13),new p(16,14))),new Ce(20,Int32Array.from([6,34,62,90]),new v(28,new p(3,107),new p(5,108)),new v(26,new p(3,41),new p(13,42)),new v(30,new p(15,24),new p(5,25)),new v(28,new p(15,15),new p(10,16))),new Ce(21,Int32Array.from([6,28,50,72,94]),new v(28,new p(4,116),new p(4,117)),new v(26,new p(17,42)),new v(28,new p(17,22),new p(6,23)),new v(30,new p(19,16),new p(6,17))),new Ce(22,Int32Array.from([6,26,50,74,98]),new v(28,new p(2,111),new p(7,112)),new v(28,new p(17,46)),new v(30,new p(7,24),new p(16,25)),new v(24,new p(34,13))),new Ce(23,Int32Array.from([6,30,54,78,102]),new v(30,new p(4,121),new p(5,122)),new v(28,new p(4,47),new p(14,48)),new v(30,new p(11,24),new p(14,25)),new v(30,new p(16,15),new p(14,16))),new Ce(24,Int32Array.from([6,28,54,80,106]),new v(30,new p(6,117),new p(4,118)),new v(28,new p(6,45),new p(14,46)),new v(30,new p(11,24),new p(16,25)),new v(30,new p(30,16),new p(2,17))),new Ce(25,Int32Array.from([6,32,58,84,110]),new v(26,new p(8,106),new p(4,107)),new v(28,new p(8,47),new p(13,48)),new v(30,new p(7,24),new p(22,25)),new v(30,new p(22,15),new p(13,16))),new Ce(26,Int32Array.from([6,30,58,86,114]),new v(28,new p(10,114),new p(2,115)),new v(28,new p(19,46),new p(4,47)),new v(28,new p(28,22),new p(6,23)),new v(30,new p(33,16),new p(4,17))),new Ce(27,Int32Array.from([6,34,62,90,118]),new v(30,new p(8,122),new p(4,123)),new v(28,new p(22,45),new p(3,46)),new v(30,new p(8,23),new p(26,24)),new v(30,new p(12,15),new p(28,16))),new Ce(28,Int32Array.from([6,26,50,74,98,122]),new v(30,new p(3,117),new p(10,118)),new v(28,new p(3,45),new p(23,46)),new v(30,new p(4,24),new p(31,25)),new v(30,new p(11,15),new p(31,16))),new Ce(29,Int32Array.from([6,30,54,78,102,126]),new v(30,new p(7,116),new p(7,117)),new v(28,new p(21,45),new p(7,46)),new v(30,new p(1,23),new p(37,24)),new v(30,new p(19,15),new p(26,16))),new Ce(30,Int32Array.from([6,26,52,78,104,130]),new v(30,new p(5,115),new p(10,116)),new v(28,new p(19,47),new p(10,48)),new v(30,new p(15,24),new p(25,25)),new v(30,new p(23,15),new p(25,16))),new Ce(31,Int32Array.from([6,30,56,82,108,134]),new v(30,new p(13,115),new p(3,116)),new v(28,new p(2,46),new p(29,47)),new v(30,new p(42,24),new p(1,25)),new v(30,new p(23,15),new p(28,16))),new Ce(32,Int32Array.from([6,34,60,86,112,138]),new v(30,new p(17,115)),new v(28,new p(10,46),new p(23,47)),new v(30,new p(10,24),new p(35,25)),new v(30,new p(19,15),new p(35,16))),new Ce(33,Int32Array.from([6,30,58,86,114,142]),new v(30,new p(17,115),new p(1,116)),new v(28,new p(14,46),new p(21,47)),new v(30,new p(29,24),new p(19,25)),new v(30,new p(11,15),new p(46,16))),new Ce(34,Int32Array.from([6,34,62,90,118,146]),new v(30,new p(13,115),new p(6,116)),new v(28,new p(14,46),new p(23,47)),new v(30,new p(44,24),new p(7,25)),new v(30,new p(59,16),new p(1,17))),new Ce(35,Int32Array.from([6,30,54,78,102,126,150]),new v(30,new p(12,121),new p(7,122)),new v(28,new p(12,47),new p(26,48)),new v(30,new p(39,24),new p(14,25)),new v(30,new p(22,15),new p(41,16))),new Ce(36,Int32Array.from([6,24,50,76,102,128,154]),new v(30,new p(6,121),new p(14,122)),new v(28,new p(6,47),new p(34,48)),new v(30,new p(46,24),new p(10,25)),new v(30,new p(2,15),new p(64,16))),new Ce(37,Int32Array.from([6,28,54,80,106,132,158]),new v(30,new p(17,122),new p(4,123)),new v(28,new p(29,46),new p(14,47)),new v(30,new p(49,24),new p(10,25)),new v(30,new p(24,15),new p(46,16))),new Ce(38,Int32Array.from([6,32,58,84,110,136,162]),new v(30,new p(4,122),new p(18,123)),new v(28,new p(13,46),new p(32,47)),new v(30,new p(48,24),new p(14,25)),new v(30,new p(42,15),new p(32,16))),new Ce(39,Int32Array.from([6,26,54,82,110,138,166]),new v(30,new p(20,117),new p(4,118)),new v(28,new p(40,47),new p(7,48)),new v(30,new p(43,24),new p(22,25)),new v(30,new p(10,15),new p(67,16))),new Ce(40,Int32Array.from([6,30,58,86,114,142,170]),new v(30,new p(19,118),new p(6,119)),new v(28,new p(18,47),new p(31,48)),new v(30,new p(34,24),new p(34,25)),new v(30,new p(20,15),new p(61,16)))];var Tt;(function(C){C[C.DATA_MASK_000=0]="DATA_MASK_000",C[C.DATA_MASK_001=1]="DATA_MASK_001",C[C.DATA_MASK_010=2]="DATA_MASK_010",C[C.DATA_MASK_011=3]="DATA_MASK_011",C[C.DATA_MASK_100=4]="DATA_MASK_100",C[C.DATA_MASK_101=5]="DATA_MASK_101",C[C.DATA_MASK_110=6]="DATA_MASK_110",C[C.DATA_MASK_111=7]="DATA_MASK_111"})(Tt||(Tt={}));class rn{constructor(e,t){this.value=e,this.isMasked=t}unmaskBitMatrix(e,t){for(let n=0;n<t;n++)for(let i=0;i<t;i++)this.isMasked(n,i)&&e.flip(i,n)}}rn.values=new Map([[Tt.DATA_MASK_000,new rn(Tt.DATA_MASK_000,(C,e)=>(C+e&1)===0)],[Tt.DATA_MASK_001,new rn(Tt.DATA_MASK_001,(C,e)=>(C&1)===0)],[Tt.DATA_MASK_010,new rn(Tt.DATA_MASK_010,(C,e)=>e%3===0)],[Tt.DATA_MASK_011,new rn(Tt.DATA_MASK_011,(C,e)=>(C+e)%3===0)],[Tt.DATA_MASK_100,new rn(Tt.DATA_MASK_100,(C,e)=>(Math.floor(C/2)+Math.floor(e/3)&1)===0)],[Tt.DATA_MASK_101,new rn(Tt.DATA_MASK_101,(C,e)=>C*e%6===0)],[Tt.DATA_MASK_110,new rn(Tt.DATA_MASK_110,(C,e)=>C*e%6<3)],[Tt.DATA_MASK_111,new rn(Tt.DATA_MASK_111,(C,e)=>(C+e+C*e%3&1)===0)]]);class L1{constructor(e){const t=e.getHeight();if(t<21||(t&3)!==1)throw new P;this.bitMatrix=e}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let e=0;for(let r=0;r<6;r++)e=this.copyBit(r,8,e);e=this.copyBit(7,8,e),e=this.copyBit(8,8,e),e=this.copyBit(8,7,e);for(let r=5;r>=0;r--)e=this.copyBit(8,r,e);const t=this.bitMatrix.getHeight();let n=0;const i=t-7;for(let r=t-1;r>=i;r--)n=this.copyBit(8,r,n);for(let r=t-8;r<t;r++)n=this.copyBit(r,8,n);if(this.parsedFormatInfo=vt.decodeFormatInformation(e,n),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new P}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const e=this.bitMatrix.getHeight(),t=Math.floor((e-17)/4);if(t<=6)return Ce.getVersionForNumber(t);let n=0;const i=e-11;for(let l=5;l>=0;l--)for(let c=e-9;c>=i;c--)n=this.copyBit(c,l,n);let r=Ce.decodeVersionInformation(n);if(r!==null&&r.getDimensionForVersion()===e)return this.parsedVersion=r,r;n=0;for(let l=5;l>=0;l--)for(let c=e-9;c>=i;c--)n=this.copyBit(l,c,n);if(r=Ce.decodeVersionInformation(n),r!==null&&r.getDimensionForVersion()===e)return this.parsedVersion=r,r;throw new P}copyBit(e,t,n){return(this.isMirror?this.bitMatrix.get(t,e):this.bitMatrix.get(e,t))?n<<1|1:n<<1}readCodewords(){const e=this.readFormatInformation(),t=this.readVersion(),n=rn.values.get(e.getDataMask()),i=this.bitMatrix.getHeight();n.unmaskBitMatrix(this.bitMatrix,i);const r=t.buildFunctionPattern();let l=!0;const c=new Uint8Array(t.getTotalCodewords());let u=0,g=0,E=0;for(let b=i-1;b>0;b-=2){b===6&&b--;for(let _=0;_<i;_++){const T=l?i-1-_:_;for(let N=0;N<2;N++)r.get(b-N,T)||(E++,g<<=1,this.bitMatrix.get(b-N,T)&&(g|=1),E===8&&(c[u++]=g,E=0,g=0))}l=!l}if(u!==t.getTotalCodewords())throw new P;return c}remask(){if(this.parsedFormatInfo===null)return;const e=rn.values[this.parsedFormatInfo.getDataMask()],t=this.bitMatrix.getHeight();e.unmaskBitMatrix(this.bitMatrix,t)}setMirror(e){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=e}mirror(){const e=this.bitMatrix;for(let t=0,n=e.getWidth();t<n;t++)for(let i=t+1,r=e.getHeight();i<r;i++)e.get(t,i)!==e.get(i,t)&&(e.flip(i,t),e.flip(t,i))}}class _r{constructor(e,t){this.numDataCodewords=e,this.codewords=t}static getDataBlocks(e,t,n){if(e.length!==t.getTotalCodewords())throw new I;const i=t.getECBlocksForLevel(n);let r=0;const l=i.getECBlocks();for(const N of l)r+=N.getCount();const c=new Array(r);let u=0;for(const N of l)for(let O=0;O<N.getCount();O++){const k=N.getDataCodewords(),G=i.getECCodewordsPerBlock()+k;c[u++]=new _r(k,new Uint8Array(G))}const g=c[0].codewords.length;let E=c.length-1;for(;E>=0&&c[E].codewords.length!==g;)E--;E++;const b=g-i.getECCodewordsPerBlock();let _=0;for(let N=0;N<b;N++)for(let O=0;O<u;O++)c[O].codewords[N]=e[_++];for(let N=E;N<u;N++)c[N].codewords[b]=e[_++];const T=c[0].codewords.length;for(let N=b;N<T;N++)for(let O=0;O<u;O++){const k=O<E?N:N+1;c[O].codewords[k]=e[_++]}return c}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var sn;(function(C){C[C.TERMINATOR=0]="TERMINATOR",C[C.NUMERIC=1]="NUMERIC",C[C.ALPHANUMERIC=2]="ALPHANUMERIC",C[C.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",C[C.BYTE=4]="BYTE",C[C.ECI=5]="ECI",C[C.KANJI=6]="KANJI",C[C.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",C[C.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",C[C.HANZI=9]="HANZI"})(sn||(sn={}));class pe{constructor(e,t,n,i){this.value=e,this.stringValue=t,this.characterCountBitsForVersions=n,this.bits=i,pe.FOR_BITS.set(i,this),pe.FOR_VALUE.set(e,this)}static forBits(e){const t=pe.FOR_BITS.get(e);if(t===void 0)throw new I;return t}getCharacterCountBits(e){const t=e.getVersionNumber();let n;return t<=9?n=0:t<=26?n=1:n=2,this.characterCountBitsForVersions[n]}getValue(){return this.value}getBits(){return this.bits}equals(e){if(!(e instanceof pe))return!1;const t=e;return this.value===t.value}toString(){return this.stringValue}}pe.FOR_BITS=new Map,pe.FOR_VALUE=new Map,pe.TERMINATOR=new pe(sn.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),pe.NUMERIC=new pe(sn.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),pe.ALPHANUMERIC=new pe(sn.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),pe.STRUCTURED_APPEND=new pe(sn.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),pe.BYTE=new pe(sn.BYTE,"BYTE",Int32Array.from([8,16,16]),4),pe.ECI=new pe(sn.ECI,"ECI",Int32Array.from([0,0,0]),7),pe.KANJI=new pe(sn.KANJI,"KANJI",Int32Array.from([8,10,12]),8),pe.FNC1_FIRST_POSITION=new pe(sn.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),pe.FNC1_SECOND_POSITION=new pe(sn.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),pe.HANZI=new pe(sn.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class lt{static decode(e,t,n,i){const r=new br(e);let l=new Q;const c=new Array;let u=-1,g=-1;try{let E=null,b=!1,_;do{if(r.available()<4)_=pe.TERMINATOR;else{const T=r.readBits(4);_=pe.forBits(T)}switch(_){case pe.TERMINATOR:break;case pe.FNC1_FIRST_POSITION:case pe.FNC1_SECOND_POSITION:b=!0;break;case pe.STRUCTURED_APPEND:if(r.available()<16)throw new P;u=r.readBits(8),g=r.readBits(8);break;case pe.ECI:const T=lt.parseECIValue(r);if(E=U.getCharacterSetECIByValue(T),E===null)throw new P;break;case pe.HANZI:const N=r.readBits(4),O=r.readBits(_.getCharacterCountBits(t));N===lt.GB2312_SUBSET&&lt.decodeHanziSegment(r,l,O);break;default:const k=r.readBits(_.getCharacterCountBits(t));switch(_){case pe.NUMERIC:lt.decodeNumericSegment(r,l,k);break;case pe.ALPHANUMERIC:lt.decodeAlphanumericSegment(r,l,k,b);break;case pe.BYTE:lt.decodeByteSegment(r,l,k,E,c,i);break;case pe.KANJI:lt.decodeKanjiSegment(r,l,k);break;default:throw new P}break}}while(_!==pe.TERMINATOR)}catch{throw new P}return new Un(e,l.toString(),c.length===0?null:c,n===null?null:n.toString(),u,g)}static decodeHanziSegment(e,t,n){if(n*13>e.available())throw new P;const i=new Uint8Array(2*n);let r=0;for(;n>0;){const l=e.readBits(13);let c=l/96<<8&4294967295|l%96;c<959?c+=41377:c+=42657,i[r]=c>>8&255,i[r+1]=c&255,r+=2,n--}try{t.append(he.decode(i,ie.GB2312))}catch(l){throw new P(l)}}static decodeKanjiSegment(e,t,n){if(n*13>e.available())throw new P;const i=new Uint8Array(2*n);let r=0;for(;n>0;){const l=e.readBits(13);let c=l/192<<8&4294967295|l%192;c<7936?c+=33088:c+=49472,i[r]=c>>8,i[r+1]=c,r+=2,n--}try{t.append(he.decode(i,ie.SHIFT_JIS))}catch(l){throw new P(l)}}static decodeByteSegment(e,t,n,i,r,l){if(8*n>e.available())throw new P;const c=new Uint8Array(n);for(let g=0;g<n;g++)c[g]=e.readBits(8);let u;i===null?u=ie.guessEncoding(c,l):u=i.getName();try{t.append(he.decode(c,u))}catch(g){throw new P(g)}r.push(c)}static toAlphaNumericChar(e){if(e>=lt.ALPHANUMERIC_CHARS.length)throw new P;return lt.ALPHANUMERIC_CHARS[e]}static decodeAlphanumericSegment(e,t,n,i){const r=t.length();for(;n>1;){if(e.available()<11)throw new P;const l=e.readBits(11);t.append(lt.toAlphaNumericChar(Math.floor(l/45))),t.append(lt.toAlphaNumericChar(l%45)),n-=2}if(n===1){if(e.available()<6)throw new P;t.append(lt.toAlphaNumericChar(e.readBits(6)))}if(i)for(let l=r;l<t.length();l++)t.charAt(l)==="%"&&(l<t.length()-1&&t.charAt(l+1)==="%"?t.deleteCharAt(l+1):t.setCharAt(l,String.fromCharCode(29)))}static decodeNumericSegment(e,t,n){for(;n>=3;){if(e.available()<10)throw new P;const i=e.readBits(10);if(i>=1e3)throw new P;t.append(lt.toAlphaNumericChar(Math.floor(i/100))),t.append(lt.toAlphaNumericChar(Math.floor(i/10)%10)),t.append(lt.toAlphaNumericChar(i%10)),n-=3}if(n===2){if(e.available()<7)throw new P;const i=e.readBits(7);if(i>=100)throw new P;t.append(lt.toAlphaNumericChar(Math.floor(i/10))),t.append(lt.toAlphaNumericChar(i%10))}else if(n===1){if(e.available()<4)throw new P;const i=e.readBits(4);if(i>=10)throw new P;t.append(lt.toAlphaNumericChar(i))}}static parseECIValue(e){const t=e.readBits(8);if((t&128)===0)return t&127;if((t&192)===128){const n=e.readBits(8);return(t&63)<<8&4294967295|n}if((t&224)===192){const n=e.readBits(16);return(t&31)<<16&4294967295|n}throw new P}}lt.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",lt.GB2312_SUBSET=1;class Es{constructor(e){this.mirrored=e}isMirrored(){return this.mirrored}applyMirroredCorrection(e){if(!this.mirrored||e===null||e.length<3)return;const t=e[0];e[0]=e[2],e[2]=t}}class k1{constructor(){this.rsDecoder=new Hn(Ue.QR_CODE_FIELD_256)}decodeBooleanArray(e,t){return this.decodeBitMatrix(fe.parseFromBooleanArray(e),t)}decodeBitMatrix(e,t){const n=new L1(e);let i=null;try{return this.decodeBitMatrixParser(n,t)}catch(r){i=r}try{n.remask(),n.setMirror(!0),n.readVersion(),n.readFormatInformation(),n.mirror();const r=this.decodeBitMatrixParser(n,t);return r.setOther(new Es(!0)),r}catch(r){throw i!==null?i:r}}decodeBitMatrixParser(e,t){const n=e.readVersion(),i=e.readFormatInformation().getErrorCorrectionLevel(),r=e.readCodewords(),l=_r.getDataBlocks(r,n,i);let c=0;for(const E of l)c+=E.getNumDataCodewords();const u=new Uint8Array(c);let g=0;for(const E of l){const b=E.getCodewords(),_=E.getNumDataCodewords();this.correctErrors(b,_);for(let T=0;T<_;T++)u[g++]=b[T]}return lt.decode(u,n,i,t)}correctErrors(e,t){const n=new Int32Array(e);try{this.rsDecoder.decode(n,e.length-t)}catch{throw new B}for(let i=0;i<t;i++)e[i]=n[i]}}class Ir extends Ee{constructor(e,t,n){super(e,t),this.estimatedModuleSize=n}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const i=(this.getX()+t)/2,r=(this.getY()+e)/2,l=(this.estimatedModuleSize+n)/2;return new Ir(i,r,l)}}class Gi{constructor(e,t,n,i,r,l,c){this.image=e,this.startX=t,this.startY=n,this.width=i,this.height=r,this.moduleSize=l,this.resultPointCallback=c,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const e=this.startX,t=this.height,n=this.width,i=e+n,r=this.startY+t/2,l=new Int32Array(3),c=this.image;for(let u=0;u<t;u++){const g=r+((u&1)===0?Math.floor((u+1)/2):-Math.floor((u+1)/2));l[0]=0,l[1]=0,l[2]=0;let E=e;for(;E<i&&!c.get(E,g);)E++;let b=0;for(;E<i;){if(c.get(E,g))if(b===1)l[1]++;else if(b===2){if(this.foundPatternCross(l)){const _=this.handlePossibleCenter(l,g,E);if(_!==null)return _}l[0]=l[2],l[1]=1,l[2]=0,b=1}else l[++b]++;else b===1&&b++,l[b]++;E++}if(this.foundPatternCross(l)){const _=this.handlePossibleCenter(l,g,i);if(_!==null)return _}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new S}static centerFromEnd(e,t){return t-e[2]-e[1]/2}foundPatternCross(e){const t=this.moduleSize,n=t/2;for(let i=0;i<3;i++)if(Math.abs(t-e[i])>=n)return!1;return!0}crossCheckVertical(e,t,n,i){const r=this.image,l=r.getHeight(),c=this.crossCheckStateCount;c[0]=0,c[1]=0,c[2]=0;let u=e;for(;u>=0&&r.get(t,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&!r.get(t,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<l&&r.get(t,u)&&c[1]<=n;)c[1]++,u++;if(u===l||c[1]>n)return NaN;for(;u<l&&!r.get(t,u)&&c[2]<=n;)c[2]++,u++;if(c[2]>n)return NaN;const g=c[0]+c[1]+c[2];return 5*Math.abs(g-i)>=2*i?NaN:this.foundPatternCross(c)?Gi.centerFromEnd(c,u):NaN}handlePossibleCenter(e,t,n){const i=e[0]+e[1]+e[2],r=Gi.centerFromEnd(e,n),l=this.crossCheckVertical(t,r,2*e[1],i);if(!isNaN(l)){const c=(e[0]+e[1]+e[2])/3;for(const g of this.possibleCenters)if(g.aboutEquals(c,l,r))return g.combineEstimate(l,r,c);const u=new Ir(r,l,c);this.possibleCenters.push(u),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(u)}return null}}class pr extends Ee{constructor(e,t,n,i){super(e,t),this.estimatedModuleSize=n,this.count=i,i===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(e,t,n){if(Math.abs(t-this.getY())<=e&&Math.abs(n-this.getX())<=e){const i=Math.abs(e-this.estimatedModuleSize);return i<=1||i<=this.estimatedModuleSize}return!1}combineEstimate(e,t,n){const i=this.count+1,r=(this.count*this.getX()+t)/i,l=(this.count*this.getY()+e)/i,c=(this.count*this.estimatedModuleSize+n)/i;return new pr(r,l,c,i)}}class v1{constructor(e){this.bottomLeft=e[0],this.topLeft=e[1],this.topRight=e[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class yt{constructor(e,t){this.image=e,this.resultPointCallback=t,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=t}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(e){const t=e!=null&&e.get(W.TRY_HARDER)!==void 0,n=e!=null&&e.get(W.PURE_BARCODE)!==void 0,i=this.image,r=i.getHeight(),l=i.getWidth();let c=Math.floor(3*r/(4*yt.MAX_MODULES));(c<yt.MIN_SKIP||t)&&(c=yt.MIN_SKIP);let u=!1;const g=new Int32Array(5);for(let b=c-1;b<r&&!u;b+=c){g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0;let _=0;for(let T=0;T<l;T++)if(i.get(T,b))(_&1)===1&&_++,g[_]++;else if((_&1)===0)if(_===4)if(yt.foundPatternCross(g)){if(this.handlePossibleCenter(g,b,T,n)===!0)if(c=2,this.hasSkipped===!0)u=this.haveMultiplyConfirmedCenters();else{const O=this.findRowSkip();O>g[2]&&(b+=O-g[2]-c,T=l-1)}else{g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,_=3;continue}_=0,g[0]=0,g[1]=0,g[2]=0,g[3]=0,g[4]=0}else g[0]=g[2],g[1]=g[3],g[2]=g[4],g[3]=1,g[4]=0,_=3;else g[++_]++;else g[_]++;yt.foundPatternCross(g)&&this.handlePossibleCenter(g,b,l,n)===!0&&(c=g[0],this.hasSkipped&&(u=this.haveMultiplyConfirmedCenters()))}const E=this.selectBestPatterns();return Ee.orderBestPatterns(E),new v1(E)}static centerFromEnd(e,t){return t-e[4]-e[3]-e[2]/2}static foundPatternCross(e){let t=0;for(let r=0;r<5;r++){const l=e[r];if(l===0)return!1;t+=l}if(t<7)return!1;const n=t/7,i=n/2;return Math.abs(n-e[0])<i&&Math.abs(n-e[1])<i&&Math.abs(3*n-e[2])<3*i&&Math.abs(n-e[3])<i&&Math.abs(n-e[4])<i}getCrossCheckStateCount(){const e=this.crossCheckStateCount;return e[0]=0,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e}crossCheckDiagonal(e,t,n,i){const r=this.getCrossCheckStateCount();let l=0;const c=this.image;for(;e>=l&&t>=l&&c.get(t-l,e-l);)r[2]++,l++;if(e<l||t<l)return!1;for(;e>=l&&t>=l&&!c.get(t-l,e-l)&&r[1]<=n;)r[1]++,l++;if(e<l||t<l||r[1]>n)return!1;for(;e>=l&&t>=l&&c.get(t-l,e-l)&&r[0]<=n;)r[0]++,l++;if(r[0]>n)return!1;const u=c.getHeight(),g=c.getWidth();for(l=1;e+l<u&&t+l<g&&c.get(t+l,e+l);)r[2]++,l++;if(e+l>=u||t+l>=g)return!1;for(;e+l<u&&t+l<g&&!c.get(t+l,e+l)&&r[3]<n;)r[3]++,l++;if(e+l>=u||t+l>=g||r[3]>=n)return!1;for(;e+l<u&&t+l<g&&c.get(t+l,e+l)&&r[4]<n;)r[4]++,l++;if(r[4]>=n)return!1;const E=r[0]+r[1]+r[2]+r[3]+r[4];return Math.abs(E-i)<2*i&&yt.foundPatternCross(r)}crossCheckVertical(e,t,n,i){const r=this.image,l=r.getHeight(),c=this.getCrossCheckStateCount();let u=e;for(;u>=0&&r.get(t,u);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!r.get(t,u)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&r.get(t,u)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<l&&r.get(t,u);)c[2]++,u++;if(u===l)return NaN;for(;u<l&&!r.get(t,u)&&c[3]<n;)c[3]++,u++;if(u===l||c[3]>=n)return NaN;for(;u<l&&r.get(t,u)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-i)>=2*i?NaN:yt.foundPatternCross(c)?yt.centerFromEnd(c,u):NaN}crossCheckHorizontal(e,t,n,i){const r=this.image,l=r.getWidth(),c=this.getCrossCheckStateCount();let u=e;for(;u>=0&&r.get(u,t);)c[2]++,u--;if(u<0)return NaN;for(;u>=0&&!r.get(u,t)&&c[1]<=n;)c[1]++,u--;if(u<0||c[1]>n)return NaN;for(;u>=0&&r.get(u,t)&&c[0]<=n;)c[0]++,u--;if(c[0]>n)return NaN;for(u=e+1;u<l&&r.get(u,t);)c[2]++,u++;if(u===l)return NaN;for(;u<l&&!r.get(u,t)&&c[3]<n;)c[3]++,u++;if(u===l||c[3]>=n)return NaN;for(;u<l&&r.get(u,t)&&c[4]<n;)c[4]++,u++;if(c[4]>=n)return NaN;const g=c[0]+c[1]+c[2]+c[3]+c[4];return 5*Math.abs(g-i)>=i?NaN:yt.foundPatternCross(c)?yt.centerFromEnd(c,u):NaN}handlePossibleCenter(e,t,n,i){const r=e[0]+e[1]+e[2]+e[3]+e[4];let l=yt.centerFromEnd(e,n),c=this.crossCheckVertical(t,Math.floor(l),e[2],r);if(!isNaN(c)&&(l=this.crossCheckHorizontal(Math.floor(l),Math.floor(c),e[2],r),!isNaN(l)&&(!i||this.crossCheckDiagonal(Math.floor(c),Math.floor(l),e[2],r)))){const u=r/7;let g=!1;const E=this.possibleCenters;for(let b=0,_=E.length;b<_;b++){const T=E[b];if(T.aboutEquals(u,c,l)){E[b]=T.combineEstimate(c,l,u),g=!0;break}}if(!g){const b=new pr(l,c,u);E.push(b),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(b)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let t=null;for(const n of this.possibleCenters)if(n.getCount()>=yt.CENTER_QUORUM)if(t==null)t=n;else return this.hasSkipped=!0,Math.floor((Math.abs(t.getX()-n.getX())-Math.abs(t.getY()-n.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let e=0,t=0;const n=this.possibleCenters.length;for(const l of this.possibleCenters)l.getCount()>=yt.CENTER_QUORUM&&(e++,t+=l.getEstimatedModuleSize());if(e<3)return!1;const i=t/n;let r=0;for(const l of this.possibleCenters)r+=Math.abs(l.getEstimatedModuleSize()-i);return r<=.05*t}selectBestPatterns(){const e=this.possibleCenters.length;if(e<3)throw new S;const t=this.possibleCenters;let n;if(e>3){let i=0,r=0;for(const u of this.possibleCenters){const g=u.getEstimatedModuleSize();i+=g,r+=g*g}n=i/e;let l=Math.sqrt(r/e-n*n);t.sort((u,g)=>{const E=Math.abs(g.getEstimatedModuleSize()-n),b=Math.abs(u.getEstimatedModuleSize()-n);return E<b?-1:E>b?1:0});const c=Math.max(.2*n,l);for(let u=0;u<t.length&&t.length>3;u++){const g=t[u];Math.abs(g.getEstimatedModuleSize()-n)>c&&(t.splice(u,1),u--)}}if(t.length>3){let i=0;for(const r of t)i+=r.getEstimatedModuleSize();n=i/t.length,t.sort((r,l)=>{if(l.getCount()===r.getCount()){const c=Math.abs(l.getEstimatedModuleSize()-n),u=Math.abs(r.getEstimatedModuleSize()-n);return c<u?1:c>u?-1:0}else return l.getCount()-r.getCount()}),t.splice(3)}return[t[0],t[1],t[2]]}}yt.CENTER_QUORUM=2,yt.MIN_SKIP=3,yt.MAX_MODULES=57;class mi{constructor(e){this.image=e}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(e){this.resultPointCallback=e==null?null:e.get(W.NEED_RESULT_POINT_CALLBACK);const n=new yt(this.image,this.resultPointCallback).find(e);return this.processFinderPatternInfo(n)}processFinderPatternInfo(e){const t=e.getTopLeft(),n=e.getTopRight(),i=e.getBottomLeft(),r=this.calculateModuleSize(t,n,i);if(r<1)throw new S("No pattern found in proccess finder.");const l=mi.computeDimension(t,n,i,r),c=Ce.getProvisionalVersionForDimension(l),u=c.getDimensionForVersion()-7;let g=null;if(c.getAlignmentPatternCenters().length>0){const T=n.getX()-t.getX()+i.getX(),N=n.getY()-t.getY()+i.getY(),O=1-3/u,k=Math.floor(t.getX()+O*(T-t.getX())),G=Math.floor(t.getY()+O*(N-t.getY()));for(let $=4;$<=16;$<<=1)try{g=this.findAlignmentInRegion(r,k,G,$);break}catch(ne){if(!(ne instanceof S))throw ne}}const E=mi.createTransform(t,n,i,g,l),b=mi.sampleGrid(this.image,E,l);let _;return g===null?_=[i,t,n]:_=[i,t,n,g],new Qn(b,_)}static createTransform(e,t,n,i,r){const l=r-3.5;let c,u,g,E;return i!==null?(c=i.getX(),u=i.getY(),g=l-3,E=g):(c=t.getX()-e.getX()+n.getX(),u=t.getY()-e.getY()+n.getY(),g=l,E=l),Rt.quadrilateralToQuadrilateral(3.5,3.5,l,3.5,g,E,3.5,l,e.getX(),e.getY(),t.getX(),t.getY(),c,u,n.getX(),n.getY())}static sampleGrid(e,t,n){return Nn.getInstance().sampleGridWithTransform(e,n,n,t)}static computeDimension(e,t,n,i){const r=ve.round(Ee.distance(e,t)/i),l=ve.round(Ee.distance(e,n)/i);let c=Math.floor((r+l)/2)+7;switch(c&3){case 0:c++;break;case 2:c--;break;case 3:throw new S("Dimensions could be not found.")}return c}calculateModuleSize(e,t,n){return(this.calculateModuleSizeOneWay(e,t)+this.calculateModuleSizeOneWay(e,n))/2}calculateModuleSizeOneWay(e,t){const n=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(e.getX()),Math.floor(e.getY()),Math.floor(t.getX()),Math.floor(t.getY())),i=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(t.getX()),Math.floor(t.getY()),Math.floor(e.getX()),Math.floor(e.getY()));return isNaN(n)?i/7:isNaN(i)?n/7:(n+i)/14}sizeOfBlackWhiteBlackRunBothWays(e,t,n,i){let r=this.sizeOfBlackWhiteBlackRun(e,t,n,i),l=1,c=e-(n-e);c<0?(l=e/(e-c),c=0):c>=this.image.getWidth()&&(l=(this.image.getWidth()-1-e)/(c-e),c=this.image.getWidth()-1);let u=Math.floor(t-(i-t)*l);return l=1,u<0?(l=t/(t-u),u=0):u>=this.image.getHeight()&&(l=(this.image.getHeight()-1-t)/(u-t),u=this.image.getHeight()-1),c=Math.floor(e+(c-e)*l),r+=this.sizeOfBlackWhiteBlackRun(e,t,c,u),r-1}sizeOfBlackWhiteBlackRun(e,t,n,i){const r=Math.abs(i-t)>Math.abs(n-e);if(r){let T=e;e=t,t=T,T=n,n=i,i=T}const l=Math.abs(n-e),c=Math.abs(i-t);let u=-l/2;const g=e<n?1:-1,E=t<i?1:-1;let b=0;const _=n+g;for(let T=e,N=t;T!==_;T+=g){const O=r?N:T,k=r?T:N;if(b===1===this.image.get(O,k)){if(b===2)return ve.distance(T,N,e,t);b++}if(u+=c,u>0){if(N===i)break;N+=E,u-=l}}return b===2?ve.distance(n+g,i,e,t):NaN}findAlignmentInRegion(e,t,n,i){const r=Math.floor(i*e),l=Math.max(0,t-r),c=Math.min(this.image.getWidth()-1,t+r);if(c-l<e*3)throw new S("Alignment top exceeds estimated module size.");const u=Math.max(0,n-r),g=Math.min(this.image.getHeight()-1,n+r);if(g-u<e*3)throw new S("Alignment bottom exceeds estimated module size.");return new Gi(this.image,l,u,c-l,g-u,e,this.resultPointCallback).find()}}class Mn{constructor(){this.decoder=new k1}getDecoder(){return this.decoder}decode(e,t){let n,i;if(t!=null&&t.get(W.PURE_BARCODE)!==void 0){const u=Mn.extractPureBits(e.getBlackMatrix());n=this.decoder.decodeBitMatrix(u,t),i=Mn.NO_POINTS}else{const u=new mi(e.getBlackMatrix()).detect(t);n=this.decoder.decodeBitMatrix(u.getBits(),t),i=u.getPoints()}n.getOther()instanceof Es&&n.getOther().applyMirroredCorrection(i);const r=new ft(n.getText(),n.getRawBytes(),void 0,i,be.QR_CODE,void 0),l=n.getByteSegments();l!==null&&r.putMetadata(mt.BYTE_SEGMENTS,l);const c=n.getECLevel();return c!==null&&r.putMetadata(mt.ERROR_CORRECTION_LEVEL,c),n.hasStructuredAppend()&&(r.putMetadata(mt.STRUCTURED_APPEND_SEQUENCE,n.getStructuredAppendSequenceNumber()),r.putMetadata(mt.STRUCTURED_APPEND_PARITY,n.getStructuredAppendParity())),r}reset(){}static extractPureBits(e){const t=e.getTopLeftOnBit(),n=e.getBottomRightOnBit();if(t===null||n===null)throw new S;const i=this.moduleSize(t,e);let r=t[1],l=n[1],c=t[0],u=n[0];if(c>=u||r>=l)throw new S;if(l-r!==u-c&&(u=c+(l-r),u>=e.getWidth()))throw new S;const g=Math.round((u-c+1)/i),E=Math.round((l-r+1)/i);if(g<=0||E<=0)throw new S;if(E!==g)throw new S;const b=Math.floor(i/2);r+=b,c+=b;const _=c+Math.floor((g-1)*i)-u;if(_>0){if(_>b)throw new S;c-=_}const T=r+Math.floor((E-1)*i)-l;if(T>0){if(T>b)throw new S;r-=T}const N=new fe(g,E);for(let O=0;O<E;O++){const k=r+Math.floor(O*i);for(let G=0;G<g;G++)e.get(c+Math.floor(G*i),k)&&N.set(G,O)}return N}static moduleSize(e,t){const n=t.getHeight(),i=t.getWidth();let r=e[0],l=e[1],c=!0,u=0;for(;r<i&&l<n;){if(c!==t.get(r,l)){if(++u===5)break;c=!c}r++,l++}if(r===i||l===n)throw new S;return(r-e[0])/7}}Mn.NO_POINTS=new Array;class ye{PDF417Common(){}static getBitCountSum(e){return ve.sum(e)}static toIntArray(e){if(e==null||!e.length)return ye.EMPTY_INT_ARRAY;const t=new Int32Array(e.length);let n=0;for(const i of e)t[n++]=i;return t}static getCodeword(e){const t=V.binarySearch(ye.SYMBOL_TABLE,e&262143);return t<0?-1:(ye.CODEWORD_TABLE[t]-1)%ye.NUMBER_OF_CODEWORDS}}ye.NUMBER_OF_CODEWORDS=929,ye.MAX_CODEWORDS_IN_BARCODE=ye.NUMBER_OF_CODEWORDS-1,ye.MIN_ROWS_IN_BARCODE=3,ye.MAX_ROWS_IN_BARCODE=90,ye.MODULES_IN_CODEWORD=17,ye.MODULES_IN_STOP_PATTERN=18,ye.BARS_IN_MODULE=8,ye.EMPTY_INT_ARRAY=new Int32Array([]),ye.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),ye.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class F1{constructor(e,t){this.bits=e,this.points=t}getBits(){return this.bits}getPoints(){return this.points}}class Me{static detectMultiple(e,t,n){let i=e.getBlackMatrix(),r=Me.detect(n,i);return r.length||(i=i.clone(),i.rotate180(),r=Me.detect(n,i)),new F1(i,r)}static detect(e,t){const n=new Array;let i=0,r=0,l=!1;for(;i<t.getHeight();){const c=Me.findVertices(t,i,r);if(c[0]==null&&c[3]==null){if(!l)break;l=!1,r=0;for(const u of n)u[1]!=null&&(i=Math.trunc(Math.max(i,u[1].getY()))),u[3]!=null&&(i=Math.max(i,Math.trunc(u[3].getY())));i+=Me.ROW_STEP;continue}if(l=!0,n.push(c),!e)break;c[2]!=null?(r=Math.trunc(c[2].getX()),i=Math.trunc(c[2].getY())):(r=Math.trunc(c[4].getX()),i=Math.trunc(c[4].getY()))}return n}static findVertices(e,t,n){const i=e.getHeight(),r=e.getWidth(),l=new Array(8);return Me.copyToResult(l,Me.findRowsWithPattern(e,i,r,t,n,Me.START_PATTERN),Me.INDEXES_START_PATTERN),l[4]!=null&&(n=Math.trunc(l[4].getX()),t=Math.trunc(l[4].getY())),Me.copyToResult(l,Me.findRowsWithPattern(e,i,r,t,n,Me.STOP_PATTERN),Me.INDEXES_STOP_PATTERN),l}static copyToResult(e,t,n){for(let i=0;i<n.length;i++)e[n[i]]=t[i]}static findRowsWithPattern(e,t,n,i,r,l){const c=new Array(4);let u=!1;const g=new Int32Array(l.length);for(;i<t;i+=Me.ROW_STEP){let b=Me.findGuardPattern(e,r,i,n,!1,l,g);if(b!=null){for(;i>0;){const _=Me.findGuardPattern(e,r,--i,n,!1,l,g);if(_!=null)b=_;else{i++;break}}c[0]=new Ee(b[0],i),c[1]=new Ee(b[1],i),u=!0;break}}let E=i+1;if(u){let b=0,_=Int32Array.from([Math.trunc(c[0].getX()),Math.trunc(c[1].getX())]);for(;E<t;E++){const T=Me.findGuardPattern(e,_[0],E,n,!1,l,g);if(T!=null&&Math.abs(_[0]-T[0])<Me.MAX_PATTERN_DRIFT&&Math.abs(_[1]-T[1])<Me.MAX_PATTERN_DRIFT)_=T,b=0;else{if(b>Me.SKIPPED_ROW_COUNT_MAX)break;b++}}E-=b+1,c[2]=new Ee(_[0],E),c[3]=new Ee(_[1],E)}return E-i<Me.BARCODE_MIN_HEIGHT&&V.fill(c,null),c}static findGuardPattern(e,t,n,i,r,l,c){V.fillWithin(c,0,c.length,0);let u=t,g=0;for(;e.get(u,n)&&u>0&&g++<Me.MAX_PIXEL_DRIFT;)u--;let E=u,b=0,_=l.length;for(let T=r;E<i;E++)if(e.get(E,n)!==T)c[b]++;else{if(b===_-1){if(Me.patternMatchVariance(c,l,Me.MAX_INDIVIDUAL_VARIANCE)<Me.MAX_AVG_VARIANCE)return new Int32Array([u,E]);u+=c[0]+c[1],y.arraycopy(c,2,c,0,b-1),c[b-1]=0,c[b]=0,b--}else b++;c[b]=1,T=!T}return b===_-1&&Me.patternMatchVariance(c,l,Me.MAX_INDIVIDUAL_VARIANCE)<Me.MAX_AVG_VARIANCE?new Int32Array([u,E-1]):null}static patternMatchVariance(e,t,n){let i=e.length,r=0,l=0;for(let g=0;g<i;g++)r+=e[g],l+=t[g];if(r<l)return 1/0;let c=r/l;n*=c;let u=0;for(let g=0;g<i;g++){let E=e[g],b=t[g]*c,_=E>b?E-b:b-E;if(_>n)return 1/0;u+=_}return u/r}}Me.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Me.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Me.MAX_AVG_VARIANCE=.42,Me.MAX_INDIVIDUAL_VARIANCE=.8,Me.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Me.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Me.MAX_PIXEL_DRIFT=3,Me.MAX_PATTERN_DRIFT=5,Me.SKIPPED_ROW_COUNT_MAX=25,Me.ROW_STEP=5,Me.BARCODE_MIN_HEIGHT=10;class Ot{constructor(e,t){if(t.length===0)throw new I;this.field=e;let n=t.length;if(n>1&&t[0]===0){let i=1;for(;i<n&&t[i]===0;)i++;i===n?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(n-i),y.arraycopy(t,i,this.coefficients,0,this.coefficients.length))}else this.coefficients=t}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(e){return this.coefficients[this.coefficients.length-1-e]}evaluateAt(e){if(e===0)return this.getCoefficient(0);if(e===1){let i=0;for(let r of this.coefficients)i=this.field.add(i,r);return i}let t=this.coefficients[0],n=this.coefficients.length;for(let i=1;i<n;i++)t=this.field.add(this.field.multiply(e,t),this.coefficients[i]);return t}add(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero())return e;if(e.isZero())return this;let t=this.coefficients,n=e.coefficients;if(t.length>n.length){let l=t;t=n,n=l}let i=new Int32Array(n.length),r=n.length-t.length;y.arraycopy(n,0,i,0,r);for(let l=r;l<n.length;l++)i[l]=this.field.add(t[l-r],n[l]);return new Ot(this.field,i)}subtract(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");return e.isZero()?this:this.add(e.negative())}multiply(e){return e instanceof Ot?this.multiplyOther(e):this.multiplyScalar(e)}multiplyOther(e){if(!this.field.equals(e.field))throw new I("ModulusPolys do not have same ModulusGF field");if(this.isZero()||e.isZero())return new Ot(this.field,new Int32Array([0]));let t=this.coefficients,n=t.length,i=e.coefficients,r=i.length,l=new Int32Array(n+r-1);for(let c=0;c<n;c++){let u=t[c];for(let g=0;g<r;g++)l[c+g]=this.field.add(l[c+g],this.field.multiply(u,i[g]))}return new Ot(this.field,l)}negative(){let e=this.coefficients.length,t=new Int32Array(e);for(let n=0;n<e;n++)t[n]=this.field.subtract(0,this.coefficients[n]);return new Ot(this.field,t)}multiplyScalar(e){if(e===0)return new Ot(this.field,new Int32Array([0]));if(e===1)return this;let t=this.coefficients.length,n=new Int32Array(t);for(let i=0;i<t;i++)n[i]=this.field.multiply(this.coefficients[i],e);return new Ot(this.field,n)}multiplyByMonomial(e,t){if(e<0)throw new I;if(t===0)return new Ot(this.field,new Int32Array([0]));let n=this.coefficients.length,i=new Int32Array(n+e);for(let r=0;r<n;r++)i[r]=this.field.multiply(this.coefficients[r],t);return new Ot(this.field,i)}toString(){let e=new Q;for(let t=this.getDegree();t>=0;t--){let n=this.getCoefficient(t);n!==0&&(n<0?(e.append(" - "),n=-n):e.length()>0&&e.append(" + "),(t===0||n!==1)&&e.append(n),t!==0&&(t===1?e.append("x"):(e.append("x^"),e.append(t))))}return e.toString()}}class U1{add(e,t){return(e+t)%this.modulus}subtract(e,t){return(this.modulus+e-t)%this.modulus}exp(e){return this.expTable[e]}log(e){if(e===0)throw new I;return this.logTable[e]}inverse(e){if(e===0)throw new qn;return this.expTable[this.modulus-this.logTable[e]-1]}multiply(e,t){return e===0||t===0?0:this.expTable[(this.logTable[e]+this.logTable[t])%(this.modulus-1)]}getSize(){return this.modulus}equals(e){return e===this}}class Tr extends U1{constructor(e,t){super(),this.modulus=e,this.expTable=new Int32Array(e),this.logTable=new Int32Array(e);let n=1;for(let i=0;i<e;i++)this.expTable[i]=n,n=n*t%e;for(let i=0;i<e-1;i++)this.logTable[this.expTable[i]]=i;this.zero=new Ot(this,new Int32Array([0])),this.one=new Ot(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(e,t){if(e<0)throw new I;if(t===0)return this.zero;let n=new Int32Array(e+1);return n[0]=t,new Ot(this,n)}}Tr.PDF417_GF=new Tr(ye.NUMBER_OF_CODEWORDS,3);class As{constructor(){this.field=Tr.PDF417_GF}decode(e,t,n){let i=new Ot(this.field,e),r=new Int32Array(t),l=!1;for(let N=t;N>0;N--){let O=i.evaluateAt(this.field.exp(N));r[t-N]=O,O!==0&&(l=!0)}if(!l)return 0;let c=this.field.getOne();if(n!=null)for(const N of n){let O=this.field.exp(e.length-1-N),k=new Ot(this.field,new Int32Array([this.field.subtract(0,O),1]));c=c.multiply(k)}let u=new Ot(this.field,r),g=this.runEuclideanAlgorithm(this.field.buildMonomial(t,1),u,t),E=g[0],b=g[1],_=this.findErrorLocations(E),T=this.findErrorMagnitudes(b,E,_);for(let N=0;N<_.length;N++){let O=e.length-1-this.field.log(_[N]);if(O<0)throw B.getChecksumInstance();e[O]=this.field.subtract(e[O],T[N])}return _.length}runEuclideanAlgorithm(e,t,n){if(e.getDegree()<t.getDegree()){let _=e;e=t,t=_}let i=e,r=t,l=this.field.getZero(),c=this.field.getOne();for(;r.getDegree()>=Math.round(n/2);){let _=i,T=l;if(i=r,l=c,i.isZero())throw B.getChecksumInstance();r=_;let N=this.field.getZero(),O=i.getCoefficient(i.getDegree()),k=this.field.inverse(O);for(;r.getDegree()>=i.getDegree()&&!r.isZero();){let G=r.getDegree()-i.getDegree(),$=this.field.multiply(r.getCoefficient(r.getDegree()),k);N=N.add(this.field.buildMonomial(G,$)),r=r.subtract(i.multiplyByMonomial(G,$))}c=N.multiply(l).subtract(T).negative()}let u=c.getCoefficient(0);if(u===0)throw B.getChecksumInstance();let g=this.field.inverse(u),E=c.multiply(g),b=r.multiply(g);return[E,b]}findErrorLocations(e){let t=e.getDegree(),n=new Int32Array(t),i=0;for(let r=1;r<this.field.getSize()&&i<t;r++)e.evaluateAt(r)===0&&(n[i]=this.field.inverse(r),i++);if(i!==t)throw B.getChecksumInstance();return n}findErrorMagnitudes(e,t,n){let i=t.getDegree(),r=new Int32Array(i);for(let g=1;g<=i;g++)r[i-g]=this.field.multiply(g,t.getCoefficient(g));let l=new Ot(this.field,r),c=n.length,u=new Int32Array(c);for(let g=0;g<c;g++){let E=this.field.inverse(n[g]),b=this.field.subtract(0,e.evaluateAt(E)),_=this.field.inverse(l.evaluateAt(E));u[g]=this.field.multiply(b,_)}return u}}class Xn{constructor(e,t,n,i,r){e instanceof Xn?this.constructor_2(e):this.constructor_1(e,t,n,i,r)}constructor_1(e,t,n,i,r){const l=t==null||n==null,c=i==null||r==null;if(l&&c)throw new S;l?(t=new Ee(0,i.getY()),n=new Ee(0,r.getY())):c&&(i=new Ee(e.getWidth()-1,t.getY()),r=new Ee(e.getWidth()-1,n.getY())),this.image=e,this.topLeft=t,this.bottomLeft=n,this.topRight=i,this.bottomRight=r,this.minX=Math.trunc(Math.min(t.getX(),n.getX())),this.maxX=Math.trunc(Math.max(i.getX(),r.getX())),this.minY=Math.trunc(Math.min(t.getY(),i.getY())),this.maxY=Math.trunc(Math.max(n.getY(),r.getY()))}constructor_2(e){this.image=e.image,this.topLeft=e.getTopLeft(),this.bottomLeft=e.getBottomLeft(),this.topRight=e.getTopRight(),this.bottomRight=e.getBottomRight(),this.minX=e.getMinX(),this.maxX=e.getMaxX(),this.minY=e.getMinY(),this.maxY=e.getMaxY()}static merge(e,t){return e==null?t:t==null?e:new Xn(e.image,e.topLeft,e.bottomLeft,t.topRight,t.bottomRight)}addMissingRows(e,t,n){let i=this.topLeft,r=this.bottomLeft,l=this.topRight,c=this.bottomRight;if(e>0){let u=n?this.topLeft:this.topRight,g=Math.trunc(u.getY()-e);g<0&&(g=0);let E=new Ee(u.getX(),g);n?i=E:l=E}if(t>0){let u=n?this.bottomLeft:this.bottomRight,g=Math.trunc(u.getY()+t);g>=this.image.getHeight()&&(g=this.image.getHeight()-1);let E=new Ee(u.getX(),g);n?r=E:c=E}return new Xn(this.image,i,r,l,c)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class V1{constructor(e,t,n,i){this.columnCount=e,this.errorCorrectionLevel=i,this.rowCountUpperPart=t,this.rowCountLowerPart=n,this.rowCount=t+n}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Ei{constructor(){this.buffer=""}static form(e,t){let n=-1;function i(l,c,u,g,E,b){if(l==="%%")return"%";if(t[++n]===void 0)return;l=g?parseInt(g.substr(1)):void 0;let _=E?parseInt(E.substr(1)):void 0,T;switch(b){case"s":T=t[n];break;case"c":T=t[n][0];break;case"f":T=parseFloat(t[n]).toFixed(l);break;case"p":T=parseFloat(t[n]).toPrecision(l);break;case"e":T=parseFloat(t[n]).toExponential(l);break;case"x":T=parseInt(t[n]).toString(_||16);break;case"d":T=parseFloat(parseInt(t[n],_||10).toPrecision(l)).toFixed(0);break}T=typeof T=="object"?JSON.stringify(T):(+T).toString(_);let N=parseInt(u),O=u&&u[0]+""=="0"?"0":" ";for(;T.length<N;)T=c!==void 0?T+O:O+T;return T}let r=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return e.replace(r,i)}format(e,...t){this.buffer+=Ei.form(e,t)}toString(){return this.buffer}}class Ai{constructor(e){this.boundingBox=new Xn(e),this.codewords=new Array(e.getMaxY()-e.getMinY()+1)}getCodewordNearby(e){let t=this.getCodeword(e);if(t!=null)return t;for(let n=1;n<Ai.MAX_NEARBY_DISTANCE;n++){let i=this.imageRowToCodewordIndex(e)-n;if(i>=0&&(t=this.codewords[i],t!=null)||(i=this.imageRowToCodewordIndex(e)+n,i<this.codewords.length&&(t=this.codewords[i],t!=null)))return t}return null}imageRowToCodewordIndex(e){return e-this.boundingBox.getMinY()}setCodeword(e,t){this.codewords[this.imageRowToCodewordIndex(e)]=t}getCodeword(e){return this.codewords[this.imageRowToCodewordIndex(e)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const e=new Ei;let t=0;for(const n of this.codewords){if(n==null){e.format("%3d:    |   %n",t++);continue}e.format("%3d: %3d|%3d%n",t++,n.getRowNumber(),n.getValue())}return e.toString()}}Ai.MAX_NEARBY_DISTANCE=5;class Ci{constructor(){this.values=new Map}setValue(e){e=Math.trunc(e);let t=this.values.get(e);t==null&&(t=0),t++,this.values.set(e,t)}getValue(){let e=-1,t=new Array;for(const[n,i]of this.values.entries()){const r={getKey:()=>n,getValue:()=>i};r.getValue()>e?(e=r.getValue(),t=[],t.push(r.getKey())):r.getValue()===e&&t.push(r.getKey())}return ye.toIntArray(t)}getConfidence(e){return this.values.get(e)}}class Cs extends Ai{constructor(e,t){super(e),this._isLeft=t}setRowNumbers(){for(let e of this.getCodewords())e!=null&&e.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(e){let t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,e);let n=this.getBoundingBox(),i=this._isLeft?n.getTopLeft():n.getTopRight(),r=this._isLeft?n.getBottomLeft():n.getBottomRight(),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.imageRowToCodewordIndex(Math.trunc(r.getY())),u=-1,g=1,E=0;for(let b=l;b<c;b++){if(t[b]==null)continue;let _=t[b],T=_.getRowNumber()-u;if(T===0)E++;else if(T===1)g=Math.max(g,E),E=1,u=_.getRowNumber();else if(T<0||_.getRowNumber()>=e.getRowCount()||T>b)t[b]=null;else{let N;g>2?N=(g-2)*T:N=T;let O=N>=b;for(let k=1;k<=N&&!O;k++)O=t[b-k]!=null;O?t[b]=null:(u=_.getRowNumber(),E=1)}}}getRowHeights(){let e=this.getBarcodeMetadata();if(e==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(e);let t=new Int32Array(e.getRowCount());for(let n of this.getCodewords())if(n!=null){let i=n.getRowNumber();if(i>=t.length)continue;t[i]++}return t}adjustIncompleteIndicatorColumnRowNumbers(e){let t=this.getBoundingBox(),n=this._isLeft?t.getTopLeft():t.getTopRight(),i=this._isLeft?t.getBottomLeft():t.getBottomRight(),r=this.imageRowToCodewordIndex(Math.trunc(n.getY())),l=this.imageRowToCodewordIndex(Math.trunc(i.getY())),c=this.getCodewords(),u=-1;for(let g=r;g<l;g++){if(c[g]==null)continue;let E=c[g];E.setRowNumberAsRowIndicatorColumn();let b=E.getRowNumber()-u;b===0||(b===1?u=E.getRowNumber():E.getRowNumber()>=e.getRowCount()?c[g]=null:u=E.getRowNumber())}}getBarcodeMetadata(){let e=this.getCodewords(),t=new Ci,n=new Ci,i=new Ci,r=new Ci;for(let c of e){if(c==null)continue;c.setRowNumberAsRowIndicatorColumn();let u=c.getValue()%30,g=c.getRowNumber();switch(this._isLeft||(g+=2),g%3){case 0:n.setValue(u*3+1);break;case 1:r.setValue(u/3),i.setValue(u%3);break;case 2:t.setValue(u+1);break}}if(t.getValue().length===0||n.getValue().length===0||i.getValue().length===0||r.getValue().length===0||t.getValue()[0]<1||n.getValue()[0]+i.getValue()[0]<ye.MIN_ROWS_IN_BARCODE||n.getValue()[0]+i.getValue()[0]>ye.MAX_ROWS_IN_BARCODE)return null;let l=new V1(t.getValue()[0],n.getValue()[0],i.getValue()[0],r.getValue()[0]);return this.removeIncorrectCodewords(e,l),l}removeIncorrectCodewords(e,t){for(let n=0;n<e.length;n++){let i=e[n];if(e[n]==null)continue;let r=i.getValue()%30,l=i.getRowNumber();if(l>t.getRowCount()){e[n]=null;continue}switch(this._isLeft||(l+=2),l%3){case 0:r*3+1!==t.getRowCountUpperPart()&&(e[n]=null);break;case 1:(Math.trunc(r/3)!==t.getErrorCorrectionLevel()||r%3!==t.getRowCountLowerPart())&&(e[n]=null);break;case 2:r+1!==t.getColumnCount()&&(e[n]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class bi{constructor(e,t){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=e,this.barcodeColumnCount=e.getColumnCount(),this.boundingBox=t,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let e=ye.MAX_CODEWORDS_IN_BARCODE,t;do t=e,e=this.adjustRowNumbersAndGetCount();while(e>0&&e<t);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(e){e!=null&&e.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let e=this.adjustRowNumbersByRow();if(e===0)return 0;for(let t=1;t<this.barcodeColumnCount+1;t++){let n=this.detectionResultColumns[t].getCodewords();for(let i=0;i<n.length;i++)n[i]!=null&&(n[i].hasValidRowNumber()||this.adjustRowNumbers(t,i,n))}return e}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let e=this.detectionResultColumns[0].getCodewords(),t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<e.length;n++)if(e[n]!=null&&t[n]!=null&&e[n].getRowNumber()===t[n].getRowNumber())for(let i=1;i<=this.barcodeColumnCount;i++){let r=this.detectionResultColumns[i].getCodewords()[n];r!=null&&(r.setRowNumber(e[n].getRowNumber()),r.hasValidRowNumber()||(this.detectionResultColumns[i].getCodewords()[n]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let e=0,t=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let i=t[n].getRowNumber(),r=0;for(let l=this.barcodeColumnCount+1;l>0&&r<this.ADJUST_ROW_NUMBER_SKIP;l--){let c=this.detectionResultColumns[l].getCodewords()[n];c!=null&&(r=bi.adjustRowNumberIfValid(i,r,c),c.hasValidRowNumber()||e++)}}return e}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let e=0,t=this.detectionResultColumns[0].getCodewords();for(let n=0;n<t.length;n++){if(t[n]==null)continue;let i=t[n].getRowNumber(),r=0;for(let l=1;l<this.barcodeColumnCount+1&&r<this.ADJUST_ROW_NUMBER_SKIP;l++){let c=this.detectionResultColumns[l].getCodewords()[n];c!=null&&(r=bi.adjustRowNumberIfValid(i,r,c),c.hasValidRowNumber()||e++)}}return e}static adjustRowNumberIfValid(e,t,n){return n==null||n.hasValidRowNumber()||(n.isValidRowNumber(e)?(n.setRowNumber(e),t=0):++t),t}adjustRowNumbers(e,t,n){let i=n[t],r=this.detectionResultColumns[e-1].getCodewords(),l=r;this.detectionResultColumns[e+1]!=null&&(l=this.detectionResultColumns[e+1].getCodewords());let c=new Array(14);c[2]=r[t],c[3]=l[t],t>0&&(c[0]=n[t-1],c[4]=r[t-1],c[5]=l[t-1]),t>1&&(c[8]=n[t-2],c[10]=r[t-2],c[11]=l[t-2]),t<n.length-1&&(c[1]=n[t+1],c[6]=r[t+1],c[7]=l[t+1]),t<n.length-2&&(c[9]=n[t+2],c[12]=r[t+2],c[13]=l[t+2]);for(let u of c)if(bi.adjustRowNumber(i,u))return}static adjustRowNumber(e,t){return t==null?!1:t.hasValidRowNumber()&&t.getBucket()===e.getBucket()?(e.setRowNumber(t.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(e){this.boundingBox=e}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(e,t){this.detectionResultColumns[e]=t}getDetectionResultColumn(e){return this.detectionResultColumns[e]}toString(){let e=this.detectionResultColumns[0];e==null&&(e=this.detectionResultColumns[this.barcodeColumnCount+1]);let t=new Ei;for(let n=0;n<e.getCodewords().length;n++){t.format("CW %3d:",n);for(let i=0;i<this.barcodeColumnCount+2;i++){if(this.detectionResultColumns[i]==null){t.format("    |   ");continue}let r=this.detectionResultColumns[i].getCodewords()[n];if(r==null){t.format("    |   ");continue}t.format(" %3d|%3d",r.getRowNumber(),r.getValue())}t.format("%n")}return t.toString()}}class _i{constructor(e,t,n,i){this.rowNumber=_i.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(e),this.endX=Math.trunc(t),this.bucket=Math.trunc(n),this.value=Math.trunc(i)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(e){return e!==_i.BARCODE_ROW_UNKNOWN&&this.bucket===e%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(e){this.rowNumber=e}toString(){return this.rowNumber+"|"+this.value}}_i.BARCODE_ROW_UNKNOWN=-1;class Yt{static initialize(){for(let e=0;e<ye.SYMBOL_TABLE.length;e++){let t=ye.SYMBOL_TABLE[e],n=t&1;for(let i=0;i<ye.BARS_IN_MODULE;i++){let r=0;for(;(t&1)===n;)r+=1,t>>=1;n=t&1,Yt.RATIOS_TABLE[e]||(Yt.RATIOS_TABLE[e]=new Array(ye.BARS_IN_MODULE)),Yt.RATIOS_TABLE[e][ye.BARS_IN_MODULE-i-1]=Math.fround(r/ye.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(e){let t=Yt.getDecodedCodewordValue(Yt.sampleBitCounts(e));return t!==-1?t:Yt.getClosestDecodedValue(e)}static sampleBitCounts(e){let t=ve.sum(e),n=new Int32Array(ye.BARS_IN_MODULE),i=0,r=0;for(let l=0;l<ye.MODULES_IN_CODEWORD;l++){let c=t/(2*ye.MODULES_IN_CODEWORD)+l*t/ye.MODULES_IN_CODEWORD;r+e[i]<=c&&(r+=e[i],i++),n[i]++}return n}static getDecodedCodewordValue(e){let t=Yt.getBitValue(e);return ye.getCodeword(t)===-1?-1:t}static getBitValue(e){let t=0;for(let n=0;n<e.length;n++)for(let i=0;i<e[n];i++)t=t<<1|(n%2===0?1:0);return Math.trunc(t)}static getClosestDecodedValue(e){let t=ve.sum(e),n=new Array(ye.BARS_IN_MODULE);if(t>1)for(let l=0;l<n.length;l++)n[l]=Math.fround(e[l]/t);let i=Jn.MAX_VALUE,r=-1;this.bSymbolTableReady||Yt.initialize();for(let l=0;l<Yt.RATIOS_TABLE.length;l++){let c=0,u=Yt.RATIOS_TABLE[l];for(let g=0;g<ye.BARS_IN_MODULE;g++){let E=Math.fround(u[g]-n[g]);if(c+=Math.fround(E*E),c>=i)break}c<i&&(i=c,r=ye.SYMBOL_TABLE[l])}return r}}Yt.bSymbolTableReady=!1,Yt.RATIOS_TABLE=new Array(ye.SYMBOL_TABLE.length).map(C=>new Array(ye.BARS_IN_MODULE));class bs{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(e){this.segmentIndex=e}getFileId(){return this.fileId}setFileId(e){this.fileId=e}getOptionalData(){return this.optionalData}setOptionalData(e){this.optionalData=e}isLastSegment(){return this.lastSegment}setLastSegment(e){this.lastSegment=e}getSegmentCount(){return this.segmentCount}setSegmentCount(e){this.segmentCount=e}getSender(){return this.sender||null}setSender(e){this.sender=e}getAddressee(){return this.addressee||null}setAddressee(e){this.addressee=e}getFileName(){return this.fileName}setFileName(e){this.fileName=e}getFileSize(){return this.fileSize}setFileSize(e){this.fileSize=e}getChecksum(){return this.checksum}setChecksum(e){this.checksum=e}getTimestamp(){return this.timestamp}setTimestamp(e){this.timestamp=e}}class _s{static parseLong(e,t=void 0){return parseInt(e,t)}}class Is extends A{}Is.kind="NullPointerException";class H1{writeBytes(e){this.writeBytesOffset(e,0,e.length)}writeBytesOffset(e,t,n){if(e==null)throw new Is;if(t<0||t>e.length||n<0||t+n>e.length||t+n<0)throw new D;if(n===0)return;for(let i=0;i<n;i++)this.write(e[t+i])}flush(){}close(){}}class G1 extends A{}class z1 extends H1{constructor(e=32){if(super(),this.count=0,e<0)throw new I("Negative initial size: "+e);this.buf=new Uint8Array(e)}ensureCapacity(e){e-this.buf.length>0&&this.grow(e)}grow(e){let n=this.buf.length<<1;if(n-e<0&&(n=e),n<0){if(e<0)throw new G1;n=L.MAX_VALUE}this.buf=V.copyOfUint8Array(this.buf,n)}write(e){this.ensureCapacity(this.count+1),this.buf[this.count]=e,this.count+=1}writeBytesOffset(e,t,n){if(t<0||t>e.length||n<0||t+n-e.length>0)throw new D;this.ensureCapacity(this.count+n),y.arraycopy(e,t,this.buf,this.count,n),this.count+=n}writeTo(e){e.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return V.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(e){return e?typeof e=="string"?this.toString_string(e):this.toString_number(e):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(e){return new String(this.buf).toString()}toString_number(e){return new String(this.buf).toString()}close(){}}var qe;(function(C){C[C.ALPHA=0]="ALPHA",C[C.LOWER=1]="LOWER",C[C.MIXED=2]="MIXED",C[C.PUNCT=3]="PUNCT",C[C.ALPHA_SHIFT=4]="ALPHA_SHIFT",C[C.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(qe||(qe={}));function ps(){if(typeof window<"u")return window.BigInt||null;if(typeof Ti<"u")return Ti.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let zi;function Bn(C){if(typeof zi>"u"&&(zi=ps()),zi===null)throw new Error("BigInt is not supported!");return zi(C)}function W1(){let C=[];C[0]=Bn(1);let e=Bn(900);C[1]=e;for(let t=2;t<16;t++)C[t]=C[t-1]*e;return C}class H{static decode(e,t){let n=new Q(""),i=U.ISO8859_1;n.enableDecoding(i);let r=1,l=e[r++],c=new bs;for(;r<e[0];){switch(l){case H.TEXT_COMPACTION_MODE_LATCH:r=H.textCompaction(e,r,n);break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:r=H.byteCompaction(l,e,i,r,n);break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:n.append(e[r++]);break;case H.NUMERIC_COMPACTION_MODE_LATCH:r=H.numericCompaction(e,r,n);break;case H.ECI_CHARSET:U.getCharacterSetECIByValue(e[r++]);break;case H.ECI_GENERAL_PURPOSE:r+=2;break;case H.ECI_USER_DEFINED:r++;break;case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:r=H.decodeMacroBlock(e,r,c);break;case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:throw new P;default:r--,r=H.textCompaction(e,r,n);break}if(r<e.length)l=e[r++];else throw P.getFormatInstance()}if(n.length()===0)throw P.getFormatInstance();let u=new Un(null,n.toString(),null,t);return u.setOther(c),u}static decodeMacroBlock(e,t,n){if(t+H.NUMBER_OF_SEQUENCE_CODEWORDS>e[0])throw P.getFormatInstance();let i=new Int32Array(H.NUMBER_OF_SEQUENCE_CODEWORDS);for(let c=0;c<H.NUMBER_OF_SEQUENCE_CODEWORDS;c++,t++)i[c]=e[t];n.setSegmentIndex(L.parseInt(H.decodeBase900toBase10(i,H.NUMBER_OF_SEQUENCE_CODEWORDS)));let r=new Q;t=H.textCompaction(e,t,r),n.setFileId(r.toString());let l=-1;for(e[t]===H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(l=t+1);t<e[0];)switch(e[t]){case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(t++,e[t]){case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let c=new Q;t=H.textCompaction(e,t+1,c),n.setFileName(c.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let u=new Q;t=H.textCompaction(e,t+1,u),n.setSender(u.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let g=new Q;t=H.textCompaction(e,t+1,g),n.setAddressee(g.toString());break;case H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let E=new Q;t=H.numericCompaction(e,t+1,E),n.setSegmentCount(L.parseInt(E.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let b=new Q;t=H.numericCompaction(e,t+1,b),n.setTimestamp(_s.parseLong(b.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let _=new Q;t=H.numericCompaction(e,t+1,_),n.setChecksum(L.parseInt(_.toString()));break;case H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let T=new Q;t=H.numericCompaction(e,t+1,T),n.setFileSize(_s.parseLong(T.toString()));break;default:throw P.getFormatInstance()}break;case H.MACRO_PDF417_TERMINATOR:t++,n.setLastSegment(!0);break;default:throw P.getFormatInstance()}if(l!==-1){let c=t-l;n.isLastSegment()&&c--,n.setOptionalData(V.copyOfRange(e,l,l+c))}return t}static textCompaction(e,t,n){let i=new Int32Array((e[0]-t)*2),r=new Int32Array((e[0]-t)*2),l=0,c=!1;for(;t<e[0]&&!c;){let u=e[t++];if(u<H.TEXT_COMPACTION_MODE_LATCH)i[l]=u/30,i[l+1]=u%30,l+=2;else switch(u){case H.TEXT_COMPACTION_MODE_LATCH:i[l++]=H.TEXT_COMPACTION_MODE_LATCH;break;case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:t--,c=!0;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i[l]=H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,u=e[t++],r[l]=u,l++;break}}return H.decodeTextCompaction(i,r,l,n),t}static decodeTextCompaction(e,t,n,i){let r=qe.ALPHA,l=qe.ALPHA,c=0;for(;c<n;){let u=e[c],g="";switch(r){case qe.ALPHA:if(u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case H.LL:r=qe.LOWER;break;case H.ML:r=qe.MIXED;break;case H.PS:l=r,r=qe.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case H.TEXT_COMPACTION_MODE_LATCH:r=qe.ALPHA;break}break;case qe.LOWER:if(u<26)g=String.fromCharCode(97+u);else switch(u){case 26:g=" ";break;case H.AS:l=r,r=qe.ALPHA_SHIFT;break;case H.ML:r=qe.MIXED;break;case H.PS:l=r,r=qe.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case H.TEXT_COMPACTION_MODE_LATCH:r=qe.ALPHA;break}break;case qe.MIXED:if(u<H.PL)g=H.MIXED_CHARS[u];else switch(u){case H.PL:r=qe.PUNCT;break;case 26:g=" ";break;case H.LL:r=qe.LOWER;break;case H.AL:r=qe.ALPHA;break;case H.PS:l=r,r=qe.PUNCT_SHIFT;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case H.TEXT_COMPACTION_MODE_LATCH:r=qe.ALPHA;break}break;case qe.PUNCT:if(u<H.PAL)g=H.PUNCT_CHARS[u];else switch(u){case H.PAL:r=qe.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case H.TEXT_COMPACTION_MODE_LATCH:r=qe.ALPHA;break}break;case qe.ALPHA_SHIFT:if(r=l,u<26)g=String.fromCharCode(65+u);else switch(u){case 26:g=" ";break;case H.TEXT_COMPACTION_MODE_LATCH:r=qe.ALPHA;break}break;case qe.PUNCT_SHIFT:if(r=l,u<H.PAL)g=H.PUNCT_CHARS[u];else switch(u){case H.PAL:r=qe.ALPHA;break;case H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:i.append(t[c]);break;case H.TEXT_COMPACTION_MODE_LATCH:r=qe.ALPHA;break}break}g!==""&&i.append(g),c++}}static byteCompaction(e,t,n,i,r){let l=new z1,c=0,u=0,g=!1;switch(e){case H.BYTE_COMPACTION_MODE_LATCH:let E=new Int32Array(6),b=t[i++];for(;i<t[0]&&!g;)switch(E[c++]=b,u=900*u+b,b=t[i++],b){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:i--,g=!0;break;default:if(c%5===0&&c>0){for(let _=0;_<6;++_)l.write(Number(Bn(u)>>Bn(8*(5-_))));u=0,c=0}break}i===t[0]&&b<H.TEXT_COMPACTION_MODE_LATCH&&(E[c++]=b);for(let _=0;_<c;_++)l.write(E[_]);break;case H.BYTE_COMPACTION_MODE_LATCH_6:for(;i<t[0]&&!g;){let _=t[i++];if(_<H.TEXT_COMPACTION_MODE_LATCH)c++,u=900*u+_;else switch(_){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.NUMERIC_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:i--,g=!0;break}if(c%5===0&&c>0){for(let T=0;T<6;++T)l.write(Number(Bn(u)>>Bn(8*(5-T))));u=0,c=0}}break}return r.append(he.decode(l.toByteArray(),n)),i}static numericCompaction(e,t,n){let i=0,r=!1,l=new Int32Array(H.MAX_NUMERIC_CODEWORDS);for(;t<e[0]&&!r;){let c=e[t++];if(t===e[0]&&(r=!0),c<H.TEXT_COMPACTION_MODE_LATCH)l[i]=c,i++;else switch(c){case H.TEXT_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH:case H.BYTE_COMPACTION_MODE_LATCH_6:case H.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case H.MACRO_PDF417_TERMINATOR:t--,r=!0;break}(i%H.MAX_NUMERIC_CODEWORDS===0||c===H.NUMERIC_COMPACTION_MODE_LATCH||r)&&i>0&&(n.append(H.decodeBase900toBase10(l,i)),i=0)}return t}static decodeBase900toBase10(e,t){let n=Bn(0);for(let r=0;r<t;r++)n+=H.EXP900[t-r-1]*Bn(e[r]);let i=n.toString();if(i.charAt(0)!=="1")throw new P;return i.substring(1)}}H.TEXT_COMPACTION_MODE_LATCH=900,H.BYTE_COMPACTION_MODE_LATCH=901,H.NUMERIC_COMPACTION_MODE_LATCH=902,H.BYTE_COMPACTION_MODE_LATCH_6=924,H.ECI_USER_DEFINED=925,H.ECI_GENERAL_PURPOSE=926,H.ECI_CHARSET=927,H.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,H.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,H.MACRO_PDF417_TERMINATOR=922,H.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,H.MAX_NUMERIC_CODEWORDS=15,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,H.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,H.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,H.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,H.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,H.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,H.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,H.PL=25,H.LL=27,H.AS=27,H.ML=28,H.AL=28,H.PS=29,H.PAL=29,H.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,H.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",H.EXP900=ps()?W1():[],H.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Pe{constructor(){}static decode(e,t,n,i,r,l,c){let u=new Xn(e,t,n,i,r),g=null,E=null,b;for(let N=!0;;N=!1){if(t!=null&&(g=Pe.getRowIndicatorColumn(e,u,t,!0,l,c)),i!=null&&(E=Pe.getRowIndicatorColumn(e,u,i,!1,l,c)),b=Pe.merge(g,E),b==null)throw S.getNotFoundInstance();let O=b.getBoundingBox();if(N&&O!=null&&(O.getMinY()<u.getMinY()||O.getMaxY()>u.getMaxY()))u=O;else break}b.setBoundingBox(u);let _=b.getBarcodeColumnCount()+1;b.setDetectionResultColumn(0,g),b.setDetectionResultColumn(_,E);let T=g!=null;for(let N=1;N<=_;N++){let O=T?N:_-N;if(b.getDetectionResultColumn(O)!==void 0)continue;let k;O===0||O===_?k=new Cs(u,O===0):k=new Ai(u),b.setDetectionResultColumn(O,k);let G=-1,$=G;for(let ne=u.getMinY();ne<=u.getMaxY();ne++){if(G=Pe.getStartColumn(b,O,ne,T),G<0||G>u.getMaxX()){if($===-1)continue;G=$}let J=Pe.detectCodeword(e,u.getMinX(),u.getMaxX(),T,G,ne,l,c);J!=null&&(k.setCodeword(ne,J),$=G,l=Math.min(l,J.getWidth()),c=Math.max(c,J.getWidth()))}}return Pe.createDecoderResult(b)}static merge(e,t){if(e==null&&t==null)return null;let n=Pe.getBarcodeMetadata(e,t);if(n==null)return null;let i=Xn.merge(Pe.adjustBoundingBox(e),Pe.adjustBoundingBox(t));return new bi(n,i)}static adjustBoundingBox(e){if(e==null)return null;let t=e.getRowHeights();if(t==null)return null;let n=Pe.getMax(t),i=0;for(let c of t)if(i+=n-c,c>0)break;let r=e.getCodewords();for(let c=0;i>0&&r[c]==null;c++)i--;let l=0;for(let c=t.length-1;c>=0&&(l+=n-t[c],!(t[c]>0));c--);for(let c=r.length-1;l>0&&r[c]==null;c--)l--;return e.getBoundingBox().addMissingRows(i,l,e.isLeft())}static getMax(e){let t=-1;for(let n of e)t=Math.max(t,n);return t}static getBarcodeMetadata(e,t){let n;if(e==null||(n=e.getBarcodeMetadata())==null)return t==null?null:t.getBarcodeMetadata();let i;return t==null||(i=t.getBarcodeMetadata())==null?n:n.getColumnCount()!==i.getColumnCount()&&n.getErrorCorrectionLevel()!==i.getErrorCorrectionLevel()&&n.getRowCount()!==i.getRowCount()?null:n}static getRowIndicatorColumn(e,t,n,i,r,l){let c=new Cs(t,i);for(let u=0;u<2;u++){let g=u===0?1:-1,E=Math.trunc(Math.trunc(n.getX()));for(let b=Math.trunc(Math.trunc(n.getY()));b<=t.getMaxY()&&b>=t.getMinY();b+=g){let _=Pe.detectCodeword(e,0,e.getWidth(),i,E,b,r,l);_!=null&&(c.setCodeword(b,_),i?E=_.getStartX():E=_.getEndX())}}return c}static adjustCodewordCount(e,t){let n=t[0][1],i=n.getValue(),r=e.getBarcodeColumnCount()*e.getBarcodeRowCount()-Pe.getNumberOfECCodeWords(e.getBarcodeECLevel());if(i.length===0){if(r<1||r>ye.MAX_CODEWORDS_IN_BARCODE)throw S.getNotFoundInstance();n.setValue(r)}else i[0]!==r&&n.setValue(r)}static createDecoderResult(e){let t=Pe.createBarcodeMatrix(e);Pe.adjustCodewordCount(e,t);let n=new Array,i=new Int32Array(e.getBarcodeRowCount()*e.getBarcodeColumnCount()),r=[],l=new Array;for(let u=0;u<e.getBarcodeRowCount();u++)for(let g=0;g<e.getBarcodeColumnCount();g++){let E=t[u][g+1].getValue(),b=u*e.getBarcodeColumnCount()+g;E.length===0?n.push(b):E.length===1?i[b]=E[0]:(l.push(b),r.push(E))}let c=new Array(r.length);for(let u=0;u<c.length;u++)c[u]=r[u];return Pe.createDecoderResultFromAmbiguousValues(e.getBarcodeECLevel(),i,ye.toIntArray(n),ye.toIntArray(l),c)}static createDecoderResultFromAmbiguousValues(e,t,n,i,r){let l=new Int32Array(i.length),c=100;for(;c-- >0;){for(let u=0;u<l.length;u++)t[i[u]]=r[u][l[u]];try{return Pe.decodeCodewords(t,e,n)}catch(u){if(!(u instanceof B))throw u}if(l.length===0)throw B.getChecksumInstance();for(let u=0;u<l.length;u++)if(l[u]<r[u].length-1){l[u]++;break}else if(l[u]=0,u===l.length-1)throw B.getChecksumInstance()}throw B.getChecksumInstance()}static createBarcodeMatrix(e){let t=Array.from({length:e.getBarcodeRowCount()},()=>new Array(e.getBarcodeColumnCount()+2));for(let i=0;i<t.length;i++)for(let r=0;r<t[i].length;r++)t[i][r]=new Ci;let n=0;for(let i of e.getDetectionResultColumns()){if(i!=null){for(let r of i.getCodewords())if(r!=null){let l=r.getRowNumber();if(l>=0){if(l>=t.length)continue;t[l][n].setValue(r.getValue())}}}n++}return t}static isValidBarcodeColumn(e,t){return t>=0&&t<=e.getBarcodeColumnCount()+1}static getStartColumn(e,t,n,i){let r=i?1:-1,l=null;if(Pe.isValidBarcodeColumn(e,t-r)&&(l=e.getDetectionResultColumn(t-r).getCodeword(n)),l!=null)return i?l.getEndX():l.getStartX();if(l=e.getDetectionResultColumn(t).getCodewordNearby(n),l!=null)return i?l.getStartX():l.getEndX();if(Pe.isValidBarcodeColumn(e,t-r)&&(l=e.getDetectionResultColumn(t-r).getCodewordNearby(n)),l!=null)return i?l.getEndX():l.getStartX();let c=0;for(;Pe.isValidBarcodeColumn(e,t-r);){t-=r;for(let u of e.getDetectionResultColumn(t).getCodewords())if(u!=null)return(i?u.getEndX():u.getStartX())+r*c*(u.getEndX()-u.getStartX());c++}return i?e.getBoundingBox().getMinX():e.getBoundingBox().getMaxX()}static detectCodeword(e,t,n,i,r,l,c,u){r=Pe.adjustCodewordStartColumn(e,t,n,i,r,l);let g=Pe.getModuleBitCount(e,t,n,i,r,l);if(g==null)return null;let E,b=ve.sum(g);if(i)E=r+b;else{for(let N=0;N<g.length/2;N++){let O=g[N];g[N]=g[g.length-1-N],g[g.length-1-N]=O}E=r,r=E-b}if(!Pe.checkCodewordSkew(b,c,u))return null;let _=Yt.getDecodedValue(g),T=ye.getCodeword(_);return T===-1?null:new _i(r,E,Pe.getCodewordBucketNumber(_),T)}static getModuleBitCount(e,t,n,i,r,l){let c=r,u=new Int32Array(8),g=0,E=i?1:-1,b=i;for(;(i?c<n:c>=t)&&g<u.length;)e.get(c,l)===b?(u[g]++,c+=E):(g++,b=!b);return g===u.length||c===(i?n:t)&&g===u.length-1?u:null}static getNumberOfECCodeWords(e){return 2<<e}static adjustCodewordStartColumn(e,t,n,i,r,l){let c=r,u=i?-1:1;for(let g=0;g<2;g++){for(;(i?c>=t:c<n)&&i===e.get(c,l);){if(Math.abs(r-c)>Pe.CODEWORD_SKEW_SIZE)return r;c+=u}u=-u,i=!i}return c}static checkCodewordSkew(e,t,n){return t-Pe.CODEWORD_SKEW_SIZE<=e&&e<=n+Pe.CODEWORD_SKEW_SIZE}static decodeCodewords(e,t,n){if(e.length===0)throw P.getFormatInstance();let i=1<<t+1,r=Pe.correctErrors(e,n,i);Pe.verifyCodewordCount(e,i);let l=H.decode(e,""+t);return l.setErrorsCorrected(r),l.setErasures(n.length),l}static correctErrors(e,t,n){if(t!=null&&t.length>n/2+Pe.MAX_ERRORS||n<0||n>Pe.MAX_EC_CODEWORDS)throw B.getChecksumInstance();return Pe.errorCorrection.decode(e,n,t)}static verifyCodewordCount(e,t){if(e.length<4)throw P.getFormatInstance();let n=e[0];if(n>e.length)throw P.getFormatInstance();if(n===0)if(t<e.length)e[0]=e.length-t;else throw P.getFormatInstance()}static getBitCountForCodeword(e){let t=new Int32Array(8),n=0,i=t.length-1;for(;!((e&1)!==n&&(n=e&1,i--,i<0));)t[i]++,e>>=1;return t}static getCodewordBucketNumber(e){return e instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(e):this.getCodewordBucketNumber_number(e)}static getCodewordBucketNumber_number(e){return Pe.getCodewordBucketNumber(Pe.getBitCountForCodeword(e))}static getCodewordBucketNumber_Int32Array(e){return(e[0]-e[2]+e[4]-e[6]+9)%9}static toString(e){let t=new Ei;for(let n=0;n<e.length;n++){t.format("Row %2d: ",n);for(let i=0;i<e[n].length;i++){let r=e[n][i];r.getValue().length===0?t.format("        ",null):t.format("%4d(%2d)",r.getValue()[0],r.getConfidence(r.getValue()[0]))}t.format("%n")}return t.toString()}}Pe.CODEWORD_SKEW_SIZE=2,Pe.MAX_ERRORS=3,Pe.MAX_EC_CODEWORDS=512,Pe.errorCorrection=new As;class Dt{decode(e,t=null){let n=Dt.decode(e,t,!1);if(n==null||n.length===0||n[0]==null)throw S.getNotFoundInstance();return n[0]}decodeMultiple(e,t=null){try{return Dt.decode(e,t,!0)}catch(n){throw n instanceof P||n instanceof B?S.getNotFoundInstance():n}}static decode(e,t,n){const i=new Array,r=Me.detectMultiple(e,t,n);for(const l of r.getPoints()){const c=Pe.decode(r.getBits(),l[4],l[5],l[6],l[7],Dt.getMinCodewordWidth(l),Dt.getMaxCodewordWidth(l)),u=new ft(c.getText(),c.getRawBytes(),void 0,l,be.PDF_417);u.putMetadata(mt.ERROR_CORRECTION_LEVEL,c.getECLevel());const g=c.getOther();g!=null&&u.putMetadata(mt.PDF417_EXTRA_METADATA,g),i.push(u)}return i.map(l=>l)}static getMaxWidth(e,t){return e==null||t==null?0:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMinWidth(e,t){return e==null||t==null?L.MAX_VALUE:Math.trunc(Math.abs(e.getX()-t.getX()))}static getMaxCodewordWidth(e){return Math.floor(Math.max(Math.max(Dt.getMaxWidth(e[0],e[4]),Dt.getMaxWidth(e[6],e[2])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN),Math.max(Dt.getMaxWidth(e[1],e[5]),Dt.getMaxWidth(e[7],e[3])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(e){return Math.floor(Math.min(Math.min(Dt.getMinWidth(e[0],e[4]),Dt.getMinWidth(e[6],e[2])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN),Math.min(Dt.getMinWidth(e[1],e[5]),Dt.getMinWidth(e[7],e[3])*ye.MODULES_IN_CODEWORD/ye.MODULES_IN_STOP_PATTERN)))}reset(){}}class Wi extends A{}Wi.kind="ReaderException";class Ts{constructor(e,t){this.verbose=e===!0,t&&this.setHints(t)}decode(e,t){return t&&this.setHints(t),this.decodeInternal(e)}decodeWithState(e){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(e)}setHints(e){this.hints=e;const t=e!=null&&e.get(W.TRY_HARDER)!==void 0,n=e==null?null:e.get(W.POSSIBLE_FORMATS),i=new Array;if(n!=null){const r=n.some(l=>l===be.UPC_A||l===be.UPC_E||l===be.EAN_13||l===be.EAN_8||l===be.CODABAR||l===be.CODE_39||l===be.CODE_93||l===be.CODE_128||l===be.ITF||l===be.RSS_14||l===be.RSS_EXPANDED);r&&!t&&i.push(new ni(e,this.verbose)),n.includes(be.QR_CODE)&&i.push(new Mn),n.includes(be.DATA_MATRIX)&&i.push(new Dn),n.includes(be.AZTEC)&&i.push(new Fi),n.includes(be.PDF_417)&&i.push(new Dt),r&&t&&i.push(new ni(e,this.verbose))}i.length===0&&(t||i.push(new ni(e,this.verbose)),i.push(new Mn),i.push(new Dn),i.push(new Fi),i.push(new Dt),t&&i.push(new ni(e,this.verbose))),this.readers=i}reset(){if(this.readers!==null)for(const e of this.readers)e.reset()}decodeInternal(e){if(this.readers===null)throw new Wi("No readers where selected, nothing can be read.");for(const t of this.readers)try{return t.decode(e,this.hints)}catch(n){if(n instanceof Wi)continue}throw new S("No MultiFormat Readers were able to detect the code.")}}class X1 extends zt{constructor(e=null,t=500){const n=new Ts;n.setHints(e),super(n,t)}decodeBitmap(e){return this.reader.decodeWithState(e)}}class Y1 extends zt{constructor(e=500){super(new Dt,e)}}class j1 extends zt{constructor(e=500){super(new Mn,e)}}var yr;(function(C){C[C.ERROR_CORRECTION=0]="ERROR_CORRECTION",C[C.CHARACTER_SET=1]="CHARACTER_SET",C[C.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",C[C.MIN_SIZE=3]="MIN_SIZE",C[C.MAX_SIZE=4]="MAX_SIZE",C[C.MARGIN=5]="MARGIN",C[C.PDF417_COMPACT=6]="PDF417_COMPACT",C[C.PDF417_COMPACTION=7]="PDF417_COMPACTION",C[C.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",C[C.AZTEC_LAYERS=9]="AZTEC_LAYERS",C[C.QR_VERSION=10]="QR_VERSION"})(yr||(yr={}));var It=yr;class Sr{constructor(e){this.field=e,this.cachedGenerators=[],this.cachedGenerators.push(new Lt(e,Int32Array.from([1])))}buildGenerator(e){const t=this.cachedGenerators;if(e>=t.length){let n=t[t.length-1];const i=this.field;for(let r=t.length;r<=e;r++){const l=n.multiply(new Lt(i,Int32Array.from([1,i.exp(r-1+i.getGeneratorBase())])));t.push(l),n=l}}return t[e]}encode(e,t){if(t===0)throw new I("No error correction bytes");const n=e.length-t;if(n<=0)throw new I("No data bytes provided");const i=this.buildGenerator(t),r=new Int32Array(n);y.arraycopy(e,0,r,0,n);let l=new Lt(this.field,r);l=l.multiplyByMonomial(t,1);const u=l.divide(i)[1].getCoefficients(),g=t-u.length;for(let E=0;E<g;E++)e[n+E]=0;y.arraycopy(u,0,e,n+g,u.length)}}class dt{constructor(){}static applyMaskPenaltyRule1(e){return dt.applyMaskPenaltyRule1Internal(e,!0)+dt.applyMaskPenaltyRule1Internal(e,!1)}static applyMaskPenaltyRule2(e){let t=0;const n=e.getArray(),i=e.getWidth(),r=e.getHeight();for(let l=0;l<r-1;l++){const c=n[l];for(let u=0;u<i-1;u++){const g=c[u];g===c[u+1]&&g===n[l+1][u]&&g===n[l+1][u+1]&&t++}}return dt.N2*t}static applyMaskPenaltyRule3(e){let t=0;const n=e.getArray(),i=e.getWidth(),r=e.getHeight();for(let l=0;l<r;l++)for(let c=0;c<i;c++){const u=n[l];c+6<i&&u[c]===1&&u[c+1]===0&&u[c+2]===1&&u[c+3]===1&&u[c+4]===1&&u[c+5]===0&&u[c+6]===1&&(dt.isWhiteHorizontal(u,c-4,c)||dt.isWhiteHorizontal(u,c+7,c+11))&&t++,l+6<r&&n[l][c]===1&&n[l+1][c]===0&&n[l+2][c]===1&&n[l+3][c]===1&&n[l+4][c]===1&&n[l+5][c]===0&&n[l+6][c]===1&&(dt.isWhiteVertical(n,c,l-4,l)||dt.isWhiteVertical(n,c,l+7,l+11))&&t++}return t*dt.N3}static isWhiteHorizontal(e,t,n){t=Math.max(t,0),n=Math.min(n,e.length);for(let i=t;i<n;i++)if(e[i]===1)return!1;return!0}static isWhiteVertical(e,t,n,i){n=Math.max(n,0),i=Math.min(i,e.length);for(let r=n;r<i;r++)if(e[r][t]===1)return!1;return!0}static applyMaskPenaltyRule4(e){let t=0;const n=e.getArray(),i=e.getWidth(),r=e.getHeight();for(let u=0;u<r;u++){const g=n[u];for(let E=0;E<i;E++)g[E]===1&&t++}const l=e.getHeight()*e.getWidth();return Math.floor(Math.abs(t*2-l)*10/l)*dt.N4}static getDataMaskBit(e,t,n){let i,r;switch(e){case 0:i=n+t&1;break;case 1:i=n&1;break;case 2:i=t%3;break;case 3:i=(n+t)%3;break;case 4:i=Math.floor(n/2)+Math.floor(t/3)&1;break;case 5:r=n*t,i=(r&1)+r%3;break;case 6:r=n*t,i=(r&1)+r%3&1;break;case 7:r=n*t,i=r%3+(n+t&1)&1;break;default:throw new I("Invalid mask pattern: "+e)}return i===0}static applyMaskPenaltyRule1Internal(e,t){let n=0;const i=t?e.getHeight():e.getWidth(),r=t?e.getWidth():e.getHeight(),l=e.getArray();for(let c=0;c<i;c++){let u=0,g=-1;for(let E=0;E<r;E++){const b=t?l[c][E]:l[E][c];b===g?u++:(u>=5&&(n+=dt.N1+(u-5)),u=1,g=b)}u>=5&&(n+=dt.N1+(u-5))}return n}}dt.N1=3,dt.N2=3,dt.N3=40,dt.N4=10;class Xi{constructor(e,t){this.width=e,this.height=t;const n=new Array(t);for(let i=0;i!==t;i++)n[i]=new Uint8Array(e);this.bytes=n}getHeight(){return this.height}getWidth(){return this.width}get(e,t){return this.bytes[t][e]}getArray(){return this.bytes}setNumber(e,t,n){this.bytes[t][e]=n}setBoolean(e,t,n){this.bytes[t][e]=n?1:0}clear(e){for(const t of this.bytes)V.fill(t,e)}equals(e){if(!(e instanceof Xi))return!1;const t=e;if(this.width!==t.width||this.height!==t.height)return!1;for(let n=0,i=this.height;n<i;++n){const r=this.bytes[n],l=t.bytes[n];for(let c=0,u=this.width;c<u;++c)if(r[c]!==l[c])return!1}return!0}toString(){const e=new Q;for(let t=0,n=this.height;t<n;++t){const i=this.bytes[t];for(let r=0,l=this.width;r<l;++r)switch(i[r]){case 0:e.append(" 0");break;case 1:e.append(" 1");break;default:e.append("  ");break}e.append(`
`)}return e.toString()}}class Yn{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const e=new Q;return e.append(`<<
`),e.append(" mode: "),e.append(this.mode?this.mode.toString():"null"),e.append(`
 ecLevel: `),e.append(this.ecLevel?this.ecLevel.toString():"null"),e.append(`
 version: `),e.append(this.version?this.version.toString():"null"),e.append(`
 maskPattern: `),e.append(this.maskPattern.toString()),this.matrix?(e.append(`
 matrix:
`),e.append(this.matrix.toString())):e.append(`
 matrix: null
`),e.append(`>>
`),e.toString()}setMode(e){this.mode=e}setECLevel(e){this.ecLevel=e}setVersion(e){this.version=e}setMaskPattern(e){this.maskPattern=e}setMatrix(e){this.matrix=e}static isValidMaskPattern(e){return e>=0&&e<Yn.NUM_MASK_PATTERNS}}Yn.NUM_MASK_PATTERNS=8;class $e extends A{}$e.kind="WriterException";class Te{constructor(){}static clearMatrix(e){e.clear(255)}static buildMatrix(e,t,n,i,r){Te.clearMatrix(r),Te.embedBasicPatterns(n,r),Te.embedTypeInfo(t,i,r),Te.maybeEmbedVersionInfo(n,r),Te.embedDataBits(e,i,r)}static embedBasicPatterns(e,t){Te.embedPositionDetectionPatternsAndSeparators(t),Te.embedDarkDotAtLeftBottomCorner(t),Te.maybeEmbedPositionAdjustmentPatterns(e,t),Te.embedTimingPatterns(t)}static embedTypeInfo(e,t,n){const i=new z;Te.makeTypeInfoBits(e,t,i);for(let r=0,l=i.getSize();r<l;++r){const c=i.get(i.getSize()-1-r),u=Te.TYPE_INFO_COORDINATES[r],g=u[0],E=u[1];if(n.setBoolean(g,E,c),r<8){const b=n.getWidth()-r-1,_=8;n.setBoolean(b,_,c)}else{const _=n.getHeight()-7+(r-8);n.setBoolean(8,_,c)}}}static maybeEmbedVersionInfo(e,t){if(e.getVersionNumber()<7)return;const n=new z;Te.makeVersionInfoBits(e,n);let i=6*3-1;for(let r=0;r<6;++r)for(let l=0;l<3;++l){const c=n.get(i);i--,t.setBoolean(r,t.getHeight()-11+l,c),t.setBoolean(t.getHeight()-11+l,r,c)}}static embedDataBits(e,t,n){let i=0,r=-1,l=n.getWidth()-1,c=n.getHeight()-1;for(;l>0;){for(l===6&&(l-=1);c>=0&&c<n.getHeight();){for(let u=0;u<2;++u){const g=l-u;if(!Te.isEmpty(n.get(g,c)))continue;let E;i<e.getSize()?(E=e.get(i),++i):E=!1,t!==255&&dt.getDataMaskBit(t,g,c)&&(E=!E),n.setBoolean(g,c,E)}c+=r}r=-r,c+=r,l-=2}if(i!==e.getSize())throw new $e("Not all bits consumed: "+i+"/"+e.getSize())}static findMSBSet(e){return 32-L.numberOfLeadingZeros(e)}static calculateBCHCode(e,t){if(t===0)throw new I("0 polynomial");const n=Te.findMSBSet(t);for(e<<=n-1;Te.findMSBSet(e)>=n;)e^=t<<Te.findMSBSet(e)-n;return e}static makeTypeInfoBits(e,t,n){if(!Yn.isValidMaskPattern(t))throw new $e("Invalid mask pattern");const i=e.getBits()<<3|t;n.appendBits(i,5);const r=Te.calculateBCHCode(i,Te.TYPE_INFO_POLY);n.appendBits(r,10);const l=new z;if(l.appendBits(Te.TYPE_INFO_MASK_PATTERN,15),n.xor(l),n.getSize()!==15)throw new $e("should not happen but we got: "+n.getSize())}static makeVersionInfoBits(e,t){t.appendBits(e.getVersionNumber(),6);const n=Te.calculateBCHCode(e.getVersionNumber(),Te.VERSION_INFO_POLY);if(t.appendBits(n,12),t.getSize()!==18)throw new $e("should not happen but we got: "+t.getSize())}static isEmpty(e){return e===255}static embedTimingPatterns(e){for(let t=8;t<e.getWidth()-8;++t){const n=(t+1)%2;Te.isEmpty(e.get(t,6))&&e.setNumber(t,6,n),Te.isEmpty(e.get(6,t))&&e.setNumber(6,t,n)}}static embedDarkDotAtLeftBottomCorner(e){if(e.get(8,e.getHeight()-8)===0)throw new $e;e.setNumber(8,e.getHeight()-8,1)}static embedHorizontalSeparationPattern(e,t,n){for(let i=0;i<8;++i){if(!Te.isEmpty(n.get(e+i,t)))throw new $e;n.setNumber(e+i,t,0)}}static embedVerticalSeparationPattern(e,t,n){for(let i=0;i<7;++i){if(!Te.isEmpty(n.get(e,t+i)))throw new $e;n.setNumber(e,t+i,0)}}static embedPositionAdjustmentPattern(e,t,n){for(let i=0;i<5;++i){const r=Te.POSITION_ADJUSTMENT_PATTERN[i];for(let l=0;l<5;++l)n.setNumber(e+l,t+i,r[l])}}static embedPositionDetectionPattern(e,t,n){for(let i=0;i<7;++i){const r=Te.POSITION_DETECTION_PATTERN[i];for(let l=0;l<7;++l)n.setNumber(e+l,t+i,r[l])}}static embedPositionDetectionPatternsAndSeparators(e){const t=Te.POSITION_DETECTION_PATTERN[0].length;Te.embedPositionDetectionPattern(0,0,e),Te.embedPositionDetectionPattern(e.getWidth()-t,0,e),Te.embedPositionDetectionPattern(0,e.getWidth()-t,e);const n=8;Te.embedHorizontalSeparationPattern(0,n-1,e),Te.embedHorizontalSeparationPattern(e.getWidth()-n,n-1,e),Te.embedHorizontalSeparationPattern(0,e.getWidth()-n,e);const i=7;Te.embedVerticalSeparationPattern(i,0,e),Te.embedVerticalSeparationPattern(e.getHeight()-i-1,0,e),Te.embedVerticalSeparationPattern(i,e.getHeight()-i,e)}static maybeEmbedPositionAdjustmentPatterns(e,t){if(e.getVersionNumber()<2)return;const n=e.getVersionNumber()-1,i=Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[n];for(let r=0,l=i.length;r!==l;r++){const c=i[r];if(c>=0)for(let u=0;u!==l;u++){const g=i[u];g>=0&&Te.isEmpty(t.get(g,c))&&Te.embedPositionAdjustmentPattern(g-2,c-2,t)}}}}Te.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Te.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Te.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Te.VERSION_INFO_POLY=7973,Te.TYPE_INFO_POLY=1335,Te.TYPE_INFO_MASK_PATTERN=21522;class Z1{constructor(e,t){this.dataBytes=e,this.errorCorrectionBytes=t}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class it{constructor(){}static calculateMaskPenalty(e){return dt.applyMaskPenaltyRule1(e)+dt.applyMaskPenaltyRule2(e)+dt.applyMaskPenaltyRule3(e)+dt.applyMaskPenaltyRule4(e)}static encode(e,t,n=null){let i=it.DEFAULT_BYTE_MODE_ENCODING;const r=n!==null&&n.get(It.CHARACTER_SET)!==void 0;r&&(i=n.get(It.CHARACTER_SET).toString());const l=this.chooseMode(e,i),c=new z;if(l===pe.BYTE&&(r||it.DEFAULT_BYTE_MODE_ENCODING!==i)){const ne=U.getCharacterSetECIByName(i);ne!==void 0&&this.appendECI(ne,c)}this.appendModeInfo(l,c);const u=new z;this.appendBytes(e,l,u,i);let g;if(n!==null&&n.get(It.QR_VERSION)!==void 0){const ne=Number.parseInt(n.get(It.QR_VERSION).toString(),10);g=Ce.getVersionForNumber(ne);const J=this.calculateBitsNeeded(l,c,u,g);if(!this.willFit(J,g,t))throw new $e("Data too big for requested version")}else g=this.recommendVersion(t,l,c,u);const E=new z;E.appendBitArray(c);const b=l===pe.BYTE?u.getSizeInBytes():e.length;this.appendLengthInfo(b,g,l,E),E.appendBitArray(u);const _=g.getECBlocksForLevel(t),T=g.getTotalCodewords()-_.getTotalECCodewords();this.terminateBits(T,E);const N=this.interleaveWithECBytes(E,g.getTotalCodewords(),T,_.getNumBlocks()),O=new Yn;O.setECLevel(t),O.setMode(l),O.setVersion(g);const k=g.getDimensionForVersion(),G=new Xi(k,k),$=this.chooseMaskPattern(N,t,g,G);return O.setMaskPattern($),Te.buildMatrix(N,t,g,$,G),O.setMatrix(G),O}static recommendVersion(e,t,n,i){const r=this.calculateBitsNeeded(t,n,i,Ce.getVersionForNumber(1)),l=this.chooseVersion(r,e),c=this.calculateBitsNeeded(t,n,i,l);return this.chooseVersion(c,e)}static calculateBitsNeeded(e,t,n,i){return t.getSize()+e.getCharacterCountBits(i)+n.getSize()}static getAlphanumericCode(e){return e<it.ALPHANUMERIC_TABLE.length?it.ALPHANUMERIC_TABLE[e]:-1}static chooseMode(e,t=null){if(U.SJIS.getName()===t&&this.isOnlyDoubleByteKanji(e))return pe.KANJI;let n=!1,i=!1;for(let r=0,l=e.length;r<l;++r){const c=e.charAt(r);if(it.isDigit(c))n=!0;else if(this.getAlphanumericCode(c.charCodeAt(0))!==-1)i=!0;else return pe.BYTE}return i?pe.ALPHANUMERIC:n?pe.NUMERIC:pe.BYTE}static isOnlyDoubleByteKanji(e){let t;try{t=he.encode(e,U.SJIS)}catch{return!1}const n=t.length;if(n%2!==0)return!1;for(let i=0;i<n;i+=2){const r=t[i]&255;if((r<129||r>159)&&(r<224||r>235))return!1}return!0}static chooseMaskPattern(e,t,n,i){let r=Number.MAX_SAFE_INTEGER,l=-1;for(let c=0;c<Yn.NUM_MASK_PATTERNS;c++){Te.buildMatrix(e,t,n,c,i);let u=this.calculateMaskPenalty(i);u<r&&(r=u,l=c)}return l}static chooseVersion(e,t){for(let n=1;n<=40;n++){const i=Ce.getVersionForNumber(n);if(it.willFit(e,i,t))return i}throw new $e("Data too big")}static willFit(e,t,n){const i=t.getTotalCodewords(),l=t.getECBlocksForLevel(n).getTotalECCodewords(),c=i-l,u=(e+7)/8;return c>=u}static terminateBits(e,t){const n=e*8;if(t.getSize()>n)throw new $e("data bits cannot fit in the QR Code"+t.getSize()+" > "+n);for(let l=0;l<4&&t.getSize()<n;++l)t.appendBit(!1);const i=t.getSize()&7;if(i>0)for(let l=i;l<8;l++)t.appendBit(!1);const r=e-t.getSizeInBytes();for(let l=0;l<r;++l)t.appendBits((l&1)===0?236:17,8);if(t.getSize()!==n)throw new $e("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(e,t,n,i,r,l){if(i>=n)throw new $e("Block ID too large");const c=e%n,u=n-c,g=Math.floor(e/n),E=g+1,b=Math.floor(t/n),_=b+1,T=g-b,N=E-_;if(T!==N)throw new $e("EC bytes mismatch");if(n!==u+c)throw new $e("RS blocks mismatch");if(e!==(b+T)*u+(_+N)*c)throw new $e("Total bytes mismatch");i<u?(r[0]=b,l[0]=T):(r[0]=_,l[0]=N)}static interleaveWithECBytes(e,t,n,i){if(e.getSizeInBytes()!==n)throw new $e("Number of bits and data bytes does not match");let r=0,l=0,c=0;const u=new Array;for(let E=0;E<i;++E){const b=new Int32Array(1),_=new Int32Array(1);it.getNumDataBytesAndNumECBytesForBlockID(t,n,i,E,b,_);const T=b[0],N=new Uint8Array(T);e.toBytes(8*r,N,0,T);const O=it.generateECBytes(N,_[0]);u.push(new Z1(N,O)),l=Math.max(l,T),c=Math.max(c,O.length),r+=b[0]}if(n!==r)throw new $e("Data bytes does not match offset");const g=new z;for(let E=0;E<l;++E)for(const b of u){const _=b.getDataBytes();E<_.length&&g.appendBits(_[E],8)}for(let E=0;E<c;++E)for(const b of u){const _=b.getErrorCorrectionBytes();E<_.length&&g.appendBits(_[E],8)}if(t!==g.getSizeInBytes())throw new $e("Interleaving error: "+t+" and "+g.getSizeInBytes()+" differ.");return g}static generateECBytes(e,t){const n=e.length,i=new Int32Array(n+t);for(let l=0;l<n;l++)i[l]=e[l]&255;new Sr(Ue.QR_CODE_FIELD_256).encode(i,t);const r=new Uint8Array(t);for(let l=0;l<t;l++)r[l]=i[n+l];return r}static appendModeInfo(e,t){t.appendBits(e.getBits(),4)}static appendLengthInfo(e,t,n,i){const r=n.getCharacterCountBits(t);if(e>=1<<r)throw new $e(e+" is bigger than "+((1<<r)-1));i.appendBits(e,r)}static appendBytes(e,t,n,i){switch(t){case pe.NUMERIC:it.appendNumericBytes(e,n);break;case pe.ALPHANUMERIC:it.appendAlphanumericBytes(e,n);break;case pe.BYTE:it.append8BitBytes(e,n,i);break;case pe.KANJI:it.appendKanjiBytes(e,n);break;default:throw new $e("Invalid mode: "+t)}}static getDigit(e){return e.charCodeAt(0)-48}static isDigit(e){const t=it.getDigit(e);return t>=0&&t<=9}static appendNumericBytes(e,t){const n=e.length;let i=0;for(;i<n;){const r=it.getDigit(e.charAt(i));if(i+2<n){const l=it.getDigit(e.charAt(i+1)),c=it.getDigit(e.charAt(i+2));t.appendBits(r*100+l*10+c,10),i+=3}else if(i+1<n){const l=it.getDigit(e.charAt(i+1));t.appendBits(r*10+l,7),i+=2}else t.appendBits(r,4),i++}}static appendAlphanumericBytes(e,t){const n=e.length;let i=0;for(;i<n;){const r=it.getAlphanumericCode(e.charCodeAt(i));if(r===-1)throw new $e;if(i+1<n){const l=it.getAlphanumericCode(e.charCodeAt(i+1));if(l===-1)throw new $e;t.appendBits(r*45+l,11),i+=2}else t.appendBits(r,6),i++}}static append8BitBytes(e,t,n){let i;try{i=he.encode(e,n)}catch(r){throw new $e(r)}for(let r=0,l=i.length;r!==l;r++){const c=i[r];t.appendBits(c,8)}}static appendKanjiBytes(e,t){let n;try{n=he.encode(e,U.SJIS)}catch(r){throw new $e(r)}const i=n.length;for(let r=0;r<i;r+=2){const l=n[r]&255,c=n[r+1]&255,u=l<<8&4294967295|c;let g=-1;if(u>=33088&&u<=40956?g=u-33088:u>=57408&&u<=60351&&(g=u-49472),g===-1)throw new $e("Invalid byte sequence");const E=(g>>8)*192+(g&255);t.appendBits(E,13)}}static appendECI(e,t){t.appendBits(pe.ECI.getBits(),4),t.appendBits(e.getValue(),8)}}it.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),it.DEFAULT_BYTE_MODE_ENCODING=U.UTF8.getName();class jn{write(e,t,n,i=null){if(e.length===0)throw new I("Found empty contents");if(t<0||n<0)throw new I("Requested dimensions are too small: "+t+"x"+n);let r=tt.L,l=jn.QUIET_ZONE_SIZE;i!==null&&(i.get(It.ERROR_CORRECTION)!==void 0&&(r=tt.fromString(i.get(It.ERROR_CORRECTION).toString())),i.get(It.MARGIN)!==void 0&&(l=Number.parseInt(i.get(It.MARGIN).toString(),10)));const c=it.encode(e,r,i);return this.renderResult(c,t,n,l)}writeToDom(e,t,n,i,r=null){typeof e=="string"&&(e=document.querySelector(e));const l=this.write(t,n,i,r);e&&e.appendChild(l)}renderResult(e,t,n,i){const r=e.getMatrix();if(r===null)throw new en;const l=r.getWidth(),c=r.getHeight(),u=l+i*2,g=c+i*2,E=Math.max(t,u),b=Math.max(n,g),_=Math.min(Math.floor(E/u),Math.floor(b/g)),T=Math.floor((E-l*_)/2),N=Math.floor((b-c*_)/2),O=this.createSVGElement(E,b);for(let k=0,G=N;k<c;k++,G+=_)for(let $=0,ne=T;$<l;$++,ne+=_)if(r.get($,k)===1){const J=this.createSvgRectElement(ne,G,_,_);O.appendChild(J)}return O}createSVGElement(e,t){const n=document.createElementNS(jn.SVG_NS,"svg");return n.setAttributeNS(null,"height",e.toString()),n.setAttributeNS(null,"width",t.toString()),n}createSvgRectElement(e,t,n,i){const r=document.createElementNS(jn.SVG_NS,"rect");return r.setAttributeNS(null,"x",e.toString()),r.setAttributeNS(null,"y",t.toString()),r.setAttributeNS(null,"height",n.toString()),r.setAttributeNS(null,"width",i.toString()),r.setAttributeNS(null,"fill","#000000"),r}}jn.QUIET_ZONE_SIZE=4,jn.SVG_NS="http://www.w3.org/2000/svg";class ri{encode(e,t,n,i,r){if(e.length===0)throw new I("Found empty contents");if(t!==be.QR_CODE)throw new I("Can only encode QR_CODE, but got "+t);if(n<0||i<0)throw new I(`Requested dimensions are too small: ${n}x${i}`);let l=tt.L,c=ri.QUIET_ZONE_SIZE;r!==null&&(r.get(It.ERROR_CORRECTION)!==void 0&&(l=tt.fromString(r.get(It.ERROR_CORRECTION).toString())),r.get(It.MARGIN)!==void 0&&(c=Number.parseInt(r.get(It.MARGIN).toString(),10)));const u=it.encode(e,l,r);return ri.renderResult(u,n,i,c)}static renderResult(e,t,n,i){const r=e.getMatrix();if(r===null)throw new en;const l=r.getWidth(),c=r.getHeight(),u=l+i*2,g=c+i*2,E=Math.max(t,u),b=Math.max(n,g),_=Math.min(Math.floor(E/u),Math.floor(b/g)),T=Math.floor((E-l*_)/2),N=Math.floor((b-c*_)/2),O=new fe(E,b);for(let k=0,G=N;k<c;k++,G+=_)for(let $=0,ne=T;$<l;$++,ne+=_)r.get($,k)===1&&O.setRegion(ne,G,_,_);return O}}ri.QUIET_ZONE_SIZE=4;class K1{encode(e,t,n,i,r){let l;switch(t){case be.QR_CODE:l=new ri;break;default:throw new I("No encoder available for format "+t)}return l.encode(e,t,n,i,r)}}class gn extends te{constructor(e,t,n,i,r,l,c,u){if(super(l,c),this.yuvData=e,this.dataWidth=t,this.dataHeight=n,this.left=i,this.top=r,i+l>t||r+c>n)throw new I("Crop rectangle does not fit within image data.");u&&this.reverseHorizontal(l,c)}getRow(e,t){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const i=(e+this.top)*this.dataWidth+this.left;return y.arraycopy(this.yuvData,i,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.yuvData;const n=e*t,i=new Uint8ClampedArray(n);let r=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return y.arraycopy(this.yuvData,r,i,0,n),i;for(let l=0;l<t;l++){const c=l*e;y.arraycopy(this.yuvData,r,i,c,e),r+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,t,n,i){return new gn(this.yuvData,this.dataWidth,this.dataHeight,this.left+e,this.top+t,n,i,!1)}renderThumbnail(){const e=this.getWidth()/gn.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/gn.THUMBNAIL_SCALE_FACTOR,n=new Int32Array(e*t),i=this.yuvData;let r=this.top*this.dataWidth+this.left;for(let l=0;l<t;l++){const c=l*e;for(let u=0;u<e;u++){const g=i[r+u*gn.THUMBNAIL_SCALE_FACTOR]&255;n[c+u]=4278190080|g*65793}r+=this.dataWidth*gn.THUMBNAIL_SCALE_FACTOR}return n}getThumbnailWidth(){return this.getWidth()/gn.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/gn.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(e,t){const n=this.yuvData;for(let i=0,r=this.top*this.dataWidth+this.left;i<t;i++,r+=this.dataWidth){const l=r+e/2;for(let c=r,u=r+e-1;c<l;c++,u--){const g=n[c];n[c]=n[u],n[u]=g}}}invert(){return new Ae(this)}}gn.THUMBNAIL_SCALE_FACTOR=2;class Nr extends te{constructor(e,t,n,i,r,l,c){if(super(t,n),this.dataWidth=i,this.dataHeight=r,this.left=l,this.top=c,e.BYTES_PER_ELEMENT===4){const u=t*n,g=new Uint8ClampedArray(u);for(let E=0;E<u;E++){const b=e[E],_=b>>16&255,T=b>>7&510,N=b&255;g[E]=(_+T+N)/4&255}this.luminances=g}else this.luminances=e;if(i===void 0&&(this.dataWidth=t),r===void 0&&(this.dataHeight=n),l===void 0&&(this.left=0),c===void 0&&(this.top=0),this.left+t>this.dataWidth||this.top+n>this.dataHeight)throw new I("Crop rectangle does not fit within image data.")}getRow(e,t){if(e<0||e>=this.getHeight())throw new I("Requested row is outside the image: "+e);const n=this.getWidth();(t==null||t.length<n)&&(t=new Uint8ClampedArray(n));const i=(e+this.top)*this.dataWidth+this.left;return y.arraycopy(this.luminances,i,t,0,n),t}getMatrix(){const e=this.getWidth(),t=this.getHeight();if(e===this.dataWidth&&t===this.dataHeight)return this.luminances;const n=e*t,i=new Uint8ClampedArray(n);let r=this.top*this.dataWidth+this.left;if(e===this.dataWidth)return y.arraycopy(this.luminances,r,i,0,n),i;for(let l=0;l<t;l++){const c=l*e;y.arraycopy(this.luminances,r,i,c,e),r+=this.dataWidth}return i}isCropSupported(){return!0}crop(e,t,n,i){return new Nr(this.luminances,n,i,this.dataWidth,this.dataHeight,this.left+e,this.top+t)}invert(){return new Ae(this)}}class ys extends U{static forName(e){return this.getCharacterSetECIByName(e)}}class Rr{}Rr.ISO_8859_1=U.ISO8859_1;class Ss{isCompact(){return this.compact}setCompact(e){this.compact=e}getSize(){return this.size}setSize(e){this.size=e}getLayers(){return this.layers}setLayers(e){this.layers=e}getCodeWords(){return this.codeWords}setCodeWords(e){this.codeWords=e}getMatrix(){return this.matrix}setMatrix(e){this.matrix=e}}class Ns{static singletonList(e){return[e]}static min(e,t){return e.sort(t)[0]}}class q1{constructor(e){this.previous=e}getPrevious(){return this.previous}}class si extends q1{constructor(e,t,n){super(e),this.value=t,this.bitCount=n}appendTo(e,t){e.appendBits(this.value,this.bitCount)}add(e,t){return new si(this,e,t)}addBinaryShift(e,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new si(this,e,t)}toString(){let e=this.value&(1<<this.bitCount)-1;return e|=1<<this.bitCount,"<"+L.toBinaryString(e|1<<this.bitCount).substring(1)+">"}}class Or extends si{constructor(e,t,n){super(e,0,0),this.binaryShiftStart=t,this.binaryShiftByteCount=n}appendTo(e,t){for(let n=0;n<this.binaryShiftByteCount;n++)(n===0||n===31&&this.binaryShiftByteCount<=62)&&(e.appendBits(31,5),this.binaryShiftByteCount>62?e.appendBits(this.binaryShiftByteCount-31,16):n===0?e.appendBits(Math.min(this.binaryShiftByteCount,31),5):e.appendBits(this.binaryShiftByteCount-31,5)),e.appendBits(t[this.binaryShiftStart+n],8)}addBinaryShift(e,t){return new Or(this,e,t)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function J1(C,e,t){return new Or(C,e,t)}function Ii(C,e,t){return new si(C,e,t)}const Q1=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Pn=0,Yi=1,on=2,Rs=3,xn=4,$1=new si(null,0,0),Dr=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(9<<16)+(30<<4)+14,0,(5<<16)+30,(5<<16)+29,(10<<16)+(29<<5)+30]),Int32Array.from([(4<<16)+14,(9<<16)+(14<<5)+28,0,(9<<16)+(14<<5)+29,(14<<16)+(14<<10)+(29<<5)+30]),Int32Array.from([(5<<16)+29,(5<<16)+28,(10<<16)+(29<<5)+30,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,(10<<16)+(31<<5)+28,(10<<16)+(31<<5)+30,(10<<16)+(31<<5)+29,0])];function el(C){for(let e of C)V.fill(e,-1);return C[Pn][xn]=0,C[Yi][xn]=0,C[Yi][Pn]=28,C[Rs][xn]=0,C[on][xn]=0,C[on][Pn]=15,C}const Os=el(V.createInt32Array(6,6));class wn{constructor(e,t,n,i){this.token=e,this.mode=t,this.binaryShiftByteCount=n,this.bitCount=i}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(e,t){let n=this.bitCount,i=this.token;if(e!==this.mode){let l=Dr[this.mode][e];i=Ii(i,l&65535,l>>16),n+=l>>16}let r=e===on?4:5;return i=Ii(i,t,r),new wn(i,e,0,n+r)}shiftAndAppend(e,t){let n=this.token,i=this.mode===on?4:5;return n=Ii(n,Os[this.mode][e],i),n=Ii(n,t,5),new wn(n,this.mode,0,this.bitCount+i+5)}addBinaryShiftChar(e){let t=this.token,n=this.mode,i=this.bitCount;if(this.mode===xn||this.mode===on){let c=Dr[n][Pn];t=Ii(t,c&65535,c>>16),i+=c>>16,n=Pn}let r=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,l=new wn(t,n,this.binaryShiftByteCount+1,i+r);return l.binaryShiftByteCount===2047+31&&(l=l.endBinaryShift(e+1)),l}endBinaryShift(e){if(this.binaryShiftByteCount===0)return this;let t=this.token;return t=J1(t,e-this.binaryShiftByteCount,this.binaryShiftByteCount),new wn(t,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(e){let t=this.bitCount+(Dr[this.mode][e.mode]>>16);return this.binaryShiftByteCount<e.binaryShiftByteCount?t+=wn.calculateBinaryShiftCost(e)-wn.calculateBinaryShiftCost(this):this.binaryShiftByteCount>e.binaryShiftByteCount&&e.binaryShiftByteCount>0&&(t+=10),t<=e.bitCount}toBitArray(e){let t=[];for(let i=this.endBinaryShift(e.length).token;i!==null;i=i.getPrevious())t.unshift(i);let n=new z;for(const i of t)i.appendTo(n,e);return n}toString(){return ie.format("%s bits=%d bytes=%d",Q1[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(e){return e.binaryShiftByteCount>62?21:e.binaryShiftByteCount>31?20:e.binaryShiftByteCount>0?10:0}}wn.INITIAL_STATE=new wn($1,Pn,0,0);function tl(C){const e=ie.getCharCode(" "),t=ie.getCharCode("."),n=ie.getCharCode(",");C[Pn][e]=1;const i=ie.getCharCode("Z"),r=ie.getCharCode("A");for(let _=r;_<=i;_++)C[Pn][_]=_-r+2;C[Yi][e]=1;const l=ie.getCharCode("z"),c=ie.getCharCode("a");for(let _=c;_<=l;_++)C[Yi][_]=_-c+2;C[on][e]=1;const u=ie.getCharCode("9"),g=ie.getCharCode("0");for(let _=g;_<=u;_++)C[on][_]=_-g+2;C[on][n]=12,C[on][t]=13;const E=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","\x7F"];for(let _=0;_<E.length;_++)C[Rs][ie.getCharCode(E[_])]=_;const b=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let _=0;_<b.length;_++)ie.getCharCode(b[_])>0&&(C[xn][ie.getCharCode(b[_])]=_);return C}const Mr=tl(V.createInt32Array(5,256));class pi{constructor(e){this.text=e}encode(){const e=ie.getCharCode(" "),t=ie.getCharCode(`
`);let n=Ns.singletonList(wn.INITIAL_STATE);for(let r=0;r<this.text.length;r++){let l,c=r+1<this.text.length?this.text[r+1]:0;switch(this.text[r]){case ie.getCharCode("\r"):l=c===t?2:0;break;case ie.getCharCode("."):l=c===e?3:0;break;case ie.getCharCode(","):l=c===e?4:0;break;case ie.getCharCode(":"):l=c===e?5:0;break;default:l=0}l>0?(n=pi.updateStateListForPair(n,r,l),r++):n=this.updateStateListForChar(n,r)}return Ns.min(n,(r,l)=>r.getBitCount()-l.getBitCount()).toBitArray(this.text)}updateStateListForChar(e,t){const n=[];for(let i of e)this.updateStateForChar(i,t,n);return pi.simplifyStates(n)}updateStateForChar(e,t,n){let i=this.text[t]&255,r=Mr[e.getMode()][i]>0,l=null;for(let c=0;c<=xn;c++){let u=Mr[c][i];if(u>0){if(l==null&&(l=e.endBinaryShift(t)),!r||c===e.getMode()||c===on){const g=l.latchAndAppend(c,u);n.push(g)}if(!r&&Os[e.getMode()][c]>=0){const g=l.shiftAndAppend(c,u);n.push(g)}}}if(e.getBinaryShiftByteCount()>0||Mr[e.getMode()][i]===0){let c=e.addBinaryShiftChar(t);n.push(c)}}static updateStateListForPair(e,t,n){const i=[];for(let r of e)this.updateStateForPair(r,t,n,i);return this.simplifyStates(i)}static updateStateForPair(e,t,n,i){let r=e.endBinaryShift(t);if(i.push(r.latchAndAppend(xn,n)),e.getMode()!==xn&&i.push(r.shiftAndAppend(xn,n)),n===3||n===4){let l=r.latchAndAppend(on,16-n).latchAndAppend(on,1);i.push(l)}if(e.getBinaryShiftByteCount()>0){let l=e.addBinaryShiftChar(t).addBinaryShiftChar(t+1);i.push(l)}}static simplifyStates(e){let t=[];for(const n of e){let i=!0;for(const r of t){if(r.isBetterThanOrEqualTo(n)){i=!1;break}n.isBetterThanOrEqualTo(r)&&(t=t.filter(l=>l!==r))}i&&t.push(n)}return t}}class Ve{constructor(){}static encodeBytes(e){return Ve.encode(e,Ve.DEFAULT_EC_PERCENT,Ve.DEFAULT_AZTEC_LAYERS)}static encode(e,t,n){let i=new pi(e).encode(),r=L.truncDivision(i.getSize()*t,100)+11,l=i.getSize()+r,c,u,g,E,b;if(n!==Ve.DEFAULT_AZTEC_LAYERS){if(c=n<0,u=Math.abs(n),u>(c?Ve.MAX_NB_BITS_COMPACT:Ve.MAX_NB_BITS))throw new I(ie.format("Illegal value %s for layers",n));g=Ve.totalBitsInLayer(u,c),E=Ve.WORD_SIZE[u];let J=g-g%E;if(b=Ve.stuffBits(i,E),b.getSize()+r>J)throw new I("Data to large for user specified layer");if(c&&b.getSize()>E*64)throw new I("Data to large for user specified layer")}else{E=0,b=null;for(let J=0;;J++){if(J>Ve.MAX_NB_BITS)throw new I("Data too large for an Aztec code");if(c=J<=3,u=c?J+1:J,g=Ve.totalBitsInLayer(u,c),l>g)continue;(b==null||E!==Ve.WORD_SIZE[u])&&(E=Ve.WORD_SIZE[u],b=Ve.stuffBits(i,E));let ke=g-g%E;if(!(c&&b.getSize()>E*64)&&b.getSize()+r<=ke)break}}let _=Ve.generateCheckWords(b,g,E),T=b.getSize()/E,N=Ve.generateModeMessage(c,u,T),O=(c?11:14)+u*4,k=new Int32Array(O),G;if(c){G=O;for(let J=0;J<k.length;J++)k[J]=J}else{G=O+1+2*L.truncDivision(L.truncDivision(O,2)-1,15);let J=L.truncDivision(O,2),ke=L.truncDivision(G,2);for(let Oe=0;Oe<J;Oe++){let jt=Oe+L.truncDivision(Oe,15);k[J-Oe-1]=ke-jt-1,k[J+Oe]=ke+jt+1}}let $=new fe(G);for(let J=0,ke=0;J<u;J++){let Oe=(u-J)*4+(c?9:12);for(let jt=0;jt<Oe;jt++){let fn=jt*2;for(let Zt=0;Zt<2;Zt++)_.get(ke+fn+Zt)&&$.set(k[J*2+Zt],k[J*2+jt]),_.get(ke+Oe*2+fn+Zt)&&$.set(k[J*2+jt],k[O-1-J*2-Zt]),_.get(ke+Oe*4+fn+Zt)&&$.set(k[O-1-J*2-Zt],k[O-1-J*2-jt]),_.get(ke+Oe*6+fn+Zt)&&$.set(k[O-1-J*2-jt],k[J*2+Zt])}ke+=Oe*8}if(Ve.drawModeMessage($,c,G,N),c)Ve.drawBullsEye($,L.truncDivision(G,2),5);else{Ve.drawBullsEye($,L.truncDivision(G,2),7);for(let J=0,ke=0;J<L.truncDivision(O,2)-1;J+=15,ke+=16)for(let Oe=L.truncDivision(G,2)&1;Oe<G;Oe+=2)$.set(L.truncDivision(G,2)-ke,Oe),$.set(L.truncDivision(G,2)+ke,Oe),$.set(Oe,L.truncDivision(G,2)-ke),$.set(Oe,L.truncDivision(G,2)+ke)}let ne=new Ss;return ne.setCompact(c),ne.setSize(G),ne.setLayers(u),ne.setCodeWords(T),ne.setMatrix($),ne}static drawBullsEye(e,t,n){for(let i=0;i<n;i+=2)for(let r=t-i;r<=t+i;r++)e.set(r,t-i),e.set(r,t+i),e.set(t-i,r),e.set(t+i,r);e.set(t-n,t-n),e.set(t-n+1,t-n),e.set(t-n,t-n+1),e.set(t+n,t-n),e.set(t+n,t-n+1),e.set(t+n,t+n-1)}static generateModeMessage(e,t,n){let i=new z;return e?(i.appendBits(t-1,2),i.appendBits(n-1,6),i=Ve.generateCheckWords(i,28,4)):(i.appendBits(t-1,5),i.appendBits(n-1,11),i=Ve.generateCheckWords(i,40,4)),i}static drawModeMessage(e,t,n,i){let r=L.truncDivision(n,2);if(t)for(let l=0;l<7;l++){let c=r-3+l;i.get(l)&&e.set(c,r-5),i.get(l+7)&&e.set(r+5,c),i.get(20-l)&&e.set(c,r+5),i.get(27-l)&&e.set(r-5,c)}else for(let l=0;l<10;l++){let c=r-5+l+L.truncDivision(l,5);i.get(l)&&e.set(c,r-7),i.get(l+10)&&e.set(r+7,c),i.get(29-l)&&e.set(c,r+7),i.get(39-l)&&e.set(r-7,c)}}static generateCheckWords(e,t,n){let i=e.getSize()/n,r=new Sr(Ve.getGF(n)),l=L.truncDivision(t,n),c=Ve.bitsToWords(e,n,l);r.encode(c,l-i);let u=t%n,g=new z;g.appendBits(0,u);for(const E of Array.from(c))g.appendBits(E,n);return g}static bitsToWords(e,t,n){let i=new Int32Array(n),r,l;for(r=0,l=e.getSize()/t;r<l;r++){let c=0;for(let u=0;u<t;u++)c|=e.get(r*t+u)?1<<t-u-1:0;i[r]=c}return i}static getGF(e){switch(e){case 4:return Ue.AZTEC_PARAM;case 6:return Ue.AZTEC_DATA_6;case 8:return Ue.AZTEC_DATA_8;case 10:return Ue.AZTEC_DATA_10;case 12:return Ue.AZTEC_DATA_12;default:throw new I("Unsupported word size "+e)}}static stuffBits(e,t){let n=new z,i=e.getSize(),r=(1<<t)-2;for(let l=0;l<i;l+=t){let c=0;for(let u=0;u<t;u++)(l+u>=i||e.get(l+u))&&(c|=1<<t-1-u);(c&r)===r?(n.appendBits(c&r,t),l--):(c&r)===0?(n.appendBits(c|1,t),l--):n.appendBits(c,t)}return n}static totalBitsInLayer(e,t){return((t?88:112)+16*e)*e}}Ve.DEFAULT_EC_PERCENT=33,Ve.DEFAULT_AZTEC_LAYERS=0,Ve.MAX_NB_BITS=32,Ve.MAX_NB_BITS_COMPACT=4,Ve.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class ji{encode(e,t,n,i){return this.encodeWithHints(e,t,n,i,null)}encodeWithHints(e,t,n,i,r){let l=Rr.ISO_8859_1,c=Ve.DEFAULT_EC_PERCENT,u=Ve.DEFAULT_AZTEC_LAYERS;return r!=null&&(r.has(It.CHARACTER_SET)&&(l=ys.forName(r.get(It.CHARACTER_SET).toString())),r.has(It.ERROR_CORRECTION)&&(c=L.parseInt(r.get(It.ERROR_CORRECTION).toString())),r.has(It.AZTEC_LAYERS)&&(u=L.parseInt(r.get(It.AZTEC_LAYERS).toString()))),ji.encodeLayers(e,t,n,i,l,c,u)}static encodeLayers(e,t,n,i,r,l,c){if(t!==be.AZTEC)throw new I("Can only encode AZTEC, but got "+t);let u=Ve.encode(ie.getBytes(e,r),l,c);return ji.renderResult(u,n,i)}static renderResult(e,t,n){let i=e.getMatrix();if(i==null)throw new en;let r=i.getWidth(),l=i.getHeight(),c=Math.max(t,r),u=Math.max(n,l),g=Math.min(c/r,u/l),E=(c-r*g)/2,b=(u-l*g)/2,_=new fe(c,u);for(let T=0,N=b;T<l;T++,N+=g)for(let O=0,k=E;O<r;O++,k+=g)i.get(O,T)&&_.setRegion(k,N,g,g);return _}}a.ArgumentException=m,a.ArithmeticException=qn,a.AztecCode=Ss,a.AztecCodeReader=Fi,a.AztecCodeWriter=ji,a.AztecDecoder=Ke,a.AztecDetector=gs,a.AztecDetectorResult=re,a.AztecEncoder=Ve,a.AztecHighLevelEncoder=pi,a.AztecPoint=Ft,a.BarcodeFormat=be,a.Binarizer=R,a.BinaryBitmap=M,a.BitArray=z,a.BitMatrix=fe,a.BitSource=br,a.BrowserAztecCodeReader=T1,a.BrowserBarcodeReader=M1,a.BrowserCodeReader=zt,a.BrowserDatamatrixCodeReader=P1,a.BrowserMultiFormatReader=X1,a.BrowserPDF417Reader=Y1,a.BrowserQRCodeReader=j1,a.BrowserQRCodeSvgWriter=jn,a.CharacterSetECI=U,a.ChecksumException=B,a.Code128Reader=oe,a.Code39Reader=bt,a.DataMatrixDecodedBitStreamParser=On,a.DataMatrixReader=Dn,a.DecodeHintType=W,a.DecoderResult=Un,a.DefaultGridSampler=ds,a.DetectorResult=Qn,a.EAN13Reader=Gn,a.EncodeHintType=It,a.Exception=A,a.FormatException=P,a.GenericGF=Ue,a.GenericGFPoly=Lt,a.GlobalHistogramBinarizer=le,a.GridSampler=Sn,a.GridSamplerInstance=Nn,a.HTMLCanvasElementLuminanceSource=Xe,a.HybridBinarizer=ue,a.ITFReader=Qe,a.IllegalArgumentException=I,a.IllegalStateException=en,a.InvertedLuminanceSource=Ae,a.LuminanceSource=te,a.MathUtils=ve,a.MultiFormatOneDReader=ni,a.MultiFormatReader=Ts,a.MultiFormatWriter=K1,a.NotFoundException=S,a.OneDReader=Et,a.PDF417DecodedBitStreamParser=H,a.PDF417DecoderErrorCorrection=As,a.PDF417Reader=Dt,a.PDF417ResultMetadata=bs,a.PerspectiveTransform=Rt,a.PlanarYUVLuminanceSource=gn,a.QRCodeByteMatrix=Xi,a.QRCodeDataMask=rn,a.QRCodeDecodedBitStreamParser=lt,a.QRCodeDecoderErrorCorrectionLevel=tt,a.QRCodeDecoderFormatInformation=vt,a.QRCodeEncoder=it,a.QRCodeEncoderQRCode=Yn,a.QRCodeMaskUtil=dt,a.QRCodeMatrixUtil=Te,a.QRCodeMode=pe,a.QRCodeReader=Mn,a.QRCodeVersion=Ce,a.QRCodeWriter=ri,a.RGBLuminanceSource=Nr,a.RSS14Reader=ht,a.RSSExpandedReader=K,a.ReaderException=Wi,a.ReedSolomonDecoder=Hn,a.ReedSolomonEncoder=Sr,a.ReedSolomonException=yn,a.Result=ft,a.ResultMetadataType=mt,a.ResultPoint=Ee,a.StringUtils=ie,a.UnsupportedOperationException=q,a.VideoInputDevice=xt,a.WhiteRectangleDetector=tn,a.WriterException=$e,a.ZXingArrays=V,a.ZXingCharset=ys,a.ZXingInteger=L,a.ZXingStandardCharsets=Rr,a.ZXingStringBuilder=Q,a.ZXingStringEncoding=he,a.ZXingSystem=y,Object.defineProperty(a,"__esModule",{value:!0})})})(Ao,Ao.exports);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var Co;(function(o){o[o.UNKNOWN=0]="UNKNOWN",o[o.NOT_STARTED=1]="NOT_STARTED",o[o.SCANNING=2]="SCANNING",o[o.PAUSED=3]="PAUSED"})(Co||(Co={}));var J0=globalThis&&globalThis.__extends||function(){var o=function(s,a){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var d in h)Object.prototype.hasOwnProperty.call(h,d)&&(f[d]=h[d])},o(s,a)};return function(s,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");o(s,a);function f(){this.constructor=s}s.prototype=a===null?Object.create(a):(f.prototype=a.prototype,new f)}}();(function(o){J0(s,o);function s(){return o!==null&&o.apply(this,arguments)||this}return s.DEFAULT_WIDTH=300,s.DEFAULT_WIDTH_OFFSET=2,s.FILE_SCAN_MIN_HEIGHT=300,s.MIN_QR_BOX_SIZE=50,s.SHADED_LEFT=1,s.SHADED_RIGHT=2,s.SHADED_TOP=3,s.SHADED_BOTTOM=4,s.SHADED_REGION_ELEMENT_ID="qr-shaded-region",s.VERBOSE=!1,s.BORDER_SHADER_DEFAULT_COLOR="#ffffff",s.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",s})(q0);globalThis&&globalThis.__awaiter;globalThis&&globalThis.__generator;var bo;(function(o){o[o.STATUS_DEFAULT=0]="STATUS_DEFAULT",o[o.STATUS_SUCCESS=1]="STATUS_SUCCESS",o[o.STATUS_WARNING=2]="STATUS_WARNING",o[o.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(bo||(bo={}));var ki={},Q0=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},c1={},$t={};let as;const $0=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];$t.getSymbolSize=function(s){if(!s)throw new Error('"version" cannot be null or undefined');if(s<1||s>40)throw new Error('"version" should be in range from 1 to 40');return s*4+17};$t.getSymbolTotalCodewords=function(s){return $0[s]};$t.getBCHDigit=function(o){let s=0;for(;o!==0;)s++,o>>>=1;return s};$t.setToSJISFunction=function(s){if(typeof s!="function")throw new Error('"toSJISFunc" is not a valid function.');as=s};$t.isKanjiModeEnabled=function(){return typeof as<"u"};$t.toSJIS=function(s){return as(s)};var ur={};(function(o){o.L={bit:1},o.M={bit:0},o.Q={bit:3},o.H={bit:2};function s(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"l":case"low":return o.L;case"m":case"medium":return o.M;case"q":case"quartile":return o.Q;case"h":case"high":return o.H;default:throw new Error("Unknown EC Level: "+a)}}o.isValid=function(f){return f&&typeof f.bit<"u"&&f.bit>=0&&f.bit<4},o.from=function(f,h){if(o.isValid(f))return f;try{return s(f)}catch{return h}}})(ur);function f1(){this.buffer=[],this.length=0}f1.prototype={get:function(o){const s=Math.floor(o/8);return(this.buffer[s]>>>7-o%8&1)===1},put:function(o,s){for(let a=0;a<s;a++)this.putBit((o>>>s-a-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(o){const s=Math.floor(this.length/8);this.buffer.length<=s&&this.buffer.push(0),o&&(this.buffer[s]|=128>>>this.length%8),this.length++}};var ec=f1;function vi(o){if(!o||o<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=o,this.data=new Uint8Array(o*o),this.reservedBit=new Uint8Array(o*o)}vi.prototype.set=function(o,s,a,f){const h=o*this.size+s;this.data[h]=a,f&&(this.reservedBit[h]=!0)};vi.prototype.get=function(o,s){return this.data[o*this.size+s]};vi.prototype.xor=function(o,s,a){this.data[o*this.size+s]^=a};vi.prototype.isReserved=function(o,s){return this.reservedBit[o*this.size+s]};var tc=vi,u1={};(function(o){const s=$t.getSymbolSize;o.getRowColCoords=function(f){if(f===1)return[];const h=Math.floor(f/7)+2,d=s(f),x=d===145?26:Math.ceil((d-13)/(2*h-2))*2,w=[d-7];for(let A=1;A<h-1;A++)w[A]=w[A-1]-x;return w.push(6),w.reverse()},o.getPositions=function(f){const h=[],d=o.getRowColCoords(f),x=d.length;for(let w=0;w<x;w++)for(let A=0;A<x;A++)w===0&&A===0||w===0&&A===x-1||w===x-1&&A===0||h.push([d[w],d[A]]);return h}})(u1);var h1={};const nc=$t.getSymbolSize,_o=7;h1.getPositions=function(s){const a=nc(s);return[[0,0],[a-_o,0],[0,a-_o]]};var d1={};(function(o){o.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const s={N1:3,N2:3,N3:40,N4:10};o.isValid=function(h){return h!=null&&h!==""&&!isNaN(h)&&h>=0&&h<=7},o.from=function(h){return o.isValid(h)?parseInt(h,10):void 0},o.getPenaltyN1=function(h){const d=h.size;let x=0,w=0,A=0,m=null,I=null;for(let M=0;M<d;M++){w=A=0,m=I=null;for(let B=0;B<d;B++){let R=h.get(M,B);R===m?w++:(w>=5&&(x+=s.N1+(w-5)),m=R,w=1),R=h.get(B,M),R===I?A++:(A>=5&&(x+=s.N1+(A-5)),I=R,A=1)}w>=5&&(x+=s.N1+(w-5)),A>=5&&(x+=s.N1+(A-5))}return x},o.getPenaltyN2=function(h){const d=h.size;let x=0;for(let w=0;w<d-1;w++)for(let A=0;A<d-1;A++){const m=h.get(w,A)+h.get(w,A+1)+h.get(w+1,A)+h.get(w+1,A+1);(m===4||m===0)&&x++}return x*s.N2},o.getPenaltyN3=function(h){const d=h.size;let x=0,w=0,A=0;for(let m=0;m<d;m++){w=A=0;for(let I=0;I<d;I++)w=w<<1&2047|h.get(m,I),I>=10&&(w===1488||w===93)&&x++,A=A<<1&2047|h.get(I,m),I>=10&&(A===1488||A===93)&&x++}return x*s.N3},o.getPenaltyN4=function(h){let d=0;const x=h.data.length;for(let A=0;A<x;A++)d+=h.data[A];return Math.abs(Math.ceil(d*100/x/5)-10)*s.N4};function a(f,h,d){switch(f){case o.Patterns.PATTERN000:return(h+d)%2===0;case o.Patterns.PATTERN001:return h%2===0;case o.Patterns.PATTERN010:return d%3===0;case o.Patterns.PATTERN011:return(h+d)%3===0;case o.Patterns.PATTERN100:return(Math.floor(h/2)+Math.floor(d/3))%2===0;case o.Patterns.PATTERN101:return h*d%2+h*d%3===0;case o.Patterns.PATTERN110:return(h*d%2+h*d%3)%2===0;case o.Patterns.PATTERN111:return(h*d%3+(h+d)%2)%2===0;default:throw new Error("bad maskPattern:"+f)}}o.applyMask=function(h,d){const x=d.size;for(let w=0;w<x;w++)for(let A=0;A<x;A++)d.isReserved(A,w)||d.xor(A,w,a(h,A,w))},o.getBestMask=function(h,d){const x=Object.keys(o.Patterns).length;let w=0,A=1/0;for(let m=0;m<x;m++){d(m),o.applyMask(m,h);const I=o.getPenaltyN1(h)+o.getPenaltyN2(h)+o.getPenaltyN3(h)+o.getPenaltyN4(h);o.applyMask(m,h),I<A&&(A=I,w=m)}return w}})(d1);var hr={};const kn=ur,qi=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],Ji=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];hr.getBlocksCount=function(s,a){switch(a){case kn.L:return qi[(s-1)*4+0];case kn.M:return qi[(s-1)*4+1];case kn.Q:return qi[(s-1)*4+2];case kn.H:return qi[(s-1)*4+3];default:return}};hr.getTotalCodewordsCount=function(s,a){switch(a){case kn.L:return Ji[(s-1)*4+0];case kn.M:return Ji[(s-1)*4+1];case kn.Q:return Ji[(s-1)*4+2];case kn.H:return Ji[(s-1)*4+3];default:return}};var g1={},dr={};const Oi=new Uint8Array(512),rr=new Uint8Array(256);(function(){let s=1;for(let a=0;a<255;a++)Oi[a]=s,rr[s]=a,s<<=1,s&256&&(s^=285);for(let a=255;a<512;a++)Oi[a]=Oi[a-255]})();dr.log=function(s){if(s<1)throw new Error("log("+s+")");return rr[s]};dr.exp=function(s){return Oi[s]};dr.mul=function(s,a){return s===0||a===0?0:Oi[rr[s]+rr[a]]};(function(o){const s=dr;o.mul=function(f,h){const d=new Uint8Array(f.length+h.length-1);for(let x=0;x<f.length;x++)for(let w=0;w<h.length;w++)d[x+w]^=s.mul(f[x],h[w]);return d},o.mod=function(f,h){let d=new Uint8Array(f);for(;d.length-h.length>=0;){const x=d[0];for(let A=0;A<h.length;A++)d[A]^=s.mul(h[A],x);let w=0;for(;w<d.length&&d[w]===0;)w++;d=d.slice(w)}return d},o.generateECPolynomial=function(f){let h=new Uint8Array([1]);for(let d=0;d<f;d++)h=o.mul(h,new Uint8Array([1,s.exp(d)]));return h}})(g1);const x1=g1;function cs(o){this.genPoly=void 0,this.degree=o,this.degree&&this.initialize(this.degree)}cs.prototype.initialize=function(s){this.degree=s,this.genPoly=x1.generateECPolynomial(this.degree)};cs.prototype.encode=function(s){if(!this.genPoly)throw new Error("Encoder not initialized");const a=new Uint8Array(s.length+this.degree);a.set(s);const f=x1.mod(a,this.genPoly),h=this.degree-f.length;if(h>0){const d=new Uint8Array(this.degree);return d.set(f,h),d}return f};var ic=cs,w1={},Fn={},fs={};fs.isValid=function(s){return!isNaN(s)&&s>=1&&s<=40};var In={};const m1="[0-9]+",rc="[A-Z $%*+\\-./:]+";let Bi="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";Bi=Bi.replace(/u/g,"\\u");const sc="(?:(?![A-Z0-9 $%*+\\-./:]|"+Bi+`)(?:.|[\r
]))+`;In.KANJI=new RegExp(Bi,"g");In.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");In.BYTE=new RegExp(sc,"g");In.NUMERIC=new RegExp(m1,"g");In.ALPHANUMERIC=new RegExp(rc,"g");const oc=new RegExp("^"+Bi+"$"),lc=new RegExp("^"+m1+"$"),ac=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");In.testKanji=function(s){return oc.test(s)};In.testNumeric=function(s){return lc.test(s)};In.testAlphanumeric=function(s){return ac.test(s)};(function(o){const s=fs,a=In;o.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},o.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},o.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},o.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},o.MIXED={bit:-1},o.getCharCountIndicator=function(d,x){if(!d.ccBits)throw new Error("Invalid mode: "+d);if(!s.isValid(x))throw new Error("Invalid version: "+x);return x>=1&&x<10?d.ccBits[0]:x<27?d.ccBits[1]:d.ccBits[2]},o.getBestModeForData=function(d){return a.testNumeric(d)?o.NUMERIC:a.testAlphanumeric(d)?o.ALPHANUMERIC:a.testKanji(d)?o.KANJI:o.BYTE},o.toString=function(d){if(d&&d.id)return d.id;throw new Error("Invalid mode")},o.isValid=function(d){return d&&d.bit&&d.ccBits};function f(h){if(typeof h!="string")throw new Error("Param is not a string");switch(h.toLowerCase()){case"numeric":return o.NUMERIC;case"alphanumeric":return o.ALPHANUMERIC;case"kanji":return o.KANJI;case"byte":return o.BYTE;default:throw new Error("Unknown mode: "+h)}}o.from=function(d,x){if(o.isValid(d))return d;try{return f(d)}catch{return x}}})(Fn);(function(o){const s=$t,a=hr,f=ur,h=Fn,d=fs,x=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,w=s.getBCHDigit(x);function A(B,R,y){for(let D=1;D<=40;D++)if(R<=o.getCapacity(D,y,B))return D}function m(B,R){return h.getCharCountIndicator(B,R)+4}function I(B,R){let y=0;return B.forEach(function(D){const se=m(D.mode,R);y+=se+D.getBitsLength()}),y}function M(B,R){for(let y=1;y<=40;y++)if(I(B,y)<=o.getCapacity(y,R,h.MIXED))return y}o.from=function(R,y){return d.isValid(R)?parseInt(R,10):y},o.getCapacity=function(R,y,D){if(!d.isValid(R))throw new Error("Invalid QR Code version");typeof D>"u"&&(D=h.BYTE);const se=s.getSymbolTotalCodewords(R),V=a.getTotalCodewordsCount(R,y),L=(se-V)*8;if(D===h.MIXED)return L;const z=L-m(D,R);switch(D){case h.NUMERIC:return Math.floor(z/10*3);case h.ALPHANUMERIC:return Math.floor(z/11*2);case h.KANJI:return Math.floor(z/13);case h.BYTE:default:return Math.floor(z/8)}},o.getBestVersionForData=function(R,y){let D;const se=f.from(y,f.M);if(Array.isArray(R)){if(R.length>1)return M(R,se);if(R.length===0)return 1;D=R[0]}else D=R;return A(D.mode,D.getLength(),se)},o.getEncodedBits=function(R){if(!d.isValid(R)||R<7)throw new Error("Invalid QR Code version");let y=R<<12;for(;s.getBCHDigit(y)-w>=0;)y^=x<<s.getBCHDigit(y)-w;return R<<12|y}})(w1);var E1={};const Kr=$t,A1=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,cc=1<<14|1<<12|1<<10|1<<4|1<<1,Io=Kr.getBCHDigit(A1);E1.getEncodedBits=function(s,a){const f=s.bit<<3|a;let h=f<<10;for(;Kr.getBCHDigit(h)-Io>=0;)h^=A1<<Kr.getBCHDigit(h)-Io;return(f<<10|h)^cc};var C1={};const fc=Fn;function ci(o){this.mode=fc.NUMERIC,this.data=o.toString()}ci.getBitsLength=function(s){return 10*Math.floor(s/3)+(s%3?s%3*3+1:0)};ci.prototype.getLength=function(){return this.data.length};ci.prototype.getBitsLength=function(){return ci.getBitsLength(this.data.length)};ci.prototype.write=function(s){let a,f,h;for(a=0;a+3<=this.data.length;a+=3)f=this.data.substr(a,3),h=parseInt(f,10),s.put(h,10);const d=this.data.length-a;d>0&&(f=this.data.substr(a),h=parseInt(f,10),s.put(h,d*3+1))};var uc=ci;const hc=Fn,kr=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function fi(o){this.mode=hc.ALPHANUMERIC,this.data=o}fi.getBitsLength=function(s){return 11*Math.floor(s/2)+6*(s%2)};fi.prototype.getLength=function(){return this.data.length};fi.prototype.getBitsLength=function(){return fi.getBitsLength(this.data.length)};fi.prototype.write=function(s){let a;for(a=0;a+2<=this.data.length;a+=2){let f=kr.indexOf(this.data[a])*45;f+=kr.indexOf(this.data[a+1]),s.put(f,11)}this.data.length%2&&s.put(kr.indexOf(this.data[a]),6)};var dc=fi,gc=function(s){for(var a=[],f=s.length,h=0;h<f;h++){var d=s.charCodeAt(h);if(d>=55296&&d<=56319&&f>h+1){var x=s.charCodeAt(h+1);x>=56320&&x<=57343&&(d=(d-55296)*1024+x-56320+65536,h+=1)}if(d<128){a.push(d);continue}if(d<2048){a.push(d>>6|192),a.push(d&63|128);continue}if(d<55296||d>=57344&&d<65536){a.push(d>>12|224),a.push(d>>6&63|128),a.push(d&63|128);continue}if(d>=65536&&d<=1114111){a.push(d>>18|240),a.push(d>>12&63|128),a.push(d>>6&63|128),a.push(d&63|128);continue}a.push(239,191,189)}return new Uint8Array(a).buffer};const xc=gc,wc=Fn;function ui(o){this.mode=wc.BYTE,typeof o=="string"&&(o=xc(o)),this.data=new Uint8Array(o)}ui.getBitsLength=function(s){return s*8};ui.prototype.getLength=function(){return this.data.length};ui.prototype.getBitsLength=function(){return ui.getBitsLength(this.data.length)};ui.prototype.write=function(o){for(let s=0,a=this.data.length;s<a;s++)o.put(this.data[s],8)};var mc=ui;const Ec=Fn,Ac=$t;function hi(o){this.mode=Ec.KANJI,this.data=o}hi.getBitsLength=function(s){return s*13};hi.prototype.getLength=function(){return this.data.length};hi.prototype.getBitsLength=function(){return hi.getBitsLength(this.data.length)};hi.prototype.write=function(o){let s;for(s=0;s<this.data.length;s++){let a=Ac.toSJIS(this.data[s]);if(a>=33088&&a<=40956)a-=33088;else if(a>=57408&&a<=60351)a-=49472;else throw new Error("Invalid SJIS character: "+this.data[s]+`
Make sure your charset is UTF-8`);a=(a>>>8&255)*192+(a&255),o.put(a,13)}};var Cc=hi,b1={exports:{}};(function(o){var s={single_source_shortest_paths:function(a,f,h){var d={},x={};x[f]=0;var w=s.PriorityQueue.make();w.push(f,0);for(var A,m,I,M,B,R,y,D,se;!w.empty();){A=w.pop(),m=A.value,M=A.cost,B=a[m]||{};for(I in B)B.hasOwnProperty(I)&&(R=B[I],y=M+R,D=x[I],se=typeof x[I]>"u",(se||D>y)&&(x[I]=y,w.push(I,y),d[I]=m))}if(typeof h<"u"&&typeof x[h]>"u"){var V=["Could not find a path from ",f," to ",h,"."].join("");throw new Error(V)}return d},extract_shortest_path_from_predecessor_list:function(a,f){for(var h=[],d=f;d;)h.push(d),a[d],d=a[d];return h.reverse(),h},find_path:function(a,f,h){var d=s.single_source_shortest_paths(a,f,h);return s.extract_shortest_path_from_predecessor_list(d,h)},PriorityQueue:{make:function(a){var f=s.PriorityQueue,h={},d;a=a||{};for(d in f)f.hasOwnProperty(d)&&(h[d]=f[d]);return h.queue=[],h.sorter=a.sorter||f.default_sorter,h},default_sorter:function(a,f){return a.cost-f.cost},push:function(a,f){var h={value:a,cost:f};this.queue.push(h),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};o.exports=s})(b1);(function(o){const s=Fn,a=uc,f=dc,h=mc,d=Cc,x=In,w=$t,A=b1.exports;function m(V){return unescape(encodeURIComponent(V)).length}function I(V,L,z){const Y=[];let W;for(;(W=V.exec(z))!==null;)Y.push({data:W[0],index:W.index,mode:L,length:W[0].length});return Y}function M(V){const L=I(x.NUMERIC,s.NUMERIC,V),z=I(x.ALPHANUMERIC,s.ALPHANUMERIC,V);let Y,W;return w.isKanjiModeEnabled()?(Y=I(x.BYTE,s.BYTE,V),W=I(x.KANJI,s.KANJI,V)):(Y=I(x.BYTE_KANJI,s.BYTE,V),W=[]),L.concat(z,Y,W).sort(function(ce,U){return ce.index-U.index}).map(function(ce){return{data:ce.data,mode:ce.mode,length:ce.length}})}function B(V,L){switch(L){case s.NUMERIC:return a.getBitsLength(V);case s.ALPHANUMERIC:return f.getBitsLength(V);case s.KANJI:return d.getBitsLength(V);case s.BYTE:return h.getBitsLength(V)}}function R(V){return V.reduce(function(L,z){const Y=L.length-1>=0?L[L.length-1]:null;return Y&&Y.mode===z.mode?(L[L.length-1].data+=z.data,L):(L.push(z),L)},[])}function y(V){const L=[];for(let z=0;z<V.length;z++){const Y=V[z];switch(Y.mode){case s.NUMERIC:L.push([Y,{data:Y.data,mode:s.ALPHANUMERIC,length:Y.length},{data:Y.data,mode:s.BYTE,length:Y.length}]);break;case s.ALPHANUMERIC:L.push([Y,{data:Y.data,mode:s.BYTE,length:Y.length}]);break;case s.KANJI:L.push([Y,{data:Y.data,mode:s.BYTE,length:m(Y.data)}]);break;case s.BYTE:L.push([{data:Y.data,mode:s.BYTE,length:m(Y.data)}])}}return L}function D(V,L){const z={},Y={start:{}};let W=["start"];for(let P=0;P<V.length;P++){const ce=V[P],U=[];for(let q=0;q<ce.length;q++){const he=ce[q],ie=""+P+q;U.push(ie),z[ie]={node:he,lastCount:0},Y[ie]={};for(let Q=0;Q<W.length;Q++){const fe=W[Q];z[fe]&&z[fe].node.mode===he.mode?(Y[fe][ie]=B(z[fe].lastCount+he.length,he.mode)-B(z[fe].lastCount,he.mode),z[fe].lastCount+=he.length):(z[fe]&&(z[fe].lastCount=he.length),Y[fe][ie]=B(he.length,he.mode)+4+s.getCharCountIndicator(he.mode,L))}}W=U}for(let P=0;P<W.length;P++)Y[W[P]].end=0;return{map:Y,table:z}}function se(V,L){let z;const Y=s.getBestModeForData(V);if(z=s.from(L,Y),z!==s.BYTE&&z.bit<Y.bit)throw new Error('"'+V+'" cannot be encoded with mode '+s.toString(z)+`.
 Suggested mode is: `+s.toString(Y));switch(z===s.KANJI&&!w.isKanjiModeEnabled()&&(z=s.BYTE),z){case s.NUMERIC:return new a(V);case s.ALPHANUMERIC:return new f(V);case s.KANJI:return new d(V);case s.BYTE:return new h(V)}}o.fromArray=function(L){return L.reduce(function(z,Y){return typeof Y=="string"?z.push(se(Y,null)):Y.data&&z.push(se(Y.data,Y.mode)),z},[])},o.fromString=function(L,z){const Y=M(L,w.isKanjiModeEnabled()),W=y(Y),P=D(W,z),ce=A.find_path(P.map,"start","end"),U=[];for(let q=1;q<ce.length-1;q++)U.push(P.table[ce[q]].node);return o.fromArray(R(U))},o.rawSplit=function(L){return o.fromArray(M(L,w.isKanjiModeEnabled()))}})(C1);const gr=$t,vr=ur,bc=ec,_c=tc,Ic=u1,pc=h1,qr=d1,Jr=hr,Tc=ic,sr=w1,yc=E1,Sc=Fn,Fr=C1;function Nc(o,s){const a=o.size,f=pc.getPositions(s);for(let h=0;h<f.length;h++){const d=f[h][0],x=f[h][1];for(let w=-1;w<=7;w++)if(!(d+w<=-1||a<=d+w))for(let A=-1;A<=7;A++)x+A<=-1||a<=x+A||(w>=0&&w<=6&&(A===0||A===6)||A>=0&&A<=6&&(w===0||w===6)||w>=2&&w<=4&&A>=2&&A<=4?o.set(d+w,x+A,!0,!0):o.set(d+w,x+A,!1,!0))}}function Rc(o){const s=o.size;for(let a=8;a<s-8;a++){const f=a%2===0;o.set(a,6,f,!0),o.set(6,a,f,!0)}}function Oc(o,s){const a=Ic.getPositions(s);for(let f=0;f<a.length;f++){const h=a[f][0],d=a[f][1];for(let x=-2;x<=2;x++)for(let w=-2;w<=2;w++)x===-2||x===2||w===-2||w===2||x===0&&w===0?o.set(h+x,d+w,!0,!0):o.set(h+x,d+w,!1,!0)}}function Dc(o,s){const a=o.size,f=sr.getEncodedBits(s);let h,d,x;for(let w=0;w<18;w++)h=Math.floor(w/3),d=w%3+a-8-3,x=(f>>w&1)===1,o.set(h,d,x,!0),o.set(d,h,x,!0)}function Ur(o,s,a){const f=o.size,h=yc.getEncodedBits(s,a);let d,x;for(d=0;d<15;d++)x=(h>>d&1)===1,d<6?o.set(d,8,x,!0):d<8?o.set(d+1,8,x,!0):o.set(f-15+d,8,x,!0),d<8?o.set(8,f-d-1,x,!0):d<9?o.set(8,15-d-1+1,x,!0):o.set(8,15-d-1,x,!0);o.set(f-8,8,1,!0)}function Mc(o,s){const a=o.size;let f=-1,h=a-1,d=7,x=0;for(let w=a-1;w>0;w-=2)for(w===6&&w--;;){for(let A=0;A<2;A++)if(!o.isReserved(h,w-A)){let m=!1;x<s.length&&(m=(s[x]>>>d&1)===1),o.set(h,w-A,m),d--,d===-1&&(x++,d=7)}if(h+=f,h<0||a<=h){h-=f,f=-f;break}}}function Bc(o,s,a){const f=new bc;a.forEach(function(A){f.put(A.mode.bit,4),f.put(A.getLength(),Sc.getCharCountIndicator(A.mode,o)),A.write(f)});const h=gr.getSymbolTotalCodewords(o),d=Jr.getTotalCodewordsCount(o,s),x=(h-d)*8;for(f.getLengthInBits()+4<=x&&f.put(0,4);f.getLengthInBits()%8!==0;)f.putBit(0);const w=(x-f.getLengthInBits())/8;for(let A=0;A<w;A++)f.put(A%2?17:236,8);return Pc(f,o,s)}function Pc(o,s,a){const f=gr.getSymbolTotalCodewords(s),h=Jr.getTotalCodewordsCount(s,a),d=f-h,x=Jr.getBlocksCount(s,a),w=f%x,A=x-w,m=Math.floor(f/x),I=Math.floor(d/x),M=I+1,B=m-I,R=new Tc(B);let y=0;const D=new Array(x),se=new Array(x);let V=0;const L=new Uint8Array(o.buffer);for(let ce=0;ce<x;ce++){const U=ce<A?I:M;D[ce]=L.slice(y,y+U),se[ce]=R.encode(D[ce]),y+=U,V=Math.max(V,U)}const z=new Uint8Array(f);let Y=0,W,P;for(W=0;W<V;W++)for(P=0;P<x;P++)W<D[P].length&&(z[Y++]=D[P][W]);for(W=0;W<B;W++)for(P=0;P<x;P++)z[Y++]=se[P][W];return z}function Lc(o,s,a,f){let h;if(Array.isArray(o))h=Fr.fromArray(o);else if(typeof o=="string"){let m=s;if(!m){const I=Fr.rawSplit(o);m=sr.getBestVersionForData(I,a)}h=Fr.fromString(o,m||40)}else throw new Error("Invalid data");const d=sr.getBestVersionForData(h,a);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(!s)s=d;else if(s<d)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+d+`.
`);const x=Bc(s,a,h),w=gr.getSymbolSize(s),A=new _c(w);return Nc(A,s),Rc(A),Oc(A,s),Ur(A,a,0),s>=7&&Dc(A,s),Mc(A,x),isNaN(f)&&(f=qr.getBestMask(A,Ur.bind(null,A,a))),qr.applyMask(f,A),Ur(A,a,f),{modules:A,version:s,errorCorrectionLevel:a,maskPattern:f,segments:h}}c1.create=function(s,a){if(typeof s>"u"||s==="")throw new Error("No input text");let f=vr.M,h,d;return typeof a<"u"&&(f=vr.from(a.errorCorrectionLevel,vr.M),h=sr.from(a.version),d=qr.from(a.maskPattern),a.toSJISFunc&&gr.setToSJISFunction(a.toSJISFunc)),Lc(s,h,f,d)};var _1={},us={};(function(o){function s(a){if(typeof a=="number"&&(a=a.toString()),typeof a!="string")throw new Error("Color should be defined as hex string");let f=a.slice().replace("#","").split("");if(f.length<3||f.length===5||f.length>8)throw new Error("Invalid hex color: "+a);(f.length===3||f.length===4)&&(f=Array.prototype.concat.apply([],f.map(function(d){return[d,d]}))),f.length===6&&f.push("F","F");const h=parseInt(f.join(""),16);return{r:h>>24&255,g:h>>16&255,b:h>>8&255,a:h&255,hex:"#"+f.slice(0,6).join("")}}o.getOptions=function(f){f||(f={}),f.color||(f.color={});const h=typeof f.margin>"u"||f.margin===null||f.margin<0?4:f.margin,d=f.width&&f.width>=21?f.width:void 0,x=f.scale||4;return{width:d,scale:d?4:x,margin:h,color:{dark:s(f.color.dark||"#000000ff"),light:s(f.color.light||"#ffffffff")},type:f.type,rendererOpts:f.rendererOpts||{}}},o.getScale=function(f,h){return h.width&&h.width>=f+h.margin*2?h.width/(f+h.margin*2):h.scale},o.getImageWidth=function(f,h){const d=o.getScale(f,h);return Math.floor((f+h.margin*2)*d)},o.qrToImageData=function(f,h,d){const x=h.modules.size,w=h.modules.data,A=o.getScale(x,d),m=Math.floor((x+d.margin*2)*A),I=d.margin*A,M=[d.color.light,d.color.dark];for(let B=0;B<m;B++)for(let R=0;R<m;R++){let y=(B*m+R)*4,D=d.color.light;if(B>=I&&R>=I&&B<m-I&&R<m-I){const se=Math.floor((B-I)/A),V=Math.floor((R-I)/A);D=M[w[se*x+V]?1:0]}f[y++]=D.r,f[y++]=D.g,f[y++]=D.b,f[y]=D.a}}})(us);(function(o){const s=us;function a(h,d,x){h.clearRect(0,0,d.width,d.height),d.style||(d.style={}),d.height=x,d.width=x,d.style.height=x+"px",d.style.width=x+"px"}function f(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}o.render=function(d,x,w){let A=w,m=x;typeof A>"u"&&(!x||!x.getContext)&&(A=x,x=void 0),x||(m=f()),A=s.getOptions(A);const I=s.getImageWidth(d.modules.size,A),M=m.getContext("2d"),B=M.createImageData(I,I);return s.qrToImageData(B.data,d,A),a(M,m,I),M.putImageData(B,0,0),m},o.renderToDataURL=function(d,x,w){let A=w;typeof A>"u"&&(!x||!x.getContext)&&(A=x,x=void 0),A||(A={});const m=o.render(d,x,A),I=A.type||"image/png",M=A.rendererOpts||{};return m.toDataURL(I,M.quality)}})(_1);var I1={};const kc=us;function po(o,s){const a=o.a/255,f=s+'="'+o.hex+'"';return a<1?f+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':f}function Vr(o,s,a){let f=o+s;return typeof a<"u"&&(f+=" "+a),f}function vc(o,s,a){let f="",h=0,d=!1,x=0;for(let w=0;w<o.length;w++){const A=Math.floor(w%s),m=Math.floor(w/s);!A&&!d&&(d=!0),o[w]?(x++,w>0&&A>0&&o[w-1]||(f+=d?Vr("M",A+a,.5+m+a):Vr("m",h,0),h=0,d=!1),A+1<s&&o[w+1]||(f+=Vr("h",x),x=0)):h++}return f}I1.render=function(s,a,f){const h=kc.getOptions(a),d=s.modules.size,x=s.modules.data,w=d+h.margin*2,A=h.color.light.a?"<path "+po(h.color.light,"fill")+' d="M0 0h'+w+"v"+w+'H0z"/>':"",m="<path "+po(h.color.dark,"stroke")+' d="'+vc(x,d,h.margin)+'"/>',I='viewBox="0 0 '+w+" "+w+'"',B='<svg xmlns="http://www.w3.org/2000/svg" '+(h.width?'width="'+h.width+'" height="'+h.width+'" ':"")+I+' shape-rendering="crispEdges">'+A+m+`</svg>
`;return typeof f=="function"&&f(null,B),B};const Fc=Q0,Qr=c1,p1=_1,Uc=I1;function hs(o,s,a,f,h){const d=[].slice.call(arguments,1),x=d.length,w=typeof d[x-1]=="function";if(!w&&!Fc())throw new Error("Callback required as last argument");if(w){if(x<2)throw new Error("Too few arguments provided");x===2?(h=a,a=s,s=f=void 0):x===3&&(s.getContext&&typeof h>"u"?(h=f,f=void 0):(h=f,f=a,a=s,s=void 0))}else{if(x<1)throw new Error("Too few arguments provided");return x===1?(a=s,s=f=void 0):x===2&&!s.getContext&&(f=a,a=s,s=void 0),new Promise(function(A,m){try{const I=Qr.create(a,f);A(o(I,s,f))}catch(I){m(I)}})}try{const A=Qr.create(a,f);h(null,o(A,s,f))}catch(A){h(A)}}ki.create=Qr.create;ki.toCanvas=hs.bind(null,p1.render);ki.toDataURL=hs.bind(null,p1.renderToDataURL);ki.toString=hs.bind(null,function(o,s,a){return Uc.render(o,a)});const{document:To}=bl;function yo(o,s,a){const f=o.slice();return f[9]=s[a],f[11]=a,f}function So(o,s,a){const f=o.slice();return f[9]=s[a],f[11]=a,f}function No(o){let s,a,f,h,d,x=o[0].name+"",w,A,m,I,M,B,R,y,D,se;function V(z){o[6](z)}let L={passiveModal:!0,modalHeading:o[0].name,$$slots:{default:[Vc]},$$scope:{ctx:o}};return o[2]!==void 0&&(L.open=o[2]),B=new Wo({props:L}),bn.push(()=>Ho(B,"open",V)),{c(){s=xe("div"),a=xe("p"),f=Re("\uC9C4\uD589\uC911\uC778 \uC774\uBCA4\uD2B8"),h=Se(),d=xe("p"),w=Re(x),A=Se(),m=xe("img"),M=Se(),gt(B.$$.fragment),this.h()},l(z){s=we(z,"DIV",{id:!0,class:!0});var Y=ee(s);a=we(Y,"P",{class:!0});var W=ee(a);f=De(W,"\uC9C4\uD589\uC911\uC778 \uC774\uBCA4\uD2B8"),W.forEach(F),h=Ne(Y),d=we(Y,"P",{class:!0});var P=ee(d);w=De(P,x),P.forEach(F),A=Ne(Y),m=we(Y,"IMG",{src:!0,alt:!0,width:!0,height:!0,class:!0}),Y.forEach(F),M=Ne(z),St(B.$$.fragment,z),this.h()},h(){j(a,"class","sub-text svelte-ikuw0j"),j(d,"class","svelte-ikuw0j"),nr(m.src,I=o[0].image)||j(m,"src",I),j(m,"alt","boxing-glove"),j(m,"width","100"),j(m,"height","100"),j(m,"class","svelte-ikuw0j"),j(s,"id","event-info"),j(s,"class","svelte-ikuw0j")},m(z,Y){_e(z,s,Y),X(s,a),X(a,f),X(s,h),X(s,d),X(d,w),X(s,A),X(s,m),_e(z,M,Y),at(B,z,Y),y=!0,D||(se=Le(s,"click",o[5]),D=!0)},p(z,Y){(!y||Y&1)&&x!==(x=z[0].name+"")&&rt(w,x),(!y||Y&1&&!nr(m.src,I=z[0].image))&&j(m,"src",I);const W={};Y&1&&(W.modalHeading=z[0].name),Y&8193&&(W.$$scope={dirty:Y,ctx:z}),!R&&Y&4&&(R=!0,W.open=z[2],Uo(()=>R=!1)),B.$set(W)},i(z){y||(me(B.$$.fragment,z),y=!0)},o(z){Ie(B.$$.fragment,z),y=!1},d(z){z&&F(s),z&&F(M),ct(B,z),D=!1,se()}}}function Vc(o){let s,a,f,h,d,x=o[0].description+"",w;return{c(){s=xe("div"),a=xe("img"),h=Se(),d=xe("p"),w=Re(x),this.h()},l(A){s=we(A,"DIV",{class:!0});var m=ee(s);a=we(m,"IMG",{src:!0,alt:!0,width:!0,height:!0}),h=Ne(m),d=we(m,"P",{class:!0});var I=ee(d);w=De(I,x),I.forEach(F),m.forEach(F),this.h()},h(){nr(a.src,f=o[0].image)||j(a,"src",f),j(a,"alt","boxing-glove"),j(a,"width","100"),j(a,"height","100"),j(d,"class","svelte-ikuw0j"),j(s,"class","event-modal")},m(A,m){_e(A,s,m),X(s,a),X(s,h),X(s,d),X(d,w)},p(A,m){m&1&&!nr(a.src,f=A[0].image)&&j(a,"src",f),m&1&&x!==(x=A[0].description+"")&&rt(w,x)},d(A){A&&F(s)}}}function Ro(o){let s,a,f,h,d,x,w,A,m,I,M,B,R,y,D,se,V,L,z,Y,W,P,ce,U=o[1].slice(0,5),q=[];for(let Q=0;Q<U.length;Q+=1)q[Q]=Oo(So(o,U,Q));function he(Q){o[7](Q)}let ie={passiveModal:!0,modalHeading:"\uC2E4\uC2DC\uAC04 \uB7AD\uD0B9",$$slots:{default:[Hc]},$$scope:{ctx:o}};return o[3]!==void 0&&(ie.open=o[3]),z=new Wo({props:ie}),bn.push(()=>Ho(z,"open",he)),{c(){s=xe("div"),a=xe("p"),f=Re("\uC2E4\uC2DC\uAC04 \uB7AD\uD0B9"),h=Se(),d=xe("table"),x=xe("tr"),w=xe("th"),A=Re("\uC21C\uC704"),m=Se(),I=xe("th"),M=Re("\uC774\uB984"),B=Se(),R=xe("th"),y=Re("GM Token"),D=Se();for(let Q=0;Q<q.length;Q+=1)q[Q].c();se=Se(),V=xe("div"),L=Se(),gt(z.$$.fragment),this.h()},l(Q){s=we(Q,"DIV",{id:!0,class:!0});var fe=ee(s);a=we(fe,"P",{class:!0});var S=ee(a);f=De(S,"\uC2E4\uC2DC\uAC04 \uB7AD\uD0B9"),S.forEach(F),h=Ne(fe),d=we(fe,"TABLE",{class:!0});var le=ee(d);x=we(le,"TR",{});var ue=ee(x);w=we(ue,"TH",{class:!0});var te=ee(w);A=De(te,"\uC21C\uC704"),te.forEach(F),m=Ne(ue),I=we(ue,"TH",{class:!0});var Ae=ee(I);M=De(Ae,"\uC774\uB984"),Ae.forEach(F),B=Ne(ue),R=we(ue,"TH",{class:!0});var Xe=ee(R);y=De(Xe,"GM Token"),Xe.forEach(F),ue.forEach(F),D=Ne(le);for(let xt=0;xt<q.length;xt+=1)q[xt].l(le);le.forEach(F),se=Ne(fe),V=we(fe,"DIV",{id:!0,class:!0}),ee(V).forEach(F),fe.forEach(F),L=Ne(Q),St(z.$$.fragment,Q),this.h()},h(){j(a,"class","sub-text svelte-ikuw0j"),j(w,"class","svelte-ikuw0j"),j(I,"class","svelte-ikuw0j"),j(R,"class","svelte-ikuw0j"),j(d,"class","ranking-table svelte-ikuw0j"),j(V,"id","hider"),j(V,"class","svelte-ikuw0j"),j(s,"id","ranking"),j(s,"class","svelte-ikuw0j")},m(Q,fe){_e(Q,s,fe),X(s,a),X(a,f),X(s,h),X(s,d),X(d,x),X(x,w),X(w,A),X(x,m),X(x,I),X(I,M),X(x,B),X(x,R),X(R,y),X(d,D);for(let S=0;S<q.length;S+=1)q[S].m(d,null);X(s,se),X(s,V),_e(Q,L,fe),at(z,Q,fe),W=!0,P||(ce=Le(s,"click",o[4]),P=!0)},p(Q,fe){if(fe&2){U=Q[1].slice(0,5);let le;for(le=0;le<U.length;le+=1){const ue=So(Q,U,le);q[le]?q[le].p(ue,fe):(q[le]=Oo(ue),q[le].c(),q[le].m(d,null))}for(;le<q.length;le+=1)q[le].d(1);q.length=U.length}const S={};fe&8194&&(S.$$scope={dirty:fe,ctx:Q}),!Y&&fe&8&&(Y=!0,S.open=Q[3],Uo(()=>Y=!1)),z.$set(S)},i(Q){W||(me(z.$$.fragment,Q),W=!0)},o(Q){Ie(z.$$.fragment,Q),W=!1},d(Q){Q&&F(s),$r(q,Q),Q&&F(L),ct(z,Q),P=!1,ce()}}}function Oo(o){let s,a,f=o[9].rank+"",h,d,x,w=o[9].name+"",A,m,I,M=o[9].tokens+"",B,R;return{c(){s=xe("tr"),a=xe("td"),h=Re(f),d=Se(),x=xe("td"),A=Re(w),m=Se(),I=xe("td"),B=Re(M),R=Se(),this.h()},l(y){s=we(y,"TR",{});var D=ee(s);a=we(D,"TD",{class:!0});var se=ee(a);h=De(se,f),se.forEach(F),d=Ne(D),x=we(D,"TD",{class:!0});var V=ee(x);A=De(V,w),V.forEach(F),m=Ne(D),I=we(D,"TD",{class:!0});var L=ee(I);B=De(L,M),L.forEach(F),R=Ne(D),D.forEach(F),this.h()},h(){j(a,"class","svelte-ikuw0j"),j(x,"class","svelte-ikuw0j"),j(I,"class","svelte-ikuw0j")},m(y,D){_e(y,s,D),X(s,a),X(a,h),X(s,d),X(s,x),X(x,A),X(s,m),X(s,I),X(I,B),X(s,R)},p(y,D){D&2&&f!==(f=y[9].rank+"")&&rt(h,f),D&2&&w!==(w=y[9].name+"")&&rt(A,w),D&2&&M!==(M=y[9].tokens+"")&&rt(B,M)},d(y){y&&F(s)}}}function Do(o){let s,a,f=o[9].rank+"",h,d,x,w=o[9].name+"",A,m,I,M=o[9].tokens+"",B,R;return{c(){s=xe("tr"),a=xe("td"),h=Re(f),d=Se(),x=xe("td"),A=Re(w),m=Se(),I=xe("td"),B=Re(M),R=Se(),this.h()},l(y){s=we(y,"TR",{});var D=ee(s);a=we(D,"TD",{class:!0});var se=ee(a);h=De(se,f),se.forEach(F),d=Ne(D),x=we(D,"TD",{class:!0});var V=ee(x);A=De(V,w),V.forEach(F),m=Ne(D),I=we(D,"TD",{class:!0});var L=ee(I);B=De(L,M),L.forEach(F),R=Ne(D),D.forEach(F),this.h()},h(){j(a,"class","svelte-ikuw0j"),j(x,"class","svelte-ikuw0j"),j(I,"class","svelte-ikuw0j")},m(y,D){_e(y,s,D),X(s,a),X(a,h),X(s,d),X(s,x),X(x,A),X(s,m),X(s,I),X(I,B),X(s,R)},p(y,D){D&2&&f!==(f=y[9].rank+"")&&rt(h,f),D&2&&w!==(w=y[9].name+"")&&rt(A,w),D&2&&M!==(M=y[9].tokens+"")&&rt(B,M)},d(y){y&&F(s)}}}function Hc(o){let s,a,f,h,d,x,w,A,m,I,M,B,R=o[1],y=[];for(let D=0;D<R.length;D+=1)y[D]=Do(yo(o,R,D));return{c(){s=xe("div"),a=xe("table"),f=xe("tr"),h=xe("th"),d=Re("\uC21C\uC704"),x=Se(),w=xe("th"),A=Re("\uC774\uB984"),m=Se(),I=xe("th"),M=Re("GM Token"),B=Se();for(let D=0;D<y.length;D+=1)y[D].c();this.h()},l(D){s=we(D,"DIV",{class:!0});var se=ee(s);a=we(se,"TABLE",{class:!0});var V=ee(a);f=we(V,"TR",{});var L=ee(f);h=we(L,"TH",{class:!0});var z=ee(h);d=De(z,"\uC21C\uC704"),z.forEach(F),x=Ne(L),w=we(L,"TH",{class:!0});var Y=ee(w);A=De(Y,"\uC774\uB984"),Y.forEach(F),m=Ne(L),I=we(L,"TH",{class:!0});var W=ee(I);M=De(W,"GM Token"),W.forEach(F),L.forEach(F),B=Ne(V);for(let P=0;P<y.length;P+=1)y[P].l(V);V.forEach(F),se.forEach(F),this.h()},h(){j(h,"class","svelte-ikuw0j"),j(w,"class","svelte-ikuw0j"),j(I,"class","svelte-ikuw0j"),j(a,"class","ranking-table svelte-ikuw0j"),j(s,"class","ranking-modal flex justify-center")},m(D,se){_e(D,s,se),X(s,a),X(a,f),X(f,h),X(h,d),X(f,x),X(f,w),X(w,A),X(f,m),X(f,I),X(I,M),X(a,B);for(let V=0;V<y.length;V+=1)y[V].m(a,null)},p(D,se){if(se&2){R=D[1];let V;for(V=0;V<R.length;V+=1){const L=yo(D,R,V);y[V]?y[V].p(L,se):(y[V]=Do(L),y[V].c(),y[V].m(a,null))}for(;V<y.length;V+=1)y[V].d(1);y.length=R.length}},d(D){D&&F(s),$r(y,D)}}}function Gc(o){let s,a,f,h,d,x,w,A,m,I,M,B,R,y,D,se,V,L,z,Y=o[0]&&No(o),W=o[1]&&o[1].length>0&&Ro(o);return L=new Xa({props:{kind:"info",title:"\uACB0\uC81C \uC131\uACF5",subtitle:"100 T \uACB0\uC81C\uAC00 \uC131\uACF5\uC801\uC73C\uB85C \uC644\uB8CC\uB418\uC5C8\uC2B5\uB2C8\uB2E4."}}),{c(){s=Se(),a=xe("main"),Y&&Y.c(),f=Se(),W&&W.c(),h=Se(),d=xe("div"),x=xe("p"),w=Re("\uB2E4\uBC29\uBA74 \uD65C\uC6A9\uC774 \uAC00\uB2A5\uD55C"),A=Se(),m=xe("p"),I=Re("GM Token \uC794\uC561"),M=Se(),B=xe("p"),R=Re("100 T"),y=Se(),D=xe("canvas"),se=Se(),V=xe("div"),gt(L.$$.fragment),this.h()},l(P){xl("svelte-181cv6g",To.head).forEach(F),s=Ne(P),a=we(P,"MAIN",{class:!0});var U=ee(a);Y&&Y.l(U),f=Ne(U),W&&W.l(U),h=Ne(U),d=we(U,"DIV",{id:!0,class:!0});var q=ee(d);x=we(q,"P",{class:!0});var he=ee(x);w=De(he,"\uB2E4\uBC29\uBA74 \uD65C\uC6A9\uC774 \uAC00\uB2A5\uD55C"),he.forEach(F),A=Ne(q),m=we(q,"P",{class:!0});var ie=ee(m);I=De(ie,"GM Token \uC794\uC561"),ie.forEach(F),M=Ne(q),B=we(q,"P",{id:!0,class:!0});var Q=ee(B);R=De(Q,"100 T"),Q.forEach(F),y=Ne(q),D=we(q,"CANVAS",{id:!0}),ee(D).forEach(F),q.forEach(F),se=Ne(U),V=we(U,"DIV",{class:!0});var fe=ee(V);St(L.$$.fragment,fe),fe.forEach(F),U.forEach(F),this.h()},h(){To.title="GGM Club",j(x,"class","sub-text svelte-ikuw0j"),j(m,"class","svelte-ikuw0j"),j(B,"id","token"),j(B,"class","svelte-ikuw0j"),j(D,"id","qrcode"),j(d,"id","token-container"),j(d,"class","svelte-ikuw0j"),j(V,"class","absolute bottom-0 right-0 z-50"),j(a,"class","svelte-ikuw0j")},m(P,ce){_e(P,s,ce),_e(P,a,ce),Y&&Y.m(a,null),X(a,f),W&&W.m(a,null),X(a,h),X(a,d),X(d,x),X(x,w),X(d,A),X(d,m),X(m,I),X(d,M),X(d,B),X(B,R),X(d,y),X(d,D),X(a,se),X(a,V),at(L,V,null),z=!0},p(P,[ce]){P[0]?Y?(Y.p(P,ce),ce&1&&me(Y,1)):(Y=No(P),Y.c(),me(Y,1),Y.m(a,f)):Y&&(Vt(),Ie(Y,1,1,()=>{Y=null}),Ht()),P[1]&&P[1].length>0?W?(W.p(P,ce),ce&2&&me(W,1)):(W=Ro(P),W.c(),me(W,1),W.m(a,h)):W&&(Vt(),Ie(W,1,1,()=>{W=null}),Ht())},i(P){z||(me(Y),me(W),me(L.$$.fragment,P),z=!0)},o(P){Ie(Y),Ie(W),Ie(L.$$.fragment,P),z=!1},d(P){P&&F(s),P&&F(a),Y&&Y.d(),W&&W.d(),ct(L)}}}function zc(o,s,a){let f,h=[],d=!1,x=!1;async function w(){let B=await wo.get("eventData.json");a(0,f=B.data),B=await wo.get("rankingData.json"),a(1,h=B.data)}es(async()=>{const B=document.getElementById("qrcode");await ki.toCanvas(B,"asd",{width:150,margin:2,color:{dark:"#1f1f1f",light:"#ffffff"}})});async function A(){await w(),a(3,x=!0)}async function m(){await w(),a(2,d=!0)}w();function I(B){d=B,a(2,d)}function M(B){x=B,a(3,x)}return[f,h,d,x,A,m,I,M]}class Wc extends Pt{constructor(s){super(),Bt(this,s,zc,Gc,Nt,{})}}function Xc(o){let s,a,f,h,d,x,w,A;return a=new Tl({}),d=new Wc({}),w=new Sl({}),{c(){s=xe("main"),gt(a.$$.fragment),f=Se(),h=xe("div"),gt(d.$$.fragment),x=Se(),gt(w.$$.fragment),this.h()},l(m){s=we(m,"MAIN",{class:!0});var I=ee(s);St(a.$$.fragment,I),f=Ne(I),h=we(I,"DIV",{class:!0});var M=ee(h);St(d.$$.fragment,M),M.forEach(F),x=Ne(I),St(w.$$.fragment,I),I.forEach(F),this.h()},h(){j(h,"class","container svelte-omgea0"),j(s,"class","svelte-omgea0")},m(m,I){_e(m,s,I),at(a,s,null),X(s,f),X(s,h),at(d,h,null),X(s,x),at(w,s,null),A=!0},p:je,i(m){A||(me(a.$$.fragment,m),me(d.$$.fragment,m),me(w.$$.fragment,m),A=!0)},o(m){Ie(a.$$.fragment,m),Ie(d.$$.fragment,m),Ie(w.$$.fragment,m),A=!1},d(m){m&&F(s),ct(a),ct(d),ct(w)}}}class Yc extends Pt{constructor(s){super(),Bt(this,s,null,Xc,Nt,{})}}new Yc({target:document.getElementById("app")});
